"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[2879],{99154:(e,t,s)=>{s.r(t),s.d(t,{default:()=>j});var i=s(47313),l=s(34862),a=s(43411),n=s(97529),r=s(47330),o=(s(6940),s(65192),s(59606),s(98907),s(46417));const d=i.lazy((()=>Promise.all([s.e(6119),s.e(4261)]).then(s.bind(s,84261)))),c=i.lazy((()=>Promise.all([s.e(510),s.e(9090)]).then(s.bind(s,64442)))),p=i.lazy((()=>s.e(1349).then(s.bind(s,81349)))),u=e=>{let{itemData:t,wallID:s,wall:l,ownerId:a,isVisible:n}=e;const r=!(3!==t.type&&5!==t.type||!n||1!=l.ThemeRule.autoPlay);return(0,o.jsxs)("div",{className:"tb_rt_media_wrap",role:"button",tabIndex:"0","aria-label":"Pop Up Button",children:[(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(p,{itemData:t,IconClass:"tb_rt_media_icon",show:!0,hideVideo:!0})}),r?(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(c,{VideoClass:"tb_rt_video",data:t,wallID:s,themeID:l.Personalization.widgetTheme,ownerId:a,size:178,isCover:!0,muted:!0,autoPlay:!0})}):(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(d,{ImageClass:"tb_rt_image",data:t,wallID:s,themeID:l.Personalization.widgetTheme,ownerId:a,size:178})})]})};var m=s(17739),h=s(35179);const _=i.lazy((()=>s.e(5810).then(s.bind(s,25810)))),b=i.lazy((()=>s.e(1502).then(s.bind(s,11502)))),g=i.lazy((()=>s.e(4235).then(s.bind(s,24235))));class w extends i.PureComponent{constructor(e){super(e),this.mediaHeight=i.createRef()}componentDidMount(){const{itemData:e,onClickPopUpSlider:t,itemIndex:s}=this.props;(h.nX||h.ig)&&(0,m.YN)(this.mediaHeight),e.isPopUp&&t(s,e)}render(){const{itemData:e,itemIndex:t,wallID:s,ownerId:l,wall:a,isVisible:n,clickToShowPopUp:r,ThemeRule:d,personalization:c}=this.props,p=!!(e.ugc_products&&e.ugc_products.length>0),m={backgroundColor:d.cardColor},w=!(!h.ig||""==d.shoppingText||!p||d.hideContent),x=!(!h.ig||!p||0!==e.hotspot),y=!!(h.ig&&e.hotspot&&p),j=0==d.postHover&&h.ig?"light":"dark",f=3===e.type||5===e.type;return(0,o.jsx)("div",{"item-id":e.id,id:"tb-hc-post-".concat(e.id),className:"tb_rt_post_wrapper",ref:this.mediaHeight,"post-id":e.referenceId?e.referenceId:e.id,"feed-id":e.feedId,style:{padding:a.Personalization.padding/2},"tb-product":x?1:y?2:0,"area-label":e.content,role:"article",tabIndex:"0",children:(0,o.jsx)("div",{className:"tb_rt_post_in tb_icon_animate ".concat(h.ig?"":"tb_rt_post_in_animate"),style:m,onClick:r(t,e),role:"button","aria-roledescription":"Click to open pop up",tabIndex:"0",children:(0,o.jsxs)("div",{className:"tb_rt_post_media_wrapp",role:"button",tabIndex:"0","aria-label":"Pop Up Button",children:[f&&1==d.showReelsView&&(null===e||void 0===e?void 0:e.views)>0?(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(g,{count:null===e||void 0===e?void 0:e.views})}):null,(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(u,{itemData:e,wallID:s,wall:a,ownerId:l,preload:0==t,isVisible:n},"img".concat(t,"_").concat(e.id))}),h.ig?null:(0,o.jsx)("div",{className:"tb_rt_play_ico",children:(0,o.jsx)("div",{className:"tb__icon tb-play",children:(0,o.jsx)("div",{})})}),(0,o.jsxs)("div",{className:"tb_rt_post_details",children:[(0,o.jsx)("div",{className:"tb_rt_social_",children:(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(_,{networkClass:"tb_rt_social_ico_",network:e.network,ThemeRule:d,isDefault:1===d.iconType,Personalization:c})})}),w?(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(b,{ThemeRule:d,btnClass:"tb_rt_btn_wrap"})}):null]}),(0,o.jsx)("div",{className:"tb_rt_post_overlay tb_rt_post_overlay-".concat(j),children:(0,o.jsx)("div",{})})]})})})}}var x=s(43635);class y extends i.Component{constructor(e){super(e),this.requestData=e=>{const{appendData:t,wall:s,preRender:i,hasMoreData:l,getDataNextSteps:a,loaderData:n}=this.props;e.progress>.8&&l&&!n.isShowMoreLoading&&a(s.Wall.id,Math.floor(Date.now()/1e3),s.ThemeRule.numberOfPosts,t.networkID,t.after,i,t.heightEvent)},this.reScrolled=()=>{setTimeout((()=>{let e=document.querySelector(".splide__list"),t=document.querySelector(".splide__slide").offsetWidth;const s=document.querySelectorAll(".splide__slide.is-visible").length,i=document.querySelector(".splide__slide.is-active.is-visible").getAttribute("aria-label").substring(0,2),l=Number(i)+(s-1)+s;l>0?(e.style.transition="0s ease",e.style.transform="translateX(-".concat(l*t,"px)")):e.style.transform="translateX(0px)"}),200)},this.inputRefs={}}componentDidMount(){setTimeout((()=>{document.querySelectorAll(".splide__slide").forEach(((e,t)=>{e.removeAttribute("role")}))}),100);const{postData:e}=this.props;if(e&&1==e.length){let e=document.querySelector(".tb_rt_arrow_left__"),t=document.querySelector(".tb_rt_arrow_right__");e&&t&&(document.querySelector(".tb_rt_arrow_left__").style="display:none",document.querySelector(".tb_rt_arrow_right__").style="display:none")}}componentDidUpdate(){const e=Object.values(this.inputRefs)[0],{postData:t,completeDataObject:s,onClickPopUpSlider:i,parentID:l}=this.props;if(e&&Object.values(e)[5].length>0){Object.values(e)[5].map(((e,a)=>{if(e.classList){const a=String(e.classList.value).split(" ").filter((e=>String(e).includes("tb_")));var n=a[0];String(a[0]).includes("tb_")&&(n=String(a[0]).replace("tb_",""));const r=t.findIndex((e=>e==n));let o=document.querySelectorAll(".tb_rt_post_container #".concat(e.id));for(let e=0;e<o.length;e++){let t=o[e],a=t.getAttribute("p_id");String(l)===String(a)&&t.addEventListener("click",(e=>{e.preventDefault();const t=s[n];i(r,t)}))}}}))}}render(){const{postData:e,completeDataObject:t,wall:s,clickToShowPopUp:i,hasMoreData:a,parentID:d,keyRender:c,onClickPopUpSlider:p}=this.props,u=d,m=s.ThemeRule.numberOfCoumn,_=s.ThemeRule.mobileColumn,b=s.ThemeRule.slidePost,g=s.ThemeRule.slideDuration,x=(s.Personalization.trimcontent,h.Jx&&[151513].includes(s.Wall.owner)?0:.6);return(0,o.jsx)(o.Fragment,{children:""!=d?(0,o.jsx)("div",{className:"tb_rt_post_container",ref:this.sliderHeight,children:(0,o.jsx)(n.tq,{ref:e=>this.inputRefs[u]=e,style:{width:"100%"},onScroll:e=>this.requestData(e),onSlideChange:e=>this.requestData(e),onAutoplay:e=>this.requestData(e),autoHeight:!0,speed:700,edgeSwipeDetection:!0,slidesPerView:"auto",touchRatio:2,cssMode:l.tq,passiveListeners:!0,height:"250px",freeMode:{enabled:!0,sticky:!1,momentumBounceRatio:2,momentumVelocityRatio:3},autoplay:!(!h.ig&&!h.Jx)&&{delay:1===b?1e3*g:99e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},loop:!a,breakpoints:{0:{slidesPerView:0==_?1+x:parseInt(_)+x},480:{slidesPerView:0==_?1+x:parseInt(_)+x},575:{slidesPerView:0==_?2+x:parseInt(_)+x},767:{slidesPerView:0==m?3+x:parseInt(m)+x},1024:{slidesPerView:0==m?5+x:parseInt(m)+x},1400:{slidesPerView:0==m?6+x:parseInt(m)+x},1600:{slidesPerView:0==m?7+x:parseInt(m)+x}},mousewheel:{forceToAxis:!0,sensitivity:2},watchSlidesProgress:!0,modules:[r.pt,r.Gk,r.Rv],className:"tb_rt_post_slider",children:(0,o.jsx)(o.Fragment,{children:e&&e.length>0&&e.map(((e,l)=>{const a=t[e];return h.ig||1!=a.type?(0,o.jsx)(n.o5,{style:{margin:0,padding:0},p_id:d,className:"tb_".concat(a.id),children:e=>{let{isVisible:t}=e;return(0,o.jsx)(w,{isVisible:t,ownerId:s.Wall.owner,itemData:a,itemIndex:l,personalization:s.Personalization,ThemeRule:s.ThemeRule,wallID:s.Wall.id,clickToShowPopUp:i,wall:s,onClickPopUpSlider:p})}},l):null}))})},c)}):null})}}const j=(0,i.memo)((0,a.$j)((e=>({loaderData:e.loaderData})),(e=>({getDataNextSteps:(t,s,i,l,a,n,r,o)=>e((0,x.Sx)(t,s,i,l,a,n,r,o))})))(y))},65192:()=>{},59606:()=>{},98907:()=>{}}]);