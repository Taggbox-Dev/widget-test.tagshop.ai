{"version":3,"file":"static/js/7144.2341da19.chunk.js","mappings":"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","sources":["app/Header/HeaderType/HeaderTypeCustom.js","utils/Common.js"],"sourcesContent":["import React, { PureComponent } from \"react\";\nimport { GET_IMAGE_SIZE } from \"../../../utils/Common\";\nimport { isSocialWall } from \"../../../actions/api\";\nimport './scss/HeaderTypeCustom.scss'\n\nexport default class HeaderTypeCustom extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      height: '5',\n      width: '100',\n      error: ''\n    };\n  }\n  async UNSAFE_componentWillMount() {\n    const { ImageUrl } = this.props\n    const { width, height } = await GET_IMAGE_SIZE(ImageUrl);\n    this.setState({\n      height: (height * 100) / width,\n      width: (width * 100) / height\n    })\n  }\n  render() {\n    const ImageUrl = { backgroundImage: `url(${this.props.ImageUrl})`, paddingBottom: this.state.height + '%', width: '100%' }\n    return (\n      <div className=\"tb_wall_custom_header_wrap__\">\n        <div className={`tb_header_img_ ${isSocialWall ? `socialwall` : ``}`} style={ImageUrl}> </div>\n      </div>\n    );\n  }\n}\n","import { AUTH_TOKEN, isTagbox, isTagShop, Pwidget, reelsPlay, tagembed, tbox, test, wUrl } from \"../actions/api\";\nimport { WebUrl } from \"../constants\";\nimport store from \"../store\";\nimport { dataSource } from '../actions/themeActions'\n\nlet reelPlayTime = [];\nlet playAdded = false;\n\nconst headers = new Headers({\n    'Content-Type': 'application/json',\n    'Authorization': `Bearer ${AUTH_TOKEN}`,\n    'Productdomain': tbox\n});\n\n\nexport const tb_onsite_btn_disabled = (a) =>\n    document.getElementById(\"tb_onsite_btn_id\")?.classList.toggle(\"tb_onsite_btn_disabled\", a === 1);\n\n\nexport const onWindowEvent = (s) => ({\n    1: () => window.onShowDemoPost(1),\n    2: () => window.hendleFeeds(\"addFeeds\"),\n    3: () => window.hendleFeeds(\"manageFeeds\")\n}[s]?.());\n\nexport const formatUnixTimestamp = (timestamp) => {\n    const date = new Date(timestamp * 1000);\n    const monthNames = [\n        'January', 'February', 'March', 'April', 'May', 'June',\n        'July', 'August', 'September', 'October', 'November', 'December'\n    ];\n    return `${monthNames[date.getMonth()]} ${date.getDate()}, ${date.getFullYear()}`;\n}\n\nexport const reelPlayTimeUpdateData = (time) => {\n    try {\n        reelPlayTime.push(time)\n    }\n    catch (ex) {\n        console.log(ex)\n    }\n}\n\nexport const isValidAuthorImage = (url) => url && url !== \"\" && !url.includes('ui-avatars');\n\nexport const bytesToSize = (b) => {\n    const units = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n    if (!b) return '0 Byte';\n    const i = Math.floor(Math.log(b) / Math.log(1024));\n    return { size: Math.round(b / Math.pow(1024, i), 2), sizeText: units[i] };\n};\n\n\nexport const ensureFullyQualifiedUrl = (url) =>\n    url.startsWith('http://') || url.startsWith('https://') ? url : 'https://' + url;\n\nexport const timeAgo = (timestamp) => {\n    const diff = Date.now() - timestamp * 1000;\n    const units = [\n        { label: \"year\", ms: 31536000000 },\n        { label: \"month\", ms: 2592000000 },\n        { label: \"week\", ms: 604800000 },\n        { label: \"day\", ms: 86400000 },\n        { label: \"hour\", ms: 3600000 },\n        { label: \"minute\", ms: 60000 }\n    ];\n\n    if (diff < 60000) return \"just now\";\n\n    const unit = units.find(({ ms }) => diff >= ms);\n    const value = Math.floor(diff / unit.ms);\n    return `${value} ${unit.label}${value > 1 ? \"s\" : \"\"} ago`;\n}\n\n\nexport const STRING_TO_URL_CONVERT = (string) => {\n    try {\n        if (!string?.includes(\"http\")) return string;\n        return [...new Set(string.match(/(((ftp|https?):\\/\\/)[\\w@:%_\\+.~#?&//=]+)/g))].reduce(\n            (result, url) =>\n                result.replaceAll(\n                    url,\n                    `<a class=\"text_links_\" role=\"link\" target=\"_blank\" href=\"${url}\">${url}</a>`\n                ),\n            string\n        );\n    } catch {\n        return string;\n    }\n};\n\nexport const brandingUrl = () => [`${WebUrl}`, 'Website Widget'];\nexport const GET_MEDIA_NAME = (p) => p && String(p) ? unescape(p).split('/').pop().split(\"/\").slice(-1).join().split(\".\").shift() : '';\n\n\nexport const mainClass = ![\"localhost\", \"widget\", \"wall_id=\"].every((key) => wUrl(key))\n    ? (isTagbox || [`${Pwidget}.${tagembed}`, `${Pwidget}${test}${tagembed}`, `${Pwidget}s.${tagembed}`].some((url) => wUrl(url)))\n        ? \"tag_main__root\"\n        : isTagShop\n            ? \"taggShopRoot\"\n            : \"taggbox_main\"\n    : \"taggbox_main\";\n\n\nexport const kFormatter = (value) => {\n    const suffixes = [\"\", \"K\", \"M\", \"B\", \"T\"];\n    const index = Math.floor(Math.log10(value) / 3) || 0;\n    return index ? +(value / Math.pow(1e3, index)).toFixed(0) + suffixes[index] : value;\n};\n\nexport const convertToAtob = (isValue) => isTagbox ? isValue : atob(isValue)\n\n\nexport const isHex = (color) => color?.startsWith('#');\n\nexport const hexToRgb = (hex) => {\n    if (isHex(hex)) {\n        const bigint = parseInt(hex.slice(1), 16);\n        return {\n            r: (bigint >> 16) & 255,\n            g: (bigint >> 8) & 255,\n            b: bigint & 255,\n        };\n    } else {\n        const matches = hex?.match(/\\d+/g)?.map(Number) || [0, 0, 0];\n        return { r: matches[0], g: matches[1], b: matches[2] };\n    }\n};\n\nexport const colorDistanceLight = (color) => {\n    const { r, g, b } = hexToRgb(color);\n    return Math.sqrt((255 - r) ** 2 + (255 - g) ** 2 + (255 - b) ** 2) <= 30;\n};\n\nexport const colorDistanceDark = (color) => {\n    const { r, g, b } = hexToRgb(color);\n    return Math.sqrt((r - 50) ** 2 + (g - 50) ** 2 + (b - 50) ** 2) < 50;\n};\n\n\nexport const getTextColor = (textColor, bgColor) => {\n\n    if (textColor?.startsWith('rgba')) textColor = '#000000';\n\n    const isColorMatch = (color, matches) => matches.some((match) => color?.includes(match));\n    const isWhite = (color) => isColorMatch(color, ['ffffff', '255, 255, 255', '#fff']);\n    const isBlack = (color) => isColorMatch(color, ['000000', '0, 0, 0', '#000']);\n\n    const [similarWhite, similarDark] = [colorDistanceLight(textColor), colorDistanceDark(textColor)];\n    const [similarWhiteBg, similarDarkBg] = [colorDistanceLight(bgColor), colorDistanceDark(bgColor)];\n\n    if ((similarWhite && similarWhiteBg) || (isWhite(textColor) && isWhite(bgColor))) return '#000000';\n    if ((similarDark && similarDarkBg) || (isBlack(textColor) && isBlack(bgColor))) return '#ffffff';\n\n    return textColor;\n}\n\n\nexport const findFromArray = (d, i, n) => d && d.length > 0 ? d.findIndex(c => c.id === i) : n;\n\n\nexport const reelPlayTimeUpdate = () => {\n    try {\n        const { wall } = store.getState().appData;\n        const { webId, wallId, ownerId } = wall.ThemeInfo;\n        if (!playAdded) {\n            window.addEventListener('beforeunload', () => {\n                if (reelPlayTime.length === 0) return;\n\n                const playTime = reelPlayTime.reduce((total, time) => total + time, 0);\n                if (playTime > 0) {\n                    fetch(reelsPlay, {\n                        method: 'POST',\n                        headers,\n                        body: JSON.stringify({\n                            action: 1,\n                            model: dataSource?.includes(\"website\") ? \"website\" : \"wall\",\n                            playCount: reelPlayTime.length,\n                            wall: isTagShop ? webId : wallId,\n                            playTime,\n                            owner: ownerId,\n                        }),\n                        keepalive: true,\n                    }).finally(() => (reelPlayTime = [], playAdded = false));\n                } else {\n                    reelPlayTime = [];\n                    playAdded = false;\n                }\n            });\n\n            playAdded = true;\n        }\n    } catch (ex) {\n        console.error(ex);\n    }\n};\n\n\nexport const GET_IMAGE_SIZE = (url) =>\n    new Promise((resolve, reject) =>\n        Object.assign(new Image(), {\n            onload: function () { resolve({ width: this.naturalWidth, height: this.naturalHeight }); },\n            onerror: (e) => reject(new Error(`Image loading error: ${e.message}`)),\n            src: url\n        })\n    );\n"],"names":["HeaderTypeCustom","PureComponent","constructor","props","super","this","state","height","width","error","UNSAFE_componentWillMount","ImageUrl","GET_IMAGE_SIZE","setState","render","backgroundImage","paddingBottom","_jsx","className","children","isSocialWall","style","reelPlayTime","playAdded","headers","Headers","AUTH_TOKEN","tbox","tb_onsite_btn_disabled","a","_document$getElementB","document","getElementById","classList","toggle","onWindowEvent","s","_$2$3$s","_$2$","window","onShowDemoPost","hendleFeeds","call","formatUnixTimestamp","timestamp","date","Date","getMonth","getDate","getFullYear","reelPlayTimeUpdateData","time","push","ex","console","log","isValidAuthorImage","url","includes","bytesToSize","b","i","Math","floor","size","round","pow","sizeText","ensureFullyQualifiedUrl","startsWith","timeAgo","diff","now","unit","label","ms","find","_ref","value","STRING_TO_URL_CONVERT","string","Set","match","reduce","result","replaceAll","brandingUrl","WebUrl","GET_MEDIA_NAME","p","String","unescape","split","pop","slice","join","shift","mainClass","every","key","wUrl","isTagbox","Pwidget","tagembed","test","some","isTagShop","kFormatter","index","log10","toFixed","convertToAtob","isValue","atob","hexToRgb","hex","color","bigint","parseInt","r","g","_hex$match","matches","map","Number","colorDistanceLight","sqrt","colorDistanceDark","getTextColor","textColor","bgColor","_textColor","isColorMatch","isWhite","isBlack","similarWhite","similarDark","similarWhiteBg","similarDarkBg","findFromArray","d","n","length","findIndex","c","id","reelPlayTimeUpdate","wall","store","getState","appData","webId","wallId","ownerId","ThemeInfo","addEventListener","playTime","total","fetch","reelsPlay","method","body","JSON","stringify","action","model","dataSource","playCount","owner","keepalive","finally","Promise","resolve","reject","Object","assign","Image","onload","naturalWidth","naturalHeight","onerror","e","Error","message","src"],"sourceRoot":""}