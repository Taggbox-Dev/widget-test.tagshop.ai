"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[638],{99154:(e,t,i)=>{i.r(t),i.d(t,{default:()=>I});var s=i(47313),l=i(34862),r=i(43411),o=i(97529),n=i(47330),a=(i(6940),i(65192),i(59606),i(98907),i(84261)),d=i(64442),c=i(35179),p=i(81349),u=i(46417);const m=e=>{let{itemData:t,wallID:i,wall:s,ownerId:l,preload:r,isVisible:o}=e;const n=3===t.type||5===t.type;return(0,u.jsxs)("div",{className:"tb_rt_media_wrap",children:[(0,u.jsx)(p.Z,{itemData:t,IconClass:"tb_rt_media_icon",show:!0}),n?(0,u.jsx)(d.Z,{VideoClass:"tb_rt_video",data:t,wallID:i,themeID:s.Personalization.widgetTheme,ownerId:l,size:178,isCover:!0,muted:!0}):(0,u.jsx)(a.default,{ImageClass:"tb_rt_image",data:t,wallID:i,themeID:s.Personalization.widgetTheme,ownerId:l,size:178})]})};var _=i(17739),h=i(25810),b=i(11502);class w extends s.PureComponent{constructor(e){super(e),this.mediaHeight=s.createRef()}componentDidMount(){c.nX&&(0,_.YN)(this.mediaHeight)}render(){const{itemData:e,itemIndex:t,wallID:i,ownerId:s,wall:l,isVisible:r,clickToShowPopUp:o,ThemeRule:n,personalization:a}=this.props,d=!!(e.ugc_products&&e.ugc_products.length>0),p=""==n.postHover||1!=n.postHover?" tb_rt_post_overlay-light":" tb_rt_post_overlay-dark",_={backgroundColor:n.cardColor},w=!(!c.ig||!d||n.hideContent),g=!(!c.ig||!d||0!==e.hotspot),y=!!(c.ig&&e.hotspot&&d);return(0,u.jsx)("div",{"item-id":e.id,id:"tb-hc-post-".concat(e.id),className:"tb_rt_post_wrapper",ref:this.mediaHeight,"post-id":e.referenceId?e.referenceId:e.id,"feed-id":e.feedId,style:{padding:l.Personalization.padding/2},"tb-product":g?1:y?2:0,children:(0,u.jsx)("div",{className:"tb_rt_post_in tb_icon_animate ".concat(c.ig?"":"tb_rt_post_in_animate"),style:_,onClick:o(t,e),children:(0,u.jsxs)("div",{className:"tb_rt_post_media_wrapp",children:[(0,u.jsx)(m,{itemData:e,wallID:i,wall:l,ownerId:s,preload:0==t,isVisible:r}),c.ig?null:(0,u.jsx)("div",{className:"tb_rt_play_ico",children:(0,u.jsx)("div",{className:"tb__icon tb-play",children:(0,u.jsx)("div",{})})}),(0,u.jsxs)("div",{className:"tb_rt_post_details",children:[(0,u.jsx)("div",{className:"tb_rt_social_",children:(0,u.jsx)(h.default,{networkClass:"tb_rt_social_ico_",network:e.network,ThemeRule:n,isDefault:1===n.iconType,Personalization:a})}),w?(0,u.jsx)(b.Z,{ThemeRule:n,btnClass:"tb_rt_btn_wrap"}):null]}),(0,u.jsx)("div",{className:"tb_rt_post_overlay".concat(p),children:(0,u.jsx)("div",{})})]})})})}}var g=i(43635);class y extends s.Component{constructor(e){super(e),this.state={windowWidth:document.getElementById(_.u$)&&document.getElementById(_.u$).clientWidth?document.getElementById(_.u$).clientWidth:window.innerWidth},this.requestData=e=>{const{appendData:t,wall:i,preRender:s,hasMoreData:l,getDataNextSteps:r,loaderData:o}=this.props;e.progress>.8&&l&&!o.isShowMoreLoading&&r(i.Wall.id,Math.floor(Date.now()/1e3),i.ThemeRule.numberOfPosts,t.networkID,t.after,s,t.heightEvent)},this.reScrolled=()=>{setTimeout((()=>{let e=document.querySelector(".splide__list"),t=document.querySelector(".splide__slide").offsetWidth;const i=document.querySelectorAll(".splide__slide.is-visible").length,s=document.querySelector(".splide__slide.is-active.is-visible").getAttribute("aria-label").substring(0,2),l=Number(s)+(i-1)+i;l>0?(e.style.transition="0s ease",e.style.transform="translateX(-".concat(l*t,"px)")):e.style.transform="translateX(0px)"}),200)},this.inputRefs={}}componentWillMount(){const{renderId:e}=this.props.renderId;this.setState({windowWidth:e?document.getElementById(e).clientWidth:document.getElementById(_.u$)&&document.getElementById(_.u$).clientWidth?document.getElementById(_.u$).clientWidth:window.innerWidth})}componentDidMount(){setTimeout((()=>{document.querySelectorAll(".splide__slide").forEach(((e,t)=>{e.removeAttribute("role")}))}),100);const{postData:e}=this.props;if(e&&1==e.length){let e=document.querySelector(".tb_rt_arrow_left__"),t=document.querySelector(".tb_rt_arrow_right__");e&&t&&(document.querySelector(".tb_rt_arrow_left__").style="display:none",document.querySelector(".tb_rt_arrow_right__").style="display:none")}}componentDidUpdate(){const e=Object.values(this.inputRefs)[0],{postData:t,completeDataObject:i,onClickPopUpSlider:s,parentID:l}=this.props;if(e&&Object.values(e)[5].length>0){Object.values(e)[5].map(((e,r)=>{if(e.classList){const r=String(e.classList.value).split(" ").filter((e=>String(e).includes("tb_")));var o=r[0];String(r[0]).includes("tb_")&&(o=String(r[0]).replace("tb_",""));const n=t.findIndex((e=>e==o));let a=document.querySelectorAll(".tb_rt_post_container #".concat(e.id));for(let e=0;e<a.length;e++){let t=a[e],r=t.getAttribute("p_id");String(l)===String(r)&&t.addEventListener("click",(e=>{e.preventDefault();const t=i[o];s(n,t)}))}}}))}}render(){const{postData:e,completeDataObject:t,wall:i,clickToShowPopUp:s,hasMoreData:r,parentID:a,keyRender:d}=this.props,p=a,m=i.ThemeRule.numberOfCoumn,_=i.ThemeRule.mobileColumn,h=i.ThemeRule.slidePost,b=i.ThemeRule.slideDuration,g=1===i.Personalization.trimcontent;return(0,u.jsx)(u.Fragment,{children:""!=a?(0,u.jsx)("div",{className:"tb_rt_post_container",ref:this.sliderHeight,children:(0,u.jsx)(o.tq,{ref:e=>this.inputRefs[p]=e,style:{width:"100%"},onScroll:e=>this.requestData(e),onSlideChange:e=>this.requestData(e),onAutoplay:e=>this.requestData(e),autoHeight:!0,speed:700,edgeSwipeDetection:!0,slidesPerView:"auto",touchRatio:2,cssMode:l.tq,passiveListeners:!0,height:"250px",freeMode:{enabled:!0,sticky:!1,momentumBounceRatio:2,momentumVelocityRatio:3},autoplay:!!c.ig&&{delay:1===h?1e3*b:99e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},loop:!r,breakpoints:{0:{slidesPerView:0==_?1.6:parseInt(_)+.6},480:{slidesPerView:0==_?1.6:parseInt(_)+.6},575:{slidesPerView:0==_?2.6:parseInt(_)+.6},767:{slidesPerView:0==m?3.6:parseInt(m)+.6},1024:{slidesPerView:0==m?5.6:parseInt(m)+.6},1400:{slidesPerView:0==m?6.6:parseInt(m)+.6},1600:{slidesPerView:0==m?7.6:parseInt(m)+.6}},mousewheel:{forceToAxis:!0,sensitivity:2},watchSlidesProgress:!0,modules:[n.pt,n.Gk,n.Rv],className:"tb_rt_post_slider ".concat(g?"tb_rt_fixed_height":""),children:(0,u.jsx)(u.Fragment,{children:e&&e.length>0&&e.map(((e,l)=>{const r=t[e];return c.ig||3===r.type||5===r.type?(0,u.jsx)(o.o5,{style:{margin:0,padding:0},p_id:a,className:"tb_".concat(r.id),children:e=>{let{isVisible:t}=e;return(0,u.jsx)(w,{isVisible:t,ownerId:i.Wall.owner,itemData:r,itemIndex:l,personalization:i.Personalization,ThemeRule:i.ThemeRule,wallID:i.Wall.id,clickToShowPopUp:s,wall:i})}},l):null}))})},d)}):null})}}const I=(0,s.memo)((0,r.$j)((e=>({loaderData:e.loaderData})),(e=>({getDataNextSteps:(t,i,s,l,r,o,n,a)=>e((0,g.Sx)(t,i,s,l,r,o,n,a))})))(y))}}]);