"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[628],{60628:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var a=n(47313),s=n(61395),i=n.n(s),o=n(17739),c=n(35179),l=n(46417);const r=(0,a.lazy)((()=>n.e(1330).then(n.bind(n,41330)))),d=(0,a.lazy)((()=>n.e(3196).then(n.bind(n,63196)))),p=(0,a.lazy)((()=>Promise.all([n.e(6390),n.e(8342)]).then(n.bind(n,62245)))),h=(0,a.lazy)((()=>n.e(5744).then(n.bind(n,5744)))),_=(0,a.lazy)((()=>n.e(7138).then(n.bind(n,7138)))),m=(0,a.lazy)((()=>n.e(905).then(n.bind(n,90905)))),b=(0,a.lazy)((()=>n.e(2675).then(n.bind(n,32675)))),g=c.ZQ?null:200,u=e=>{let{itemData:t,personalization:n,adjustWidth:s,ThemeRule:i,clickToShowPopUp:u,itemIndex:x,wallID:j,ownerId:w,onClickToCTA:k,wall:T,counter:f,onClickPopUpSlider:D}=e;const C=(0,a.useRef)(null),I={width:"".concat(s,"%"),padding:n.padding/2},S=1!==t.type,y=t.rating>0,z=t.rating>0?"tb_nc_rating_content":"tb_nc_content",P=1===t.type&&n.textDecorate?"tb_nc_text_decoration tb_nc_text_post":"",v=!!(t.cta&&Object.keys(t.cta).length>0&&t.cta.status),N=n.trimcontent?(0,o.Sv)(t.content,g):t.content;(0,a.useEffect)((()=>{c.ig&&(0,o.YN)(C)}),[]),(0,a.useEffect)((()=>{t.isPopUp&&D(x,t)}),[x,t.isPopUp,t]);t.font;return(0,l.jsx)("div",{id:"tb-nc-post-".concat(t.id),className:"tb_nc_post_wrapper ".concat(c.ZQ&&(0,o.mD)(59)||c.Jx&&(0,o.mD)(83)?"tb_nc_post_gradient tb_nc_gradient-".concat(f):""),style:I,"tb-network":t.network.icon,"post-id":t.referenceId?t.referenceId:t.id,"feed-id":t.feedId,ref:C,tabIndex:"0","area-label":N,role:"article",children:(0,l.jsx)("div",{className:"tb_nc_post_wrap_in",children:(0,l.jsxs)("div",{className:"tb_nc_post_in",onClick:u(x,t),role:"button","aria-roledescription":"Click to open pop up",tabIndex:"0",children:[(0,l.jsxs)("div",{className:"tb_nc_post_media_wrapp",role:"button",tabIndex:"0","aria-label":"Pop Up Button",children:[t.share.status?(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)(l.Fragment,{}),children:(0,l.jsx)(h,{share:t.share,shareClass:"tb_nc_share_container",item:t,wallID:j,ownerId:w})}):"",S?(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)(l.Fragment,{}),children:(0,l.jsx)(d,{itemData:t,wallID:j,ownerId:w,wall:T},"img_".concat(t.id))}):"",!y||c.ZQ||(0,o.mD)(59)||c.ig?"":(0,l.jsx)("div",{className:"tb_nc_rating__",children:(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)(l.Fragment,{}),children:(0,l.jsx)(m,{rating:t.rating,network:t.network,ThemeID:59==n.widgetTheme?n.widgetTheme:null})})})]}),(0,l.jsxs)("div",{className:"tb_nc_contant_wrapper",children:[(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)(l.Fragment,{}),children:(0,l.jsx)(r,{mediaType:S,ownerId:w,itemData:t.id,postTime:t.createdAt,author:t.author,network:t.network,font:i,personalization:n,ThemeRule:i})}),c.ZQ?"":v?(0,l.jsx)("div",{className:"tb_nc_post_cta",children:(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)(l.Fragment,{}),children:(0,l.jsx)(_,{ctaClass:"tb_nc_post_cta_btn",cta:t.cta,item:t,onClickToCTA:k})})}):"",y&&(c.ZQ&&((0,o.mD)(59)||(0,o.mD)(19))||c.ig)?(0,l.jsx)("div",{className:"tb_nc_rating__",children:(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)(l.Fragment,{}),children:(0,l.jsx)(m,{rating:t.rating,network:t.network,ThemeID:59==n.widgetTheme?n.widgetTheme:null})})}):"",c.ig&&i.hideContent||!c.ig&&!i.hideContent||1==t.type?(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)(l.Fragment,{}),children:(0,l.jsx)(p,{contentClass:"".concat(z," ").concat(P),item:t,content:N,font:i,ThemeRule:i,personalization:n,contentTitle:t.contentTitle})}):"",c.ZQ&&v?(0,l.jsx)("div",{className:"tb_nc_post_cta",children:(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)(l.Fragment,{}),children:(0,l.jsx)(_,{ctaClass:"tb_nc_post_cta_btn",cta:t.cta,item:t,onClickToCTA:k})})}):""]}),i.socialAction?(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)(l.Fragment,{}),children:(0,l.jsx)(b,{itemData:t,ThemeRule:i,ThemeID:n.widgetTheme,actionClass:"tb_nc_social_action__"})}):""]})})})};var x=n(43411),j=n(43635);class w extends a.PureComponent{constructor(){super(...arguments),this.state={postData:[],loadData:1},this.onLoadMasonry=()=>{this.editorHeight()},this.editorHeight=()=>{var e=document.querySelector(".tb_nc_post_container");if(e){const t=e.style.height;if(t){const e=t.split("px");e&&JSON.stringify(e)&&e[0]>0&&this.props.managePostHeight("".concat(t))}}}}componentDidMount(){const{postData:e}=this.props,t=this;setTimeout((()=>this.setState({postData:e,loadData:1},(()=>this.onLoadMasonry()))),100),window.addEventListener("resize",(function(e){t.editorHeight()}),!0)}componentWillReceiveProps(e){const{postData:t}=e;this.setState({postData:t,loadData:1},(()=>this.onLoadMasonry()))}render(){const{postData:e,completeDataObject:t,adjustWidth:n,wall:a,postSize:s,clickToShowPopUp:o,onClickToCTA:r,onClickPopUpSlider:d}=this.props,{loadData:p}=this.state;let h=0;return(0,l.jsx)(i(),{className:"tb_nc_post_container",tabIndex:"0","aria-label":"There are ".concat(e&&e.length>0?e.length:0," posts in the feed"),role:"feed",elementType:"div",options:{transitionDuration:0,percentPosition:!0,itemSelector:".tb_nc_post_wrapper",horizontalOrder:!0,resize:!0},disableImagesLoaded:!1,updateOnEachImageLoad:!1,imagesLoadedOptions:{},enableResizableChildren:!0,children:p?e&&e.length>0&&e.map(((e,i)=>{const p=t[e];return h=c.ZQ||c.Jx&&83==a.Personalization.widgetTheme?i%6===0?1:h+1:1,(0,l.jsx)(u,{ownerId:a.Wall.owner,itemData:p,itemIndex:i,adjustWidth:1==p.highlight?2*n:n,postSize:s,personalization:a.Personalization,ThemeRule:a.ThemeRule,wallID:a.Wall.id,clickToShowPopUp:o,onClickToCTA:r,wall:a,counter:h,onClickPopUpSlider:d},i)})):null})}}const k=(0,x.$j)((e=>({postHeight:e.postHeight.data})),(e=>({managePostHeight:t=>e((0,j.B0)(t))})))(w)}}]);