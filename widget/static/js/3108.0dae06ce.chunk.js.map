{"version":3,"file":"static/js/3108.0dae06ce.chunk.js","mappings":"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","sources":["app/Components/PostPopUp/Elements/PopUpImage.js","app/Themes/Elements/Hotspot/Hotspot.js"],"sourcesContent":["import React, { PureComponent, Component } from \"react\";\nimport { POPUP_IMAGE_RENEW_REQUEST } from '../../../../actions/themeActions'\nimport { getImageSize } from 'react-image-size';\nimport Hotspot from \"../../../Themes/Elements/Hotspot/Hotspot\";\nimport PostBranding from \"../../../Themes/Elements/Branding/PostBranding\";\nimport { GET_MEDIA_NAME } from \"../../../../utils\";\nimport { isTagShop } from \"../../../../actions/api\";\n\nexport default class PopUpImage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      mediaLoaded: false,\n      largerHeight: 0,\n      imgSize: {\n        small: props.data.postFileNew,\n        large: props.data.filename,\n        orignal: props.data.file\n      }\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const { data } = nextProps\n    if (this.props.data !== data) {\n      this.setState({\n        imgSize: {\n          small: data.postFileNew,\n          large: data.filename,\n          orignal: data.file\n        }\n      })\n    }\n  }\n  render() {\n    const { data, wall, opacity, mediaSize } = this.props\n    const { mediaLoaded, imgSize } = this.state\n    const isHotspot = data.hotspot && data.ugc_products.length > 0 ? true : false\n    const imgStyle = {\n      opacity: opacity, filter: mediaLoaded ? 'blur(2px)' : null,\n      //aspectRatio: `${mediaSize.width}/${mediaSize.height}` \n    }\n    return (\n      <div className={`tb_post_modal_img_holder`}>\n        {data?.postBranding ? <PostBranding size={2} /> : null}\n        {isHotspot ? <Hotspot product={data.ugc_products} dataItem={data} /> : null}\n        <img\n          className=\"tb_post_modal_img_\"\n          decoding=\"async\"\n          ref={this.mediaRef}\n          src={imgSize.small}\n          srcSet={`${imgSize.large}, 991w ${imgSize.small}, 480w`}\n          sizes={mediaSize && mediaSize.width}\n          alt={GET_MEDIA_NAME(imgSize.small)}\n          data-link={data.link}\n          data-network={data.network.id}\n          data-wall-id={wall.Wall.id}\n          data-owner-id={wall.Wall.owner}\n          data-item-id={data.id}\n          data-feed-id={data.feedId ? data.feedId : \"\"}\n          data-filter-id={data.filterId}\n          data-load=\"0\"\n          onLoad={this.handleImageLoad}\n          onError={!data.stories ? (e) => { POPUP_IMAGE_RENEW_REQUEST(e) } : null}\n          key={imgSize.small}\n          loading=\"lazy\"\n          draggable=\"false\"\n          width={mediaSize && mediaSize.width}\n          height={mediaSize && mediaSize.height}\n          style={imgStyle} />\n      </div>\n    );\n  }\n}\n\n","import React, { PureComponent, Suspense } from \"react\";\nimport { connect } from 'react-redux';\nimport { componentWillAppendToBody } from \"react-append-to-body\";\nimport { Tooltip } from 'react-tooltip';\nimport \"./scss/Hotspot.scss\";\nimport { generateUniqueString } from '../../../../utils'\nimport { themePostTracking } from '../../../../actions/themeActions';\n\nconst MyComponent = ({ children }) => {\n  return children;\n}\n\nconst AppendedView = componentWillAppendToBody(MyComponent);\nconst htmlString = (product) => {\n  const discountPrice = product.product_discount > 0 ? product.product_discount : product.product_price;\n  const originalPrice = product.product_discount > 0 && product.product_discount != product.product_price ?\n    `<div class=\"tb_p_tooltip_price tb_price_disabled\">${product.price_currency_symbol}${product.product_price}</div>` : '';\n  const priceHtml = product.product_price > 0 || product.product_discount > 0 ?\n    `${originalPrice}<div class=\"tb_p_tooltip_price\">${product.price_currency_symbol}${discountPrice}</div>` : '';\n\n  return `<a href=\"${product.product_url}\" target=\"_blank\" class=\"tb_tooltip_wrap\">\n          <div class=\"tb_p_tooltip_title\">${product.product_title}</div>\n          ${priceHtml}\n        </a>`;\n}\n\nclass Hotspot extends PureComponent {\n  state = { activeMouse: null }\n\n  setActiveMouse = (index) => {\n    return index\n  }\n  tracking = (product) => {\n    const { appData, dataItem } = this.props;\n    if (appData && Object.keys(appData).length > 0) {\n      const { wall } = appData;\n      themePostTracking({\n        type: 1, action: 2, wall: wall?.Wall?.id, product_id: product.id, post: dataItem.referenceId, owner: wall?.Wall?.owner, feed: dataItem.feedId, currency: product.price_currency, price: product.product_discount > 0 ? product.product_discount : product.product_price\n      })\n    }\n  }\n  render() {\n    const { product, appData } = this.props;\n    const { activeMouse } = this.state;\n    const Hotspot = appData && Object.keys(appData).length > 0 ? appData.wall.ProductSetting.Hotspot : ''\n    return (Hotspot.status ? <div className=\"tb_hotspot_wrap\">\n      {product.map((item, index) => {\n        const uniqueString = generateUniqueString();\n        return <div key={index} href={item.product_url} id={`tb_hotspot-${item.id}${uniqueString}`} onClick={event => { this.tracking(item.UgcProduct); event.stopPropagation(); }} onMouseEnter={event => this.setActiveMouse(index)} onMouseOut={event => this.setActiveMouse(null)} className={`tb_hotspot_dot${activeMouse == index ? ' tb_hotspot_active_' : ''}`} style={{ top: item.hotspot_cordinates.top, left: item.hotspot_cordinates.left }} data-tooltip-offset={7}>\n          <div className={`tb_hotspot__ ${Hotspot.type == 0 ? 'tb_hotspot_ani__' : ''}`} onClick={event => window.open(item.UgcProduct.product_url, '_blank')}>{index + 1}</div>\n          <AppendedView><Tooltip className=\"tb_pro_tooltip\" anchorSelect={`#tb_hotspot-${item.id}${uniqueString}`} clickable html={htmlString(item.UgcProduct)} /></AppendedView>\n        </div>\n      })\n      }\n    </div >\n      : null\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    appData: state.appData\n  }\n}\n\nexport default connect(mapStateToProps)(Hotspot);"],"names":["PopUpImage","Component","constructor","props","super","this","state","mediaLoaded","largerHeight","imgSize","small","data","postFileNew","large","filename","orignal","file","componentWillReceiveProps","nextProps","setState","render","wall","opacity","mediaSize","isHotspot","hotspot","ugc_products","length","imgStyle","filter","_jsxs","className","children","postBranding","_jsx","PostBranding","size","Hotspot","product","dataItem","decoding","ref","mediaRef","src","srcSet","concat","sizes","width","alt","GET_MEDIA_NAME","link","network","id","Wall","owner","feedId","filterId","onLoad","handleImageLoad","onError","stories","e","POPUP_IMAGE_RENEW_REQUEST","loading","draggable","height","style","AppendedView","componentWillAppendToBody","_ref","htmlString","discountPrice","product_discount","product_price","originalPrice","price_currency_symbol","priceHtml","product_url","product_title","PureComponent","arguments","activeMouse","setActiveMouse","index","tracking","appData","Object","keys","_wall$Wall","_wall$Wall2","themePostTracking","type","action","product_id","post","referenceId","feed","currency","price_currency","price","ProductSetting","status","map","item","uniqueString","generateUniqueString","href","onClick","event","UgcProduct","stopPropagation","onMouseEnter","onMouseOut","top","hotspot_cordinates","left","window","open","Tooltip","anchorSelect","clickable","html","connect"],"sourceRoot":""}