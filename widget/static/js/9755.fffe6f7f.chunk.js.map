{"version":3,"file":"static/js/9755.fffe6f7f.chunk.js","mappings":"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","sources":["actions/ImageRenewAction.js","app/Themes/Elements/Media/Image.js","app/Components/ReelPopUp/Elements/ReelProducts.js","app/Components/ReelPopUp/Elements/ReelVideo.js","app/Components/ReelPopUp/Elements/ReelMediaSlider.js","app/Components/ReelPopUp/Elements/ReelMedia.js","app/Components/ReelPopUp/Elements/ReelBranding.js","app/Components/ReelPopUp/ReelBody.js","app/Components/ReelPopUp/PostPopUp.js","app/Components/ReelPopUp/index.js","app/Themes/Elements/Hotspot/Hotspot.js"],"sourcesContent":["import { CloudUrl, NO_IMAGE } from \"../constants\";\r\nimport store from \"../store\";\r\nimport { isTagbox, isTagShop, tbox, UPDATE_STATUS } from \"./api\";\r\nimport { isUpdateFrom } from \"./commonAction\";\r\nimport HttpClient from \"./http-client\";\r\n\r\nlet imgQue = [];\r\nexport let dataSource;\r\n \r\nexport const checkImageUrl = async (url) =>\r\n    [\"taggbox.com\", \"tagbox.com\", \"tagembed.com\", \"socialwalls.com\"].some((item) => url.includes(item)) || \r\n    (await fetch(url).then((res) => res.ok).catch(() => false));\r\n \r\n\r\nexport const POPUP_IMAGE_RENEW_REQUEST = (event) => {\r\n    event.persist();\r\n    const target = event.target;\r\n    const { network, itemId, themeId } = target.dataset;\r\n    if (network == 1 && ![3, 4, 16, 47, 50, 55, 60].includes(themeId)) {\r\n        const element = document.querySelector(`.tb_media-${itemId}`);\r\n        if (element) element.style.display = \"none\";\r\n    } else if (!imgQue.includes(event)) {\r\n        imgQue.push(event);\r\n    }\r\n    if (imgQue.length === 1) processImageInQueue();\r\n};\r\n\r\nconst formatPostData = (data, wall, res) => {\r\n    const { UserPlan, Wall } = wall;\r\n    return {\r\n        table_name: UserPlan?.db_table,\r\n        ...data,\r\n        ...(res?.length ? {\r\n            feedId: res[0]?.feedId,\r\n            type: res[0]?.type,\r\n            link: res[0]?.link,\r\n            postFile: res[0]?.postFile,\r\n            mediaFile: res[0]?.mediaFile,\r\n        } : {}),\r\n        url: Wall?.url,\r\n    };\r\n};\r\n\r\n\r\n// export const updateInstagramPodstImage = (data) => {\r\n//     const { postData, wall } = store.getState().appData;\r\n//     const res = postData?.completeDataObject\r\n//         ? Object.values(postData.completeDataObject).filter((val) => val.id === data.postId)\r\n//         : [];\r\n\r\n//     if (res.length) {\r\n//         const dataFormatted = formatPostData(data, wall, res);\r\n//         checkImageUrl(res[0]?.postFileNew)\r\n//             .then((isValid) => {\r\n//                 if (!isValid) {\r\n//                     new HttpClient()\r\n//                         .post(UPDATE_STATUS, dataFormatted, { headers: isUpdateFrom })\r\n//                         .catch(console.error);\r\n//                 }\r\n//             })\r\n//             .catch(({ response }) => console.log(response));\r\n//     }\r\n// };\r\n\r\n\r\nconst processImageInQueue = async () => {\r\n    const { postData, wall } = store.getState().appData;\r\n    if (!wall || !Object.keys(wall).length || !imgQue.length) return;\r\n\r\n    const { User, Wall } = wall;\r\n    const ownerId = User?.id;\r\n    const wallId = isTagShop && dataSource === \"website\" && Wall?.wallId ? Wall.wallId : Wall?.id;\r\n\r\n    const target = imgQue[0]?.target;\r\n    const { filterId, network, itemId, load } = target.dataset;\r\n    const imgTargets = document.querySelector(`img[data-item-id=\"${itemId}\"]`);\r\n    const res = postData?.completeDataObject\r\n        ? Object.values(postData.completeDataObject).filter((val) => val.id === itemId)\r\n        : [];\r\n\r\n    if (res?.length) {\r\n        const isValid = await checkImageUrl(res[0]?.postFileNew);\r\n        if (!isValid && imgTargets) {\r\n            if (\r\n                [2, 18, 3, 28].includes(+network) &&\r\n                load === \"0\" &&\r\n                filterId !== \"34\" &&\r\n                !target.src.includes(\"cloud.taggbox.com\")\r\n            ) {\r\n                const dataFormatted = formatPostData(\r\n                    {\r\n                        wallId,\r\n                        postId: itemId,\r\n                        ownerId,\r\n                    },\r\n                    wall,\r\n                    res\r\n                );\r\n                try {\r\n                    const { data } = await new HttpClient().post(UPDATE_STATUS, dataFormatted, { headers: isUpdateFrom });\r\n                    const baseUrl = isTagShop || isTagbox ? \"\" : `https://images.${tbox}/`;\r\n                    target.src = network === \"18\" ? `${baseUrl}${data.media}` : data.media;\r\n                } catch {\r\n                    target.src = NO_IMAGE;\r\n                } finally {\r\n                    dataLoad(target);\r\n                }\r\n            } else {\r\n                target.src = NO_IMAGE;\r\n                dataLoad(target);\r\n            }\r\n            imgQue.shift();\r\n            processImageInQueue();\r\n        } else {\r\n            const src = `${CloudUrl}/media/images/no-image.svg`;\r\n            target.src = src;\r\n            target.srcset = src;\r\n            dataLoad(target);\r\n            imgQue.shift();\r\n        }\r\n    }\r\n};\r\n\r\nconst dataLoad = (target)=> target.setAttribute(\"data-load\", \"1\")\r\n \r\n\r\n\r\n","import React, { PureComponent, Suspense } from \"react\"; \r\nimport { GET_IMAGE_SIZE } from '../../../../utils/Common'\r\nimport { CloudUrl } from \"../../../../constants\";\r\nimport { POPUP_IMAGE_RENEW_REQUEST } from \"../../../../actions/ImageRenewAction\";\r\nimport Hotspot from '../Hotspot/Hotspot';\r\nexport default class Image extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        const { mediaOnly, Post } = props;\r\n        this.state = {\r\n            height: mediaOnly?.height || Post?.media?.height || 0,\r\n            width: mediaOnly?.width || Post?.media?.width || 0,\r\n            currentHeight: 0,\r\n            currentWidth: 0,\r\n        };\r\n        this.mediaRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this._isMounted = true;\r\n        requestAnimationFrame(() => {\r\n            this.updateMediaDimensions();\r\n            this.mediaSizeCalc();\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false;\r\n    }\r\n\r\n    updateMediaDimensions = () => {\r\n        if (this.mediaRef.current) {\r\n            const { offsetHeight, offsetWidth } = this.mediaRef.current;\r\n            this.setState({\r\n                currentHeight: offsetHeight,\r\n                currentWidth: offsetWidth,\r\n            });\r\n        }\r\n    };\r\n\r\n    mediaSizeCalc = async () => {\r\n        const { Post, mediaOnly } = this.props;\r\n        const media = mediaOnly ? mediaOnly : Post.media;\r\n        if (!media?.height && !media?.width) {\r\n            try {\r\n                const { width, height } = await GET_IMAGE_SIZE(media?.image?.small);\r\n                if (this._isMounted) {\r\n                    this.setState({\r\n                        height: height,\r\n                        width: width,\r\n                    });\r\n                }\r\n            } catch (error) {\r\n                if (this._isMounted) {\r\n                    this.setState({\r\n                        height: 300,\r\n                        width: 300,\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const { height, width } = this.state;\r\n        const { ImageClass, Post, hotspot, size, blurBG, ProductSetting, mediaOnly, inView, multiKey, index } = this.props;\r\n        const { id, link, products } = Post;\r\n        const media = mediaOnly ? mediaOnly : Post?.media;\r\n        const { currentWidth, currentHeight } = this.state;\r\n\r\n        const paddingSize = size || (height * 100) / width;\r\n        const imageStyle = {\r\n            paddingBottom: paddingSize === 1 ? null : `${paddingSize}%`,\r\n        };\r\n\r\n        const blurImgStyle = {\r\n            backgroundImage: inView ? `url(${media?.image?.small})` : null,\r\n        };\r\n\r\n        const newWidth = width > height ? '100%' : `${(width / height) * 100}%`;\r\n        const newHeight = width > height ? `${(height / width) * 100}%` : '100%';\r\n\r\n        const isHotspot = Post.isProduct && hotspot && Post.hotspot;\r\n        const hotspotImgStyle = { width: isHotspot && size ? newWidth : null, height: isHotspot && size ? newHeight : null };\r\n        \r\n        return (\r\n            <div className={`${ImageClass}_wrap_`} style={imageStyle} ref={this.mediaRef}>\r\n                {isHotspot && blurBG ? <div className=\"tb_blur_bg_\" style={blurImgStyle}></div> : null}\r\n                <div className={`${ImageClass}_wrap_in`} style={hotspotImgStyle}>\r\n                    {isHotspot  ? (\r\n                        <Hotspot key={index}  products={this.props.multiPic ? Post.mediaList[multiKey].product : products} ProductSetting={ProductSetting} hotspot={Post.hotspot} dataPost={Post}  showTooltip={null} />\r\n                    ) : null}\r\n                    {inView ? <img\r\n                        key={`${id}-${height}-${width}-${inView}`}\r\n                        className={`${ImageClass} tb_media-${id}`}\r\n                        src={media?.image?.small}\r\n                        srcSet={`${media?.image?.small} 1x, ${media?.image?.large} 2x`}\r\n                        sizes={`${currentWidth}px`}\r\n                        loading={inView ? \"eager\" : \"lazy\"}\r\n                        decoding=\"async\"\r\n                        fetchPriority={inView ? \"high\" : \"low\"}\r\n                        data-id={id}\r\n                        height={currentHeight}\r\n                        width={currentWidth}\r\n                        data-height={height}\r\n                        data-width={width}\r\n                        data-link={link}\r\n                        onLoad={this.onLoad}\r\n                        onError={(e) => {\r\n                            e.target.src = `${CloudUrl}/media/error/no-image.svg`;\r\n                            e.target.srcset = `${CloudUrl}/media/error/no-image.svg`;\r\n                            POPUP_IMAGE_RENEW_REQUEST(e);\r\n                        }}\r\n                        alt={media?.title}\r\n                        title={media?.title}\r\n                    />:null}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { useState, memo } from 'react' \r\nimport { fetchShopifyProduct } from '../../../../actions/cartActions';\r\nimport { themePostTracking } from '../../../../actions/moredataAction';\r\n\r\nconst ReelProducts = ({ product, wall, onsetProductImg, openAddtocart, item, setOnProductDetails }) => {\r\n\r\n    const { ThemeInfo, ProductSetting } = wall\r\n    const [noImg, setNoImg] = useState(false)\r\n    const [loading, setLoading] = useState(false)\r\n    const tracking = (product) => themePostTracking({ type: 1, action: 2, wall: ThemeInfo.webId, product_id: product.id, post: item.referenceId, owner: ThemeInfo.ownerId, feed: item.feedId, currency: product.currency, price: product.discount > 0 ? product.discount : product.price })\r\n    const Button = ProductSetting.Button;\r\n\r\n    const checkForShopify = async () => {\r\n        setLoading(true)\r\n        const itemDetails = {};\r\n        if (product && product.url) {\r\n            try {\r\n                if (ThemeInfo.ownerId == 140717 || ProductSetting?.Button?.pdp_target == 1) {\r\n                    openUrl(product.url)\r\n                    onsetProductImg(product.image)\r\n                    setLoading(false)\r\n                    tracking(wall, product)\r\n                }\r\n                else { \r\n                    const isMagento = product.createdFrom == \"magento\" || false\r\n                    if (product.createdFrom != \"\") {\r\n                         fetchShopifyProduct(product.url, isMagento, { productId: product.sku, storeId: product.storeId })\r\n                            .then(res => {\r\n\r\n\r\n                                if (isMagento && res.status == false) {\r\n                                    itemDetails[product.id] = {\r\n                                        data: { available: true },\r\n                                        showCart: ThemeInfo.ownerId !== 140717\r\n                                    };\r\n                                }\r\n                                else {\r\n                                    const productData = isMagento && res?.data?.data || res?.data;\r\n                                    const formatProduct = isMagento ? { available: true } : {}\r\n                                    itemDetails[product.id] = {\r\n                                        data: productData?.id ? { ...productData, ...formatProduct } : null,\r\n                                        showCart: productData?.id && ThemeInfo.ownerId !== 140717\r\n                                    };\r\n                                }\r\n\r\n                                onsetProductImg(res?.data?.featured_image ? res.data.featured_image : product.image)\r\n                                setLoading(false)\r\n                               // setOnProductDetails(itemDetails)\r\n                                openAddtocart(itemDetails, product.id, product)\r\n                            })\r\n                            .catch(error => {\r\n                                console.log('error', error)\r\n                                openUrl(product.url)\r\n                                onsetProductImg(product.image)\r\n                                setLoading(false)\r\n                                tracking(wall, product)\r\n                            });\r\n                    } else {\r\n                        openUrl(product.url)\r\n                        onsetProductImg(product.image)\r\n                        setLoading(false)\r\n                        tracking(wall, product)\r\n                    }\r\n                }\r\n\r\n            } catch (error) {\r\n                console.log('error', error)\r\n                openUrl(product.url)\r\n                setLoading(false)\r\n\r\n            }\r\n        }\r\n    }\r\n    const openUrl = (url) => {\r\n        const { Button } = ProductSetting\r\n        var newUrl = url;\r\n        if (parseInt(Button.newTab) == 2) window.parent.location.href = newUrl\r\n        else window.open(newUrl, '_blank');\r\n    }\r\n \r\n    return <div className={`tb_rpp_pro ${noImg ? \"ts_reelTheme_No_Product\" : \"\"}`} key={product.id}>\r\n        {!noImg ? <div className='tb_rpp_pro_img'>\r\n            <img src={product.image} alt=\"\" onError={() => setNoImg(true)} />\r\n        </div> : null}\r\n        <div className=\"tb_rpp_pro_cont\">\r\n            <div className=\"tb_rpp_pro_title\">\r\n                {product.title}\r\n            </div>\r\n            {product.price > 0 || product.discount > 0 ?\r\n                <div className=\"tb_rpp_p_wrap\">\r\n                    <div className=\"tb_rpp_p\">\r\n                        {product.currency}{product.discount > 0 ? product.discount : product.price}\r\n                    </div>\r\n                    {product.discount == 0 || product.price == product.discount ? <></> :\r\n                        <div className=\"tb_rpp_p tb_rpp_d_p\">\r\n                            {product.currency}{product.price}\r\n                        </div>}\r\n                </div> : null}\r\n            <div className={`tb_rpp_btn${loading ? ' tb_rpp_btn_spinner' : \"\"}`} disabled={loading} onClick={() => { checkForShopify(); }}>{Button.text} </div>\r\n\r\n        </div>\r\n    </div>  \r\n}\r\n\r\nexport default memo(ReelProducts)","import React, { PureComponent } from \"react\";\r\nimport ReactPlayer from \"react-player\"\r\nimport { isTagShop } from \"../../../../actions/api\"; \r\nimport { reelPlayTimeUpdateData } from \"../../../../utils/Common\";\r\nexport default class ReelVideo extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loadError: false,\r\n            paddingBottom: 100,\r\n            videoLoaded: false,\r\n            played: 0\r\n        }\r\n    }\r\n    setVideoLoaded = event => {  \r\n        this.setState({\r\n            videoLoaded: event\r\n        })\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const { played } = this.state\r\n        if (isTagShop) reelPlayTimeUpdateData(played)\r\n    }\r\n\r\n    onUpdateTime = (progress) => {   \r\n        try {\r\n            if (isTagShop) this.setState({ played: this.state.played + progress.playedSeconds })\r\n        }\r\n        catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { VideoClass, Post, controls, handleVideoEnded, muted, currentView, inView } = this.props\r\n        const { videoLoaded } = this.state\r\n        const { media, height, width, id, link, networkId } = Post\r\n        const videoStyle = {\r\n            paddingBottom: `100vh`,\r\n        };\r\n\r\n        return <div className={`${VideoClass}_wrap_`} style={videoStyle}> \r\n            <ReactPlayer\r\n                key={`${id}-${currentView}-${link}`}\r\n                className={`${VideoClass} tb_media-${id}`}\r\n                url={inView ? media.video.full : media?.image?.small}\r\n                data-height={height}\r\n                data-width={width}\r\n                data-type=\"video\"\r\n                data-network={networkId}\r\n                data-link={link}\r\n                data-item-id={id}\r\n                data-load={0}\r\n                config={{\r\n                    facebook: {\r\n                    appId: '117029975354072',\r\n                    attributes: {\r\n                        'data-width': width,\r\n                        'data-height': height,\r\n                        poster: media?.image?.small,\r\n                    },\r\n                    },\r\n                    file: {\r\n                    attributes: {\r\n                        preload: 'auto',\r\n                        poster: media?.image?.small,\r\n                        playsInline: true, // Add playsinline attribute\r\n                    },\r\n                    },\r\n                }}\r\n                autoPlay={currentView ? 1 : 0}\r\n                loop={true}\r\n                muted={currentView && muted} // Mute the video for autoplay\r\n                volume={currentView && muted ? 0 : 1}\r\n                playsinline={true} // Add playsinline prop\r\n                playing={currentView} // Autoplay when `autoPlay` is true\r\n                height={'100%'}\r\n                width={'100%'}\r\n                controls={controls}\r\n                onReady={() => this.setVideoLoaded(true)}\r\n                onProgress={this.onUpdateTime}\r\n                onEnded={handleVideoEnded || null}\r\n                />\r\n\r\n            {!videoLoaded ? <div className='tb_rpp_v_spinner'><div></div></div> : null}\r\n        </div>\r\n    }\r\n}\r\n\r\n\r\n\r\n","import React, { PureComponent } from \"react\";\r\nimport { Splide, SplideSlide } from \"@splidejs/react-splide\";\r\nimport { isTagShop } from \"../../../../actions/api\";\r\nimport Image from \"../../../Themes/Elements/Media/Image\";\r\nimport ReelVideo from \"./ReelVideo\";\r\n\r\nconst mediaDimension = JSON.parse(\r\n  window.localStorage.getItem(\"mediaDimension\")\r\n);\r\n\r\nexport default class ReelMediaSlider extends PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      mediaSize: {\r\n        height: mediaDimension != null ? mediaDimension[0] : \"85vh\",\r\n        width: mediaDimension != null ? mediaDimension[1] : \"85vh\",\r\n      }\r\n    }\r\n  }\r\n  mediaSize = (mediaSize) => this.props.mediaSizeCallback(mediaSize);\r\n\r\n  render() {\r\n    const { Post, wallID, size, onUpdateProdImgIdx, inView } = this.props;\r\n    const muted = false;\r\n\r\n    return (\r\n      <div key={Post.id} className=\"tb_rp_media_holder\">\r\n        <Splide\r\n          options={{\r\n            direction: \"ltr\",\r\n            pagination: true,\r\n            arrows: false,\r\n            speed: 400,\r\n            rewind: true,\r\n            perPage: 1,\r\n            perMove: 1,\r\n            gap: 0,\r\n            updateOnMove: true,\r\n            wheel: false, // Disable mouse wheel\r\n            paginationDirection: \"ltr\",\r\n            classes: {\r\n              pagination: `splide__pagination tb_rp_bullet`,\r\n            },\r\n          }}\r\n          onMoved={(splide, index) => onUpdateProdImgIdx(index)}\r\n        >\r\n          {Post.mediaList.map((imageItem, index) => (\r\n            <SplideSlide key={index}>\r\n              {[2, 4].includes(imageItem.type) ? (\r\n                <Image\r\n                  ImageClass=\"tb_rp_image\"\r\n                  Post={Post}\r\n                  mediaOnly={imageItem}\r\n                  size={size}\r\n                  multiPic={1}\r\n                  multiKey={index}\r\n                  hotspot={imageItem.product.length ? isTagShop : false}\r\n                  inView={true}\r\n                />\r\n              ) : [3, 5].includes(imageItem.type) ? (\r\n                  <ReelVideo\r\n                    VideoClass=\"tb_rp_video\"\r\n                    media={imageItem.video.full}\r\n                    mediaPoster={imageItem.image.original}\r\n                    Post={{...Post, media : { video : imageItem.video , image : imageItem.image }}}\r\n                    wallID={wallID}\r\n                    size={size}\r\n                    isCover={true}\r\n                    controls={false}\r\n                    autoPlay={true}\r\n                    muted={muted}\r\n                    index={index}\r\n                    inView={inView}\r\n                  />\r\n              ) : null}\r\n            </SplideSlide>\r\n          ))}\r\n        </Splide>\r\n      </div>\r\n    );\r\n  }\r\n}","import React, { Suspense, memo } from \"react\";\r\nimport { isTagShop } from \"../../../../actions/api\";\r\nimport Image from \"../../../Themes/Elements/Media/Image\";\r\nimport ReelVideo from \"./ReelVideo\";\r\nimport ReelMediaSlider from \"./ReelMediaSlider\";\r\n\r\nconst ReelMedia = (props) => {\r\n  const { Post, muted, index, wallID, inView, currentView } = props;\r\n  const size = false;\r\n\r\n  return (\r\n      Post.mediaList && Post.mediaList.length > 0 ? (\r\n          <ReelMediaSlider Post={Post} {...props} />\r\n          ) : [2,4].includes(Post.type) && inView ? (\r\n              <Image\r\n                ImageClass=\"tb_rp_image\"\r\n                Post={Post}\r\n                size={size}\r\n                hotspot={Post?.product?.length ? isTagShop : false}\r\n                blurBG={false}\r\n                observer={false}\r\n                index={index}\r\n                inView={inView}\r\n              />\r\n          ) : [3,5].includes(Post.type) && inView ? (\r\n              <ReelVideo\r\n                VideoClass=\"tb_rp_video\"\r\n                Post={Post}\r\n                size={size}\r\n                wallID={wallID}\r\n                isCover={true}\r\n                controls={false}\r\n                currentView={currentView}\r\n                muted={muted}\r\n                handleVideoEnded={() => {}}\r\n                index={index}\r\n                inView={inView}\r\n              />\r\n          ) : null\r\n  );\r\n};\r\nexport default memo(ReelMedia);\r\n","import React, { PureComponent } from \"react\";\r\nimport { CloudUrl, WebUrl } from \"../../../../constants\";\r\n\r\nfunction importantCss(el) {\r\n  el.style.setProperty('visibility', 'visible', 'important');\r\n  el.style.setProperty('opacity', '1', 'important');\r\n  el.style.setProperty('display', 'flex', 'important');\r\n  el.style.setProperty('transform', 'none', 'important');\r\n  el.style.setProperty('clip-path', 'initial', 'important');\r\n  el.style.setProperty('border', 'none', 'important');\r\n}\r\n\r\nexport default class ReelBranding extends PureComponent {\r\n  render() {\r\n    const logoName = 'tagshop-branding.svg'\r\n    return (\r\n      <a href={WebUrl} target={'_blank'}\r\n        ref={(el) => {\r\n          if (el) {\r\n            el.style.setProperty('margin-right', '15px', 'important');\r\n            el.style.setProperty('width', '90px', 'important');\r\n            el.style.setProperty('height', 'auto', 'important');\r\n            importantCss(el)\r\n          }\r\n        }}>\r\n        <img ref={(el) => {\r\n          if (el) {\r\n            el.style.setProperty('width', '100%', 'important');\r\n            el.style.setProperty('height', 'auto', 'important');\r\n            importantCss(el)\r\n          }\r\n        }}\r\n          src={`${CloudUrl}/media/logo/${logoName}`}\r\n        />\r\n      </a>\r\n    );\r\n  }\r\n}\r\n","import React, { memo,  useState } from 'react';\r\nimport ReelProducts from './Elements/ReelProducts'\r\nimport ReelMedia from './Elements/ReelMedia'\r\nimport ReelBranding from './Elements/ReelBranding';\r\n\r\nconst ReelBody = ({ wall, item, onsetProductImg, openAddtocart,  index, currentView, muteToggle, muted, inView }) => {\r\n    const isVideo = [3,5].includes(item.type) ? true : false\r\n    const { ThemeInfo, ProductSetting } = wall\r\n    const [activeIndex, setactiveIndex] = useState(0)\r\n\r\n    const onUpdateProdImgIdx=(Idx)=>{\r\n        setactiveIndex(Idx)\r\n    }\r\n\r\n    const GetProducts=(products)=>{\r\n\r\n        return <div className='tb_rpp_slide_wrap'>\r\n            {products.products && products.products.map((product, index) => {\r\n                return <ReelProducts key={index} product={product} openAddtocart={openAddtocart} onsetProductImg={onsetProductImg} wall={wall} item={item} />\r\n            })}\r\n            </div>\r\n    }\r\n\r\n    return <><ReelMedia Post={item} wallID={ThemeInfo.wallId} onUpdateProdImgIdx={onUpdateProdImgIdx} ownerId={ThemeInfo.ownerId} ThemeID={ThemeInfo.id} wall={wall} muted={muted} currentView={currentView} index={index} inView={inView}/>\r\n\r\n            <div className='tb_rp_content'>  \r\n                { ProductSetting &&  item.isProduct ? <GetProducts products={ item.mediaList?.length ? item.mediaList?.[activeIndex]?.product?.length ? item.mediaList[activeIndex].product : [] : item.products} /> : null }\r\n                {isVideo ?\r\n                <div className=\"tb_rp_mute_btn\" onClick={muteToggle}>\r\n                    <div className={`tb__icon tb-${!muted ? `unmute` : `mute`}`}><div></div></div>\r\n                </div>\r\n                : null}\r\n                {ThemeInfo.branding ? <ReelBranding wallId={ThemeInfo.wallId} themeID={ThemeInfo.id} /> : null}\r\n            </div>\r\n        </>\r\n}\r\nexport default memo(ReelBody);","import React, { Component, memo } from \"react\";\r\nimport { isTagShop, suiteTrack } from \"../../../actions/api\";\r\nimport MagentoCart from '../CartPopUp/Magento'\r\nimport CartPopUp from '../CartPopUp'\r\nimport ReelBody from \"./ReelBody\";\r\nimport { connect } from \"react-redux\";\r\nimport { isValidAuthorImage } from \"../../../utils/Common\";\r\nimport { nextData, themePostTracking } from \"../../../actions/moredataAction\";\r\nimport { detectIphone } from \"../../../utils\";\r\nimport { Splide, SplideSlide } from '@splidejs/react-splide';\r\nimport './scss/ReelSplide.scss'\r\n\r\nclass PostPopUp extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.sliderRef = React.createRef();\r\n        this.state = {\r\n            currentIndex: this.props?.currentIndex,\r\n            item: this.props.item,\r\n            windowWidth: window.innerWidth,\r\n            isAuthorImagevalid: true,\r\n            isHotspot: false, addtoCartPopup: false,\r\n            allProductDetails: null, selectedProductId: null,\r\n            selectedProductDetails: null,\r\n            continueShopping: false,\r\n            selectedVariant: null,\r\n            showAddToCart: false,\r\n            productLoading: true,\r\n            productImg: '',\r\n            tagshopProductDeatil: null,\r\n            muted: detectIphone() ? true : false, // By Default Mute for iPhone\r\n            activeSlide: 0,\r\n            addCartSetTime: false,\r\n            selectedProdDetails: null, tagProdDetail: null\r\n        }\r\n        this.splideRef = React.createRef()\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { currentIndex, item } = this.props;\r\n        const isAuthorImagevalid = isValidAuthorImage(item.author.picture);\r\n        this.setState({ currentIndex: currentIndex, item: item, isAuthorImagevalid: isAuthorImagevalid, });\r\n    }\r\n\r\n    setMuted = () => this.setState({ muted: !this.state.muted, })\r\n    // setOnProductDetails = (data) => this.setState({ allProductDetails: data })\r\n    UNSAFE_componentWillReceiveProps(nextProps) {\r\n        const { currentIndex, item } = nextProps; const isAuthorImagevalid = isValidAuthorImage(item.author.picture);\r\n        this.setState({ currentIndex: currentIndex, item: item, isAuthorImagevalid: isAuthorImagevalid });\r\n    }\r\n    onMediaUpdate = () => this.setState({ isAuthorImagevalid: false });\r\n    onAddToCart = (itemDetails, id, product, item) => {\r\n        const { wall } = this.props;\r\n        const { webId, wallId, ownerId, } = wall.ThemeInfo\r\n        setTimeout(() => {\r\n            this.setState({\r\n                addCartSetTime: true\r\n            })\r\n        }, 100);\r\n\r\n        const trackingData = {\r\n            type: 1, action: 2,\r\n            wall: isTagShop ? webId : wallId,\r\n            feed: item.feedId,\r\n            post: item.referenceId ? item.referenceId : item.id,\r\n            owner: ownerId,\r\n            product_id: product.id,\r\n            currency: product.price, price: product.discount > 0 ? product.discount : product.price\r\n        }\r\n\r\n\r\n        this.setState({ allProductDetails: itemDetails, addtoCartPopup: true, selectedProductDetails: itemDetails[id], tagshopProductDeatil: { ...product, trackingData } })\r\n    }\r\n\r\n\r\n    requestData = () => {\r\n        const { wall, appendData, hasMoreData, loaderData } = this.props;\r\n        const { webId, wallId } = wall.ThemeInfo\r\n        const postCount = wall.ThemeStyle.totalPosts;\r\n        const timeStamp = Math.floor(Date.now() / 1000);\r\n        if (hasMoreData && !loaderData.isShowMoreLoading) this.props.nextData(isTagShop ? webId : wallId, timeStamp, postCount, appendData.networkID, appendData.after, appendData.heightEvent)\r\n    }\r\n\r\n    onItemChange = (item) => this.setState({ item })\r\n\r\n\r\n    startSplideSlide = (splide) => {\r\n        this.setState({ activeSlide: splide.index })\r\n    }\r\n\r\n    currentSplideSlide = (splide) => {\r\n        this.onPopUpTrack(splide.index)\r\n        this.setState(\r\n            { activeSlide: splide.index }\r\n        )\r\n        if (this.props.hasMoreData && splide.index == this.props.completeData.length - 2) { this.requestData() }\r\n    }\r\n\r\n    onPopUpTrack = (currentIndex) => {\r\n        try {\r\n            const { wall, completeData } = this.props\r\n            const { ThemeInfo } = wall\r\n\r\n            let item = completeData[currentIndex] ? completeData[currentIndex] : null;\r\n            if (item) {\r\n                const requestData = { feed: item.feedId, post: item.referenceId ? item.referenceId : item.id }\r\n                const ugcPayload = { action: 2, wall: ThemeInfo.webId, feed: item.feedId, post: item.referenceId ? item.referenceId : item.id, type: 3, owner: ThemeInfo.ownerId }\r\n                themePostTracking(suiteTrack ? ugcPayload : { action: 2, wall: ThemeInfo.webId, ...requestData, owner: ThemeInfo.ownerId, type: 3 })\r\n            }\r\n        }\r\n        catch (error) {\r\n            console.log(\"Error in PopUp Tracking\", error)\r\n        }\r\n    }\r\n    onClickClosePopUp = (e) => this.setState({ addtoCartPopup: false, continueShopping: false, selectedProductDetails: null, addCartSetTime: false })\r\n    onClickCheckOut = (e) => this.setState({ addtoCartPopup: true, continueShopping: false })\r\n\r\n    render() {\r\n        const { onClosePopUp, slideWithArrowKeys, wall, completeData } = this.props;\r\n        const { currentIndex, item, addtoCartPopup, selectedProductDetails, continueShopping, productImg, tagshopProductDeatil, addCartSetTime, muted, activeSlide } = this.state;\r\n\r\n        return <div className={`modalId${item.id} tb_rp_modal ${addCartSetTime ? 'tb_rp_add_cart_m' : ''}`} onKeyDown={slideWithArrowKeys} onKeyPress={slideWithArrowKeys} onLoad={slideWithArrowKeys} onClick={(e) => e.currentTarget == e.target && onClosePopUp(e)} >\r\n            <div className=\"tb_rp_dialog\">\r\n                {!(addtoCartPopup || continueShopping) ?\r\n                    <div className=\"tb_reel_close_btn\" onClick={onClosePopUp}>\r\n                        <div className='tb__icon tb-close-thin'><div></div></div>\r\n                    </div> : null}\r\n\r\n                <div className=\"tb_time_line_wrap\">\r\n                    <div className=\"tb_time_line\"><div></div></div>\r\n                </div>\r\n\r\n                <Splide\r\n                    ref={this.splideRef}\r\n                    options={{\r\n                        direction: 'ttb', // Vertical sliding (top-to-bottom)\r\n                        height: window.innerHeight, // Set height\r\n                        start: currentIndex, // Initial slide\r\n                        wheel: false, // Enable mousewheel scrolling\r\n                        releaseWheel: true, // Allow free scrolling\r\n                        sensitivity: 1, // Mousewheel sensitivity\r\n                        drag: true, // Enable touch dragging\r\n                        pagination: false, // Disable pagination\r\n                        arrows: false, // Disable arrows\r\n                        isNavigation: false, // Disable navigation\r\n                        updateOnMove: true, // Update on slide move\r\n                    }}\r\n                    onMoved={this.currentSplideSlide} // Slide change event\r\n                    onMounted={this.startSplideSlide} // Splide initialization event\r\n                >\r\n                    {completeData && completeData.length > 0 ? completeData.map((item, index) => {\r\n                        return <SplideSlide key={`${item.id}-${index}`}>\r\n                            <ReelBody\r\n                                currentView={activeSlide === index}\r\n                                key={`${item.id}-${index}`}\r\n                                onClosePopUp={onClosePopUp}\r\n                                wall={wall}\r\n                                item={item}\r\n                                openAddtocart={(itemDetails, id, product) => this.onAddToCart(itemDetails, id, product, item)}\r\n                                onsetProductImg={(img) => this.setState({ productImg: img })}\r\n                                // setOnProductDetails={this.setOnProductDetails}\r\n                                muteToggle={this.setMuted}\r\n                                muted={muted}\r\n                                inView={Math.abs(activeSlide - index) <= 2}\r\n                            />\r\n                        </SplideSlide>\r\n                    })\r\n                        : null}\r\n                </Splide>\r\n            </div>\r\n\r\n            {addtoCartPopup && selectedProductDetails ?\r\n                <>\r\n                    <div className=\"tb_rp_cart_overlay\"><div></div></div>\r\n                    <div className=\"tb_rp_cart_modal\">\r\n                        <div className=\"tb_rp_cart_body\">\r\n                            <div className=\"ts_reel_close_btn tb_reel_close_btn\" onClick={addtoCartPopup && !continueShopping ? this.onClickClosePopUp : continueShopping ? event => this.setState({ addtoCartPopup: true, continueShopping: false }) : null}>\r\n                                <div className='tb__icon tb-close-thin'><div></div></div>\r\n                            </div>\r\n\r\n                            <div className=\"tb_rp_cart_wrap\">\r\n                                {selectedProductDetails && Object.keys(selectedProductDetails).length > 0 ? tagshopProductDeatil?.createdFrom == \"magento\" ? <MagentoCart productImg={productImg} addtoCartPopup={addtoCartPopup} productDetails={selectedProductDetails} tagshopProductDeatil={tagshopProductDeatil} closeCart={event => this.setState({ addtoCartPopup: false, continueShopping: false, selectedProductDetails: null })} onAddToCart={() => this.setState({ continueShopping: true })} onSelectedVariant={(value) => this.setState({ selectedVariant: value })} wall={wall} closePopUp={this.props.onClosePopUp} /> : <CartPopUp productImg={productImg} addtoCartPopup={addtoCartPopup} productDetails={selectedProductDetails} tagshopProductDeatil={tagshopProductDeatil} closeCart={event => this.setState({ addtoCartPopup: false, continueShopping: false, selectedProductDetails: null })} onAddToCart={() => this.setState({ continueShopping: true })} onSelectedVariant={(value) => this.setState({ selectedVariant: value })} wall={wall} closePopUp={this.props.onClosePopUp} /> : null}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </>\r\n                : null}\r\n        </div>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    const { appData } = state;\r\n    return {\r\n        loaderData: state.loaderData,\r\n        appendData: appData.postData.appendData,\r\n        hasMoreData: appData.postData.hasMoreData[0] ? appData.postData.hasMoreData[0].hasMoreData == false ? false : appData.postData.hasMoreData[appData.postData.appendData.networkID] ? appData.postData.hasMoreData[appData.postData.appendData.networkID].hasMoreData : true : true\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        nextData: (wallID, timeStamp, postCount, networkId, after, heightEvent, updateInStateNow) => dispatch(nextData(wallID, timeStamp, postCount, networkId, after, heightEvent, updateInStateNow)),\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(memo(PostPopUp));","import React, { PureComponent } from 'react';\r\nimport { connect } from 'react-redux'; \r\nimport './scss/ReelPopup.scss'\r\nimport PostPopUp from './PostPopUp'\r\nimport { closePopUP } from '../../../actions/OtherActions';\r\n\r\nclass ReelPopUp extends PureComponent {\r\n  state = { isEnable: 0, eventData: {}, shareText: \"SHARE\", viewOnText: \"View on\", currentIndex: null, completeData: {}, personalization: {}, url: null, imgData: [] }\r\n\r\n  closeCommercePopUP = event => {\r\n    this.setState({ isEnable: 0, currentIndex: null }, () => this.props.closePopUP());\r\n    var taggBoxRoot = document.getElementsByTagName('html');\r\n    if (taggBoxRoot && taggBoxRoot[0]) taggBoxRoot[0].style.overflow = \"\";\r\n  };\r\n\r\n  getCommercePopUPEvent = (data) => {\r\n    if (data?.card) this.setState({ url: \"\", isEnable: 1, eventData: data, currentIndex: data.index, completeData: data.idArray, viewOnText: data.viewOnText, shareText: data.shareText, windowParent: data, imgData: data.imgData, personalization: data.personalization }, () => this.CommercePopUPSlideWithArrowKey());\r\n  };\r\n\r\n  /* POP SLIDER CHANGE INDEX WITH SLIDE */\r\n  featuredPopSliderChangeIndex = (currentIndex) => this.updateCurrentInde(currentIndex);\r\n  SliderWithKey = (currentIndex) => this.updateCurrentInde(currentIndex)\r\n\r\n  updateCurrentInde=(currentIndex)=>{\r\n    const { eventData } = this.state;\r\n    if (currentIndex === -1) this.setState({ currentIndex: eventData.idArray.length - 1 });\r\n    else this.setState({ currentIndex: eventData.idArray.length === currentIndex ? 0 : currentIndex });\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { data } = this.props;\r\n    this.getCommercePopUPEvent(data);\r\n    var taggBoxRoot = document.getElementsByTagName('html');\r\n    if (taggBoxRoot && taggBoxRoot[0])  taggBoxRoot[0].style.overflow = \"hidden\";\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.data !== prevProps.data) this.getCommercePopUPEvent(this.props.data)\r\n  }\r\n\r\n  /* POP SLIDER WITH ARROW KEYS EVENTS */\r\n  CommercePopUPSlideWithArrowKey = e => {\r\n    const { personalization } = this.state;\r\n\r\n    if (personalization && personalization.popupSlideShow === 1) {\r\n      e = e || window.event;\r\n      let self = this;\r\n      if (e && e.keyCode && e.keyCode !== undefined) {\r\n        if (e.keyCode === 37) self.SliderWithKey(self.state.currentIndex - 1)\r\n        else if (e.keyCode === 39) self.SliderWithKey(self.state.currentIndex + 1)\r\n        else if (e.keyCode === 27) this.closeCommercePopUP();\r\n      }\r\n    }\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    const { postData } = nextProps;\r\n    let { completeData, eventData } = this.state\r\n    if (completeData.length != postData.postData.length) {\r\n      let updatePostData = postData.postData.map(pItem => postData.completeDataObject[pItem])\r\n      let filteredPostData = updatePostData.filter((filterData) => !String(filterData.id).includes(\"free_add_\"))\r\n      eventData.idArray = filteredPostData\r\n      this.setState({ completeData: filteredPostData, eventData }, () => {\r\n        const { currentIndex } = this.state;\r\n        this.setState({ currentIndex: currentIndex + 1 })\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { viewOnText, isEnable, currentIndex, personalization, completeData, eventData, url, imgData } = this.state;\r\n    const { postData, wall, webFilters } = this.props\r\n    let data = null;\r\n    if (currentIndex === -1) data = completeData[eventData.idArray.length - 1];\r\n    else data = completeData[currentIndex];\r\n    return isEnable === 1 && wall &&  Object(completeData || {}).length > 0 ? <PostPopUp webFilters={webFilters} wall={wall} item={data} completeData={completeData} onClosePopUp={this.closeCommercePopUP} currentIndex={currentIndex} personalization={personalization} viewOnText={viewOnText} slideWithArrowKeys={this.CommercePopUPSlideWithArrowKey} featuredPopSliderChangeIndex={this.featuredPopSliderChangeIndex} hostUrl={url} imgData={imgData} />\r\n      : null\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    wall: state.appData.wall, webFilters: state.appData.webFilters,\r\n  }\r\n}\r\nconst mapDispatchToProps = dispatch => { return { closePopUP: (data) => dispatch(closePopUP(data)), } }\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ReelPopUp);","import React, { memo, useCallback, useMemo, useState, useEffect } from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport { Tooltip } from 'react-tooltip';\r\nimport \"./scss/Hotspot.scss\";\r\nimport { generateUniqueString } from \"../../../../utils/Common\";\r\nimport { themePostTracking } from \"../../../../actions/moredataAction\";\r\nimport AppendedView from \"../../../../AppendedView\";\r\n\r\n// Memoized components to prevent unnecessary re-renders\r\nconst TooltipContent = memo(({ item }) => {\r\n  const hasDiscount = item.discount > 0 && item.discount !== item.price;\r\n  const displayPrice = item.discount > 0 ? item.discount : item.price;\r\n\r\n  return (\r\n    <a hotspot={1} href={item.url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"tb_tooltip_wrap\">\r\n      <div hotspot={1} className=\"tb_p_tooltip_title\">{item.title}</div>\r\n      {hasDiscount && (\r\n        <div hotspot={1} className=\"tb_p_tooltip_price tb_price_disabled\">\r\n          {item.currency}{item.price}\r\n        </div>\r\n      )}\r\n      {(item.price > 0 || item.discount > 0) && (\r\n        <div hotspot={1} className=\"tb_p_tooltip_price\">\r\n          {item.currency}{displayPrice}\r\n        </div>\r\n      )}\r\n    </a>\r\n  );\r\n});\r\n\r\nconst HotspotComponent = ({ products, appData, Post, showTooltip, isPopup, dataItem }) => {\r\n  const [activeIndex, setActiveIndex] = useState(null);\r\n\r\n  // Memoized hotspot configuration\r\n  const hotspotConfig = useMemo(() => (\r\n    appData?.wall?.ProductSetting?.Hotspot || {}\r\n  ), [appData]);\r\n\r\n  // Effect to handle showTooltip prop\r\n  useEffect(() => {\r\n    if (showTooltip) {\r\n      const productIndex = products.findIndex((product) => product.id === showTooltip);\r\n      if (productIndex !== -1) {\r\n        setActiveIndex(productIndex);\r\n      }\r\n    } else {\r\n      setActiveIndex(null); // Reset active index if showTooltip is 0\r\n    }\r\n  }, [showTooltip, products]);\r\n\r\n\r\n  // Stable event handlers\r\n  const handleTracking = useCallback((product) => {\r\n    if (appData?.wall) {\r\n      themePostTracking({ type: 1, action: 2, wall: appData?.wall?.ThemeInfo?.webId, product_id: product.id, post: dataItem.referenceId, owner: appData?.wall?.ThemeInfo?.ownerId, feed: dataItem.feedId, currency: product.currency, price: Number(product.price) > 0 ? product.discount : product.price })\r\n    }\r\n  }, [appData, Post]);\r\n\r\n  const handleHotspotClick = useCallback((event, item) => {\r\n    event.stopPropagation();\r\n    handleTracking(item);\r\n    window.open(item.url, '_blank');\r\n  }, [handleTracking]);\r\n\r\n  if (!hotspotConfig?.status) return null;\r\n\r\n\r\n  return products.map((item, index) => {\r\n    const tooltipId = `hotspot-${item.id}-${generateUniqueString()}-`;\r\n    const isActive = activeIndex === index;\r\n\r\n    return (\r\n      <div\r\n        key={`${item.id}-${index}`}\r\n        id={tooltipId}\r\n        className={`tb_hotspot_dot${isActive ? ' tb_hotspot_active_' : ''}`}\r\n        role=\"button\"\r\n        style={{\r\n          top: item.hotspot.top,\r\n          left: item.hotspot.left\r\n        }}\r\n        onMouseEnter={() => setActiveIndex(index)}\r\n        onMouseLeave={() => setActiveIndex(null)}\r\n        onClick={(e) => { handleHotspotClick(e, item) }}\r\n        data-tooltip-offset={7}\r\n      >\r\n        <div hotspot={1} className={`tb_hotspot__ ${hotspotConfig.type === 0 ? 'tb_hotspot_ani__' : ''}`}>\r\n          {index + 1}\r\n        </div>\r\n        <AppendedView wallId={tooltipId}>\r\n          <Tooltip\r\n            appendTo=\"body\"\r\n            data-tooltip-id={`tooltip-${item.id}-${Math.random().toString(36).substr(2, 9)}`} // Use `data-tooltip-id`\r\n            key={index}\r\n            className=\"tb_pro_tooltip\"\r\n            anchorSelect={`#${tooltipId}`}\r\n            clickable\r\n            {...(isPopup ? { isOpen: isActive } : {})} // Add `isOpen` only when `isPopup` is true\r\n          >\r\n            <TooltipContent item={item} />\r\n          </Tooltip>\r\n        </AppendedView>\r\n      </div>\r\n    );\r\n  });\r\n};\r\n\r\n\r\n// Memoize the main component\r\nconst Hotspot = memo(HotspotComponent);\r\n\r\n// Optimized Redux connection\r\nconst mapState = (state) => ({ appData: state.appData });\r\nexport default connect(mapState)(Hotspot);"],"names":["imgQue","POPUP_IMAGE_RENEW_REQUEST","event","persist","target","network","itemId","themeId","dataset","includes","push","element","document","querySelector","style","display","length","processImageInQueue","async","_imgQue$","postData","wall","store","getState","appData","Object","keys","User","Wall","ownerId","id","wallId","isTagShop","filterId","load","imgTargets","res","completeDataObject","values","filter","val","_res$6","isValid","some","item","url","fetch","then","ok","catch","checkImageUrl","postFileNew","src","dataFormatted","formatPostData","data","_res$","_res$2","_res$3","_res$4","_res$5","UserPlan","table_name","db_table","feedId","type","link","postFile","mediaFile","postId","HttpClient","post","UPDATE_STATUS","headers","isUpdateFrom","baseUrl","isTagbox","tbox","media","NO_IMAGE","dataLoad","shift","CloudUrl","srcset","setAttribute","Image","PureComponent","constructor","props","_Post$media","_Post$media2","super","updateMediaDimensions","this","mediaRef","current","offsetHeight","offsetWidth","setState","currentHeight","currentWidth","mediaSizeCalc","Post","mediaOnly","height","width","_media$image","GET_IMAGE_SIZE","image","small","_isMounted","error","state","React","componentDidMount","requestAnimationFrame","componentWillUnmount","render","_media$image2","_media$image3","_media$image4","_media$image5","ImageClass","hotspot","size","blurBG","ProductSetting","inView","multiKey","index","products","paddingSize","imageStyle","paddingBottom","blurImgStyle","backgroundImage","newWidth","newHeight","isHotspot","isProduct","hotspotImgStyle","_jsxs","className","ref","children","_jsx","Hotspot","multiPic","mediaList","product","dataPost","showTooltip","srcSet","large","sizes","loading","decoding","fetchPriority","onLoad","onError","e","alt","title","ReelProducts","_ref","onsetProductImg","openAddtocart","setOnProductDetails","ThemeInfo","noImg","setNoImg","useState","setLoading","tracking","themePostTracking","action","webId","product_id","referenceId","owner","feed","currency","price","discount","Button","openUrl","newUrl","parseInt","newTab","window","parent","location","href","open","_Fragment","disabled","onClick","itemDetails","_ProductSetting$Butto","pdp_target","isMagento","createdFrom","fetchShopifyProduct","productId","sku","storeId","_res$data2","status","available","showCart","_res$data","productData","formatProduct","featured_image","console","log","checkForShopify","text","memo","ReelVideo","setVideoLoaded","videoLoaded","onUpdateTime","progress","played","playedSeconds","loadError","reelPlayTimeUpdateData","VideoClass","controls","handleVideoEnded","muted","currentView","networkId","videoStyle","ReactPlayer","video","full","config","facebook","appId","attributes","poster","file","preload","playsInline","autoPlay","loop","volume","playsinline","playing","onReady","onProgress","onEnded","mediaDimension","JSON","parse","localStorage","getItem","ReelMediaSlider","mediaSize","mediaSizeCallback","wallID","onUpdateProdImgIdx","Splide","options","direction","pagination","arrows","speed","rewind","perPage","perMove","gap","updateOnMove","wheel","paginationDirection","classes","onMoved","splide","map","imageItem","SplideSlide","mediaPoster","original","isCover","ReelMedia","_Post$product","observer","importantCss","el","setProperty","ReelBranding","WebUrl","ReelBody","_item$mediaList","_item$mediaList2","_item$mediaList2$acti","_item$mediaList2$acti2","muteToggle","isVideo","activeIndex","setactiveIndex","GetProducts","Idx","ThemeID","branding","themeID","PostPopUp","Component","_this$props","setMuted","onMediaUpdate","isAuthorImagevalid","onAddToCart","setTimeout","addCartSetTime","trackingData","allProductDetails","addtoCartPopup","selectedProductDetails","tagshopProductDeatil","requestData","appendData","hasMoreData","loaderData","postCount","ThemeStyle","totalPosts","timeStamp","Math","floor","Date","now","isShowMoreLoading","nextData","networkID","after","heightEvent","onItemChange","startSplideSlide","activeSlide","currentSplideSlide","onPopUpTrack","completeData","currentIndex","ugcPayload","suiteTrack","onClickClosePopUp","continueShopping","onClickCheckOut","sliderRef","windowWidth","innerWidth","selectedProductId","selectedVariant","showAddToCart","productLoading","productImg","detectIphone","selectedProdDetails","tagProdDetail","splideRef","isValidAuthorImage","author","picture","UNSAFE_componentWillReceiveProps","nextProps","onClosePopUp","slideWithArrowKeys","onKeyDown","onKeyPress","currentTarget","innerHeight","start","releaseWheel","sensitivity","drag","isNavigation","onMounted","img","abs","MagentoCart","productDetails","closeCart","onSelectedVariant","value","closePopUp","CartPopUp","connect","dispatch","updateInStateNow","ReelPopUp","arguments","isEnable","eventData","shareText","viewOnText","personalization","imgData","closeCommercePopUP","closePopUP","taggBoxRoot","getElementsByTagName","overflow","getCommercePopUPEvent","card","idArray","windowParent","CommercePopUPSlideWithArrowKey","featuredPopSliderChangeIndex","updateCurrentInde","SliderWithKey","popupSlideShow","self","keyCode","undefined","componentDidUpdate","prevProps","filteredPostData","pItem","filterData","String","webFilters","hostUrl","TooltipContent","hasDiscount","displayPrice","rel","HotspotComponent","_ref2","isPopup","dataItem","setActiveIndex","hotspotConfig","useMemo","_appData$wall","_appData$wall$Product","useEffect","productIndex","findIndex","handleTracking","useCallback","_appData$wall2","_appData$wall2$ThemeI","_appData$wall3","_appData$wall3$ThemeI","Number","handleHotspotClick","stopPropagation","tooltipId","generateUniqueString","isActive","role","top","left","onMouseEnter","onMouseLeave","AppendedView","Tooltip","appendTo","random","toString","substr","anchorSelect","clickable","isOpen"],"sourceRoot":""}