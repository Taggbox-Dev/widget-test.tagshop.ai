{"version":3,"file":"static/js/7848.09aaf879.chunk.js","mappings":"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","sources":["app/index.js"],"sourcesContent":["import React, { PureComponent, Suspense } from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport { rID, visitorRequest } from '../utils'\r\nimport { CloudHostUrl, TagboxUpload } from '../constants'\r\nimport { isTagShop, isTagbox, isSocialWall, isSocialEmbed, isEmbed } from \"../actions/api\";\r\n\r\n\r\nconst Header = React.lazy(() => import('./Header'));\r\nconst ReviewHeader = React.lazy(() => import('./ReviewHeader'));\r\nconst Ticker = React.lazy(() => import('./Components/Tickers'));\r\nconst Filters = React.lazy(() => import('./Components/Filters'));\r\nconst ThemeRoute = React.lazy(() => import('./Themes'));\r\nconst OnsiteUploadButton = React.lazy(() => import('./Components/UserComponents/OnsiteUploadButton'));\r\n\r\nclass App extends PureComponent {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      containerSize: {\r\n        width: null,\r\n        height: null,\r\n      },\r\n      parentID: ''\r\n    };\r\n    this.containerRef = React.createRef();\r\n    // this.resizeObserver = null; // Initialize ResizeObserver\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateContainerSize();\r\n    window.addEventListener(\"resize\", this.updateContainerSize);\r\n    if (this.containerRef.current) {\r\n      // this.resizeObserver = new ResizeObserver(this.updateContainerSize);\r\n      // this.resizeObserver.observe(this.containerRef.current); // Start observing the div\r\n    }\r\n\r\n    this.observer = new IntersectionObserver(\r\n      ([entry]) => {\r\n        if (entry.isIntersecting) {\r\n          visitorRequest()\r\n          this.observer.disconnect(); // Ek baar API call hone ke baad observer remove karna\r\n        }\r\n      },\r\n      { threshold: 0.002 } // 0.2% visibility\r\n    );\r\n\r\n    if (this?.containerRef?.current) {\r\n      this.observer.observe(this?.containerRef?.current);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"resize\", this.updateContainerSize);\r\n    // if (this.resizeObserver) {\r\n    //   this.resizeObserver.disconnect(); // Stop observing the div\r\n    // }\r\n  }\r\n\r\n  updateContainerSize = () => {\r\n    if (this.containerRef.current) {\r\n      this.setState({\r\n        containerSize: {\r\n          width: this.containerRef.current.offsetWidth,\r\n          height: this.containerRef.current.offsetHeight,\r\n        },\r\n      });\r\n    }\r\n  };\r\n\r\n  // onLoadSpotLight = () => {\r\n  //   if (isSocialWall && !isEmbed) {\r\n  //     const { postData } = this.props\r\n  //     if (postData.completeDataObject && Object.keys(postData.completeDataObject).length) {\r\n  //       var spotLightData = null\r\n  //       Object.entries(postData.completeDataObject).forEach(([value]) => {\r\n  //         if (value?.highlight == 1 && spotLightData == null) spotLightData = value\r\n  //       });\r\n  //       if (spotLightData && Object.keys(spotLightData).length) spotlightFromScoket(spotLightData)\r\n  //     }\r\n  //   }\r\n  // }\r\n\r\n  componentDidUpdate() {\r\n    let p_class = document.querySelector('.tb_app_container')\r\n    let P_id = rID ? rID : p_class?.parentNode?.id\r\n    this.setState({ parentID: P_id })\r\n  }\r\n\r\n  render() {\r\n    const { wall, reviewFilters, webFilters, postData, filter_tags } = this.props;\r\n    const {containerSize, parentID } = this.state\r\n    const  { SnapUp, ThemeInfo } = wall\r\n    const ThemeId = ThemeInfo?.id \r\n\r\n    const bannerStatus = wall?.Banner && Object.keys(wall.Banner).length && wall?.Banner?.status === 1 ? true : false\r\n    const customBannerStatus = wall?.BannerImage && Object.keys(wall.BannerImage).length && wall?.BannerImage?.status === 1 ? true : false\r\n    const headerPositionTop = (bannerStatus && wall?.Banner?.banner_position == 1) || customBannerStatus ? true : false;\r\n    const headerPositionBottom = bannerStatus && wall?.Banner?.banner_position == 2 ? true : false;\r\n    const QrStatus = (SnapUp?.ruleStatus) && (isTagShop && ![63, 64, 50].includes(ThemeId))\r\n\r\n    const filters = (![55, 52, 60, 16, 47, 57, 61].includes(ThemeId)) ? true : false;\r\n    const isReviewBanner = wall.Banner && Object.keys(wall.Banner).length && wall.Banner.status === 1 && wall.Banner.type == 6 && ![57, 84].includes(ThemeId)\r\n\r\n    const web_Filter_Status = isTagbox ? wall.Personalization.filterStatus === 1 ? true : false : isTagbox && wall.Personalization.filterStatus === 1 && webFilters && webFilters.length > 1 ? true : false\r\n    const teg_Filter_Status = filter_tags && filter_tags.length > 0 ? true : false\r\n    // const spotlightStatus = isSocialWall && wall?.spotlight?.status ? true : false\r\n\r\n    let brandNet = webFilters != '' && webFilters && webFilters.length ? webFilters.map(({ Network }) => Network?.id) : null;\r\n    if (!isTagShop && wall?.Background?.image && wall.Background.image.includes(CloudHostUrl)) wall.Background['image'] = String(wall.Background.image).replace(TagboxUpload, \"\");\r\n\r\n\r\n    const backgroundStyle = wall?.Background?.status === 1 && ThemeId !== 84 ? {\r\n      backgroundImage: (wall?.Background?.url) ? `url(${wall?.Background?.url})` : '',\r\n      backgroundColor: wall?.Background?.color\r\n    } : null\r\n\r\n    const reviewTheme = [63, 64].includes(ThemeId) ? true : false\r\n    const tagshopHeader = wall?.Reviews?.headerStatus == 1 && reviewTheme ? true : false\r\n    const reviewHeaderTop = ((isReviewBanner && headerPositionTop) || tagshopHeader)\r\n    const ticker = isSocialWall && !isSocialEmbed && wall.CustomTicker?.status === 1\r\n    const iswebFilters = (!isSocialWall && filters && (web_Filter_Status || teg_Filter_Status)) && ThemeId !== 84\r\n    const isThemeRoute = (reviewTheme && wall?.Reviews?.themeStatus == 1) || !reviewTheme; \r\n    const isRevieFilter = isTagbox ? reviewFilters : []\r\n\r\n    console.log(wall?.Reviews,'isThemeRouteisThemeRoute',reviewTheme,'isThemeRouteisThemeRoute',isThemeRoute)\r\n\r\n\r\n    return <div className=\"tb_app_container\" style={{ minHeight: isEmbed ? [47, 16, 49, 55, 60, 52].includes(ThemeId) ? '100%' : `${this.props.postHeight}px` : null }} ref={this.containerRef}>\r\n      {ticker && wall.CustomTicker.ticker_position == 1 ? <Suspense fallback={<></>}><Ticker CustomTicker={wall.CustomTicker} /></Suspense> : null}\r\n      {headerPositionTop ? <Suspense fallback={<></>}><Header Banner={wall.Banner} BannerImage={wall.BannerImage} LogoImage={wall.LogoImage} /></Suspense> : ''}\r\n      <div className=\"tb_app_wrapper\" style={backgroundStyle}>\r\n        {reviewHeaderTop ? <Suspense fallback={<></>}><ReviewHeader isHeader={tagshopHeader} reviewFilters={ isRevieFilter} appendData={postData.appendData} wall={wall} postData={postData} /></Suspense> : null}\r\n        {QrStatus ? <Suspense fallback={<></>}> <OnsiteUploadButton SnapUp={wall.SnapUp} id={ThemeId} webId={ThemeInfo.webId} /> </Suspense> : null}\r\n        {iswebFilters ? <Suspense fallback={<></>}> <Filters type={wall.Personalization.filter_type} webFilters={webFilters} filter_tags={filter_tags} appendData={postData.appendData} wall={wall} postData={postData} /></Suspense>\r\n          : ''}\r\n        { isThemeRoute ? <Suspense fallback={<></>}><ThemeRoute {...this.props} brandingNetworks={brandNet} containerSize={containerSize} parentID={parentID} /></Suspense> : null }\r\n        {isReviewBanner && headerPositionBottom ? <Suspense fallback={<></>}><ReviewHeader reviewFilters={isRevieFilter} appendData={postData.appendData} wall={wall} postData={postData} /></Suspense> : null} \r\n        </div>\r\n      {headerPositionBottom ? <Suspense fallback={<></>}><Header Banner={wall.Banner} BannerImage={wall.BannerImage} LogoImage={wall.LogoImage} /></Suspense> : ''}\r\n      {ticker && wall.CustomTicker.ticker_position == 2 ? <Suspense fallback={<></>}><Ticker CustomTicker={wall.CustomTicker} /></Suspense> : null}\r\n    </div>\r\n  }\r\n}\r\n// but  i have a chance\r\nconst mapStateToProps = state => {\r\n  return { renderId: state.renderId }\r\n}\r\n\r\nexport default connect(mapStateToProps, null)(App);\r\n"],"names":["Header","React","ReviewHeader","Ticker","Filters","ThemeRoute","OnsiteUploadButton","App","PureComponent","constructor","super","updateContainerSize","this","containerRef","current","setState","containerSize","width","offsetWidth","height","offsetHeight","state","parentID","componentDidMount","_this$containerRef","_this$containerRef2","window","addEventListener","observer","IntersectionObserver","_ref","entry","isIntersecting","visitorRequest","disconnect","threshold","observe","componentWillUnmount","removeEventListener","componentDidUpdate","_p_class$parentNode","p_class","document","querySelector","P_id","rID","parentNode","id","render","_wall$Banner","_wall$BannerImage","_wall$Banner2","_wall$Banner3","_wall$Background","_wall$Background2","_wall$Background3","_wall$Background4","_wall$Background5","_wall$Reviews","_wall$CustomTicker","_wall$Reviews2","wall","reviewFilters","webFilters","postData","filter_tags","props","SnapUp","ThemeInfo","ThemeId","bannerStatus","Banner","Object","keys","length","status","customBannerStatus","BannerImage","headerPositionTop","banner_position","headerPositionBottom","QrStatus","ruleStatus","isTagShop","includes","filters","isReviewBanner","type","web_Filter_Status","isTagbox","Personalization","filterStatus","teg_Filter_Status","brandNet","map","_ref2","Network","Background","image","CloudHostUrl","String","replace","TagboxUpload","backgroundStyle","backgroundImage","url","backgroundColor","color","reviewTheme","tagshopHeader","Reviews","headerStatus","reviewHeaderTop","ticker","isSocialWall","isSocialEmbed","CustomTicker","iswebFilters","isThemeRoute","themeStatus","isRevieFilter","console","log","_jsxs","className","style","minHeight","isEmbed","postHeight","ref","children","ticker_position","_jsx","Suspense","fallback","_Fragment","LogoImage","isHeader","appendData","webId","filter_type","brandingNetworks","connect","renderId"],"sourceRoot":""}