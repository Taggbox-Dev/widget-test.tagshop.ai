(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[9306],{45285:(t,e,i)=>{"use strict";i.d(e,{bs:()=>r});var a=i(80415),o=i(2509),s=i(66345),n=i(28322),l=i(14313);let d=[];const r=t=>{t.persist();const e=t.target,{network:i,itemId:a,themeId:o}=e.dataset;if(1!=i||[3,4,16,47,50,55,60].includes(o))d.includes(t)||d.push(t);else{const t=document.querySelector(`.tb_media-${a}`);t&&(t.style.display="none")}1===d.length&&c()},c=async()=>{var t;const{postData:e,wall:i}=o.A.getState().appData;if(!i||!Object.keys(i).length||!d.length)return;const{User:r,Wall:u}=i,h=null===r||void 0===r?void 0:r.id,m=(s.HY,null===u||void 0===u?void 0:u.id),v=null===(t=d[0])||void 0===t?void 0:t.target,{filterId:g,network:_,itemId:w,load:P}=v.dataset,y=document.querySelector(`img[data-item-id="${w}"]`),x=null!==e&&void 0!==e&&e.completeDataObject?Object.values(e.completeDataObject).filter((t=>t.id===w)):[];if(null!==x&&void 0!==x&&x.length){var b;const t=await(async t=>["taggbox.com","tagbox.com","tagembed.com","socialwalls.com"].some((e=>t.includes(e)))||await fetch(t).then((t=>t.ok)).catch((()=>!1)))(null===(b=x[0])||void 0===b?void 0:b.postFileNew);if(!t&&y){if([2,18,3,28].includes(+_)&&"0"===P&&"34"!==g&&!v.src.includes("cloud.taggbox.com")){const t=((t,e,i)=>{var a,o,s,n,l;const{UserPlan:d,Wall:r}=e;return{table_name:null===d||void 0===d?void 0:d.db_table,...t,...null!==i&&void 0!==i&&i.length?{feedId:null===(a=i[0])||void 0===a?void 0:a.feedId,type:null===(o=i[0])||void 0===o?void 0:o.type,link:null===(s=i[0])||void 0===s?void 0:s.link,postFile:null===(n=i[0])||void 0===n?void 0:n.postFile,mediaFile:null===(l=i[0])||void 0===l?void 0:l.mediaFile}:{},url:null===r||void 0===r?void 0:r.url}})({wallId:m,postId:w,ownerId:h},i,x);try{const{data:e}=await(new l.A).post(s.t5,t,{headers:n.ML}),i=s.HY||s.MH?"":`https://images.${s.QR}/`;v.src="18"===_?`${i}${e.media}`:e.media}catch{v.src=a.gX}finally{p(v)}}else v.src=a.gX,p(v);d.shift(),c()}else{const t=`${a.th}/media/images/no-image.svg`;v.src=t,v.srcset=t,p(v),d.shift()}}},p=t=>t.setAttribute("data-load","1")},12701:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>$});var a=i(9950),o=i(10300),s=i(66345),n=i(60895),l=i(72076),d=i(83744),r=i(21850),c=i(44414);const p=t=>{let{product:e,wall:i,onsetProductImg:o,openAddtocart:s,item:n,setOnProductDetails:l}=t;const{ThemeInfo:p,ProductSetting:u}=i,[h,m]=(0,a.useState)(!1),[v,g]=(0,a.useState)(!1),_=t=>(0,r.hq)({type:1,action:2,wall:p.webId,product_id:t.id,post:n.referenceId,owner:p.ownerId,feed:n.feedId,currency:t.currency,price:t.discount>0?t.discount:t.price}),w=u.Button,P=t=>{const{Button:e}=u;var i=t;2==parseInt(e.newTab)?window.parent.location.href=i:window.open(i,"_blank")};return(0,c.jsxs)("div",{className:"tb_rpp_pro "+(h?"ts_reelTheme_No_Product":""),children:[h?null:(0,c.jsx)("div",{className:"tb_rpp_pro_img",children:(0,c.jsx)("img",{src:e.image,alt:"",onError:()=>m(!0)})}),(0,c.jsxs)("div",{className:"tb_rpp_pro_cont",children:[(0,c.jsx)("div",{className:"tb_rpp_pro_title",children:e.title}),e.price>0||e.discount>0?(0,c.jsxs)("div",{className:"tb_rpp_p_wrap",children:[(0,c.jsxs)("div",{className:"tb_rpp_p",children:[e.currency,e.discount>0?e.discount:e.price]}),0==e.discount||e.price==e.discount?(0,c.jsx)(c.Fragment,{}):(0,c.jsxs)("div",{className:"tb_rpp_p tb_rpp_d_p",children:[e.currency,e.price]})]}):null,(0,c.jsxs)("div",{className:"tb_rpp_btn"+(v?" tb_rpp_btn_spinner":""),disabled:v,onClick:()=>{(async()=>{g(!0);const t={};if(e&&e.url)try{var a;if(140717==p.ownerId||1==(null===u||void 0===u||null===(a=u.Button)||void 0===a?void 0:a.pdp_target))P(e.url),o(e.image),g(!1),_(i);else{const a="magento"==e.createdFrom||!1;""!=e.createdFrom?(0,d.YS)(e.url,a,{productId:e.sku,storeId:e.storeId}).then((i=>{var n;if(a&&0==i.status)t[e.id]={data:{available:!0},showCart:140717!==p.ownerId};else{var d;const o=a&&(null===i||void 0===i||null===(d=i.data)||void 0===d?void 0:d.data)||(null===i||void 0===i?void 0:i.data),s=a?{available:!0}:{};t[e.id]={data:null!==o&&void 0!==o&&o.id?{...o,...s}:null,showCart:(null===o||void 0===o?void 0:o.id)&&140717!==p.ownerId}}o(null!==i&&void 0!==i&&null!==(n=i.data)&&void 0!==n&&n.featured_image?i.data.featured_image:e.image),g(!1),l(t),s(e.id,e)})).catch((t=>{console.log("error",t),P(e.url),o(e.image),g(!1),_(i)})):(P(e.url),o(e.image),g(!1),_(i))}}catch(n){console.log("error",n),P(e.url),g(!1)}})()},children:[w.text," "]})]})]},e.id)},u=(0,a.memo)(p);var h=i(78262),m=i(38092),v=i.n(m),g=i(76506);class _ extends a.PureComponent{constructor(t){super(t),this.setVideoLoaded=t=>{this.setState({videoLoaded:t})},this.onUpdateTime=t=>{try{s.HY&&this.setState({played:this.state.played+t.playedSeconds})}catch(e){console.log(e)}},this.state={loadError:!1,paddingBottom:100,videoLoaded:!1,played:0}}componentWillUnmount(){const{played:t}=this.state;s.HY&&(0,g.HI)(t)}render(){var t,e,i;const{VideoClass:a,Post:o,controls:s,autoPlay:n,handleVideoEnded:l,muted:d,inView:r}=this.props,{videoLoaded:p}=this.state,{media:u,height:h,width:m,id:g,link:_,networkId:w}=o,P={paddingBottom:"100vh"};return(0,c.jsxs)("div",{className:`${a}_wrap_`,style:P,children:[(0,c.jsx)(v(),{className:`${a} tb_media-${g}`,url:n?u.video.full:null===u||void 0===u||null===(t=u.image)||void 0===t?void 0:t.small,"data-height":h,"data-width":m,"data-type":"video","data-network":w,"data-link":_,"data-item-id":g,"data-load":0,config:{facebook:{appId:"117029975354072",attributes:{"data-width":m,"data-height":h,poster:null===u||void 0===u||null===(e=u.image)||void 0===e?void 0:e.small}},file:{attributes:{preload:"auto",poster:null===u||void 0===u||null===(i=u.image)||void 0===i?void 0:i.small,playsInline:!0}}},autoPlay:n?1:0,loop:!0,muted:n&&d,volume:n&&d?0:1,playsinline:!0,playing:n,height:"100%",width:"100%",controls:s,onReady:()=>this.setVideoLoaded(!0),onProgress:this.onUpdateTime,onEnded:l||null},`${g}-${n}-${_}`),p?null:(0,c.jsx)("div",{className:"tb_rpp_v_spinner",children:(0,c.jsx)("div",{})})]})}}var w=i(53556);const P=JSON.parse(window.localStorage.getItem("mediaDimension"));class y extends a.PureComponent{constructor(t){super(t),this.mediaSize=t=>this.props.mediaSizeCallback(t),this.state={mediaSize:{height:null!=P?P[0]:"85vh",width:null!=P?P[1]:"85vh"}}}render(){const{Post:t,wallID:e,size:i,onUpdateProdImgIdx:a,inView:o}=this.props;return(0,c.jsx)("div",{className:"tb_rp_media_holder",children:(0,c.jsx)(w.eB,{options:{direction:"ltr",pagination:!0,arrows:!1,speed:400,rewind:!0,perPage:1,perMove:1,gap:0,updateOnMove:!0,wheel:!1,paginationDirection:"ltr",classes:{pagination:"splide__pagination tb_rp_bullet"}},onMoved:(t,e)=>a(e),children:t.mediaList.map(((a,n)=>(0,c.jsx)(w.Nn,{children:[2,4].includes(a.type)?(0,c.jsx)(h.A,{ImageClass:"tb_rp_image",Post:t,mediaOnly:a,size:i,multiPic:1,multiKey:n,hotspot:!!a.product.length&&s.HY,inView:!0}):[3,5].includes(a.type)?(0,c.jsx)(_,{VideoClass:"tb_rp_video",media:a.video.full,mediaPoster:a.image.original,Post:{...t,media:{video:a.video,image:a.image}},wallID:e,size:i,isCover:!0,controls:!1,autoPlay:!0,muted:false,index:n,inView:o}):null},n)))})},t.id)}}const x=t=>{var e;const{Post:i,muted:a,autoPlay:o,index:n,wallID:l,inView:d}=t,r=!1;return i.mediaList&&i.mediaList.length>0?(0,c.jsx)(y,{Post:i,...t}):[2,4].includes(i.type)||!o?(0,c.jsx)(h.A,{ImageClass:"tb_rp_image",Post:i,size:r,hotspot:!(null===i||void 0===i||null===(e=i.product)||void 0===e||!e.length)&&s.HY,blurBG:!1,observer:!1,index:n,inView:!0}):[3,5].includes(i.type)?(0,c.jsx)(_,{VideoClass:"tb_rp_video",Post:i,size:r,wallID:l,isCover:!0,controls:!1,autoPlay:o,muted:a,handleVideoEnded:()=>{},index:n,inView:d}):null},b=(0,a.memo)(x);var I=i(80415);function D(t){t.style.setProperty("visibility","visible","important"),t.style.setProperty("opacity","1","important"),t.style.setProperty("display","flex","important"),t.style.setProperty("transform","none","important"),t.style.setProperty("clip-path","initial","important"),t.style.setProperty("border","none","important")}class f extends a.PureComponent{render(){return(0,c.jsx)("a",{href:I.om,target:"_blank",ref:t=>{t&&(t.style.setProperty("margin-right","15px","important"),t.style.setProperty("width","90px","important"),t.style.setProperty("height","auto","important"),D(t))},children:(0,c.jsx)("img",{ref:t=>{t&&(t.style.setProperty("width","100%","important"),t.style.setProperty("height","auto","important"),D(t))},src:`${I.th}/media/logo/tagshop-branding.svg`})})}}const S=t=>{var e,i,o,s;let{wall:n,item:l,onsetProductImg:d,openAddtocart:r,setOnProductDetails:p,index:h,currentVideo:m,muteToggle:v,muted:g,inView:_}=t;const w=!(![3,5].includes(l.type)||!m),P=!![3,5].includes(l.type),{ThemeInfo:y,ProductSetting:x}=n,[I,D]=(0,a.useState)(0),S=t=>(0,c.jsx)("div",{className:"tb_rpp_slide_wrap",children:t.products&&t.products.map(((t,e)=>(0,c.jsx)(u,{product:t,openAddtocart:r,onsetProductImg:d,wall:n,item:l,setOnProductDetails:p},e)))});return(0,c.jsxs)("div",{className:"tb_rp_media_wrap",children:[(0,c.jsx)(b,{Post:l,wallID:y.wallId,onUpdateProdImgIdx:t=>{D(t)},ownerId:y.ownerId,ThemeID:y.id,wall:n,muted:g,autoPlay:w,index:h,inView:_}),(0,c.jsxs)("div",{className:"tb_rp_content",children:[x&&l.isProduct?(0,c.jsx)(S,{products:null!==(e=l.mediaList)&&void 0!==e&&e.length?null!==(i=l.mediaList)&&void 0!==i&&null!==(o=i[I])&&void 0!==o&&null!==(s=o.product)&&void 0!==s&&s.length?l.mediaList[I].product:[]:l.products}):null,P?(0,c.jsx)("div",{className:"tb_rp_mute_btn",onClick:v,children:(0,c.jsx)("div",{className:"tb__icon tb-"+(g?"mute":"unmute"),children:(0,c.jsx)("div",{})})}):null,y.branding?(0,c.jsx)(f,{wallId:y.wallId,themeID:y.id}):null]})]})},C=(0,a.memo)(S);var j=i(52867);class k extends a.Component{constructor(t){var e;super(t),this.setMuted=()=>this.setState({muted:!this.state.muted}),this.setOnProductDetails=t=>this.setState({allProductDetails:t}),this.onMediaUpdate=()=>this.setState({isAuthorImagevalid:!1}),this.onAddToCart=(t,e,i)=>{const{wall:a}=this.props,{webId:o,wallId:n,ownerId:l}=a.ThemeInfo;setTimeout((()=>{this.setState({addCartSetTime:!0})}),100);const d={type:1,action:2,wall:s.HY?o:n,feed:i.feedId,post:i.referenceId?i.referenceId:i.id,owner:l,product_id:e.id,currency:e.price,price:e.discount>0?e.discount:e.price};this.setState({addtoCartPopup:!0,selectedProductDetails:this.state.allProductDetails[t],tagshopProductDeatil:{...e,trackingData:d}})},this.requestData=()=>{const{wall:t,appendData:e,hasMoreData:i,loaderData:a}=this.props,{webId:o,wallId:n}=t.ThemeInfo,l=t.ThemeStyle.totalPosts,d=Math.floor(Date.now()/1e3);i&&!a.isShowMoreLoading&&this.props.nextData(s.HY?o:n,d,l,e.networkID,e.after,e.heightEvent)},this.onItemChange=t=>this.setState({item:t}),this.startSplideSlide=t=>{this.setState({activeSlide:t.index})},this.currentSplideSlide=t=>{this.onPopUpTrack(t.index),this.setState({activeSlide:t.index}),this.props.hasMoreData&&t.index==this.props.completeData.length-2&&this.requestData()},this.onPopUpTrack=t=>{try{const{wall:e,completeData:i}=this.props,{ThemeInfo:a}=e;let o=i[t]?i[t]:null;if(o){const t={feed:o.feedId,post:o.referenceId?o.referenceId:o.id},e={action:2,wall:a.webId,feed:o.feedId,post:o.referenceId?o.referenceId:o.id,type:3,owner:a.ownerId};(0,r.hq)(s.Qy?e:{action:2,wall:a.webId,...t,owner:a.ownerId})}}catch(e){console.log("Error in PopUp Tracking",e)}},this.onClickClosePopUp=t=>this.setState({addtoCartPopup:!1,continueShopping:!1,selectedProductDetails:null,addCartSetTime:!1}),this.onClickCheckOut=t=>this.setState({addtoCartPopup:!0,continueShopping:!1}),this.sliderRef=a.createRef(),this.state={currentIndex:null===(e=this.props)||void 0===e?void 0:e.currentIndex,item:this.props.item,windowWidth:window.innerWidth,isAuthorImagevalid:!0,isHotspot:!1,addtoCartPopup:!1,allProductDetails:null,selectedProductId:null,selectedProductDetails:null,continueShopping:!1,selectedVariant:null,showAddToCart:!1,productLoading:!0,productImg:"",tagshopProductDeatil:null,muted:!!(0,j.RP)(),activeSlide:0,addCartSetTime:!1,selectedProdDetails:null,tagProdDetail:null},this.splideRef=a.createRef()}componentDidMount(){const{currentIndex:t,item:e}=this.props,i=(0,g.hz)(e.author.picture);this.setState({currentIndex:t,item:e,isAuthorImagevalid:i})}UNSAFE_componentWillReceiveProps(t){const{currentIndex:e,item:i}=t,a=(0,g.hz)(i.author.picture);this.setState({currentIndex:e,item:i,isAuthorImagevalid:a})}render(){const{onClosePopUp:t,slideWithArrowKeys:e,wall:i,completeData:a}=this.props,{currentIndex:o,item:s,addtoCartPopup:d,selectedProductDetails:r,continueShopping:p,productImg:u,tagshopProductDeatil:h,addCartSetTime:m,muted:v,activeSlide:g}=this.state;return(0,c.jsxs)("div",{className:`modalId${s.id} tb_rp_modal ${m?"tb_rp_add_cart_m":""}`,onKeyDown:e,onKeyPress:e,onLoad:e,onClick:e=>e.currentTarget==e.target&&t(e),children:[(0,c.jsxs)("div",{className:"tb_rp_dialog",children:[d||p?null:(0,c.jsx)("div",{className:"tb_reel_close_btn",onClick:t,children:(0,c.jsx)("div",{className:"tb__icon tb-close-thin",children:(0,c.jsx)("div",{})})}),(0,c.jsx)("div",{className:"tb_time_line_wrap",children:(0,c.jsx)("div",{className:"tb_time_line",children:(0,c.jsx)("div",{})})}),(0,c.jsx)(w.eB,{ref:this.splideRef,options:{direction:"ttb",height:window.innerHeight,start:o,wheel:!1,releaseWheel:!0,sensitivity:1,drag:!0,pagination:!1,arrows:!1,isNavigation:!1,updateOnMove:!0},onMoved:this.currentSplideSlide,onMounted:this.startSplideSlide,children:a&&a.length>0?a.map(((e,a)=>(0,c.jsx)(w.Nn,{children:(0,c.jsx)(C,{currentVideo:g===a,onClosePopUp:t,wall:i,item:e,openAddtocart:(t,i)=>this.onAddToCart(t,i,e),onsetProductImg:t=>this.setState({productImg:t}),setOnProductDetails:this.setOnProductDetails,muteToggle:this.setMuted,muted:v,inView:g===a},`${e.id}-${a}`)},`${e.id}-${a}`))):null})]}),d&&r?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"tb_rp_cart_overlay",children:(0,c.jsx)("div",{})}),(0,c.jsx)("div",{className:"tb_rp_cart_modal",children:(0,c.jsxs)("div",{className:"tb_rp_cart_body",children:[(0,c.jsx)("div",{className:"ts_reel_close_btn tb_reel_close_btn",onClick:d&&!p?this.onClickClosePopUp:p?t=>this.setState({addtoCartPopup:!0,continueShopping:!1}):null,children:(0,c.jsx)("div",{className:"tb__icon tb-close-thin",children:(0,c.jsx)("div",{})})}),(0,c.jsx)("div",{className:"tb_rp_cart_wrap",children:r&&Object.keys(r).length>0?"magento"==(null===h||void 0===h?void 0:h.createdFrom)?(0,c.jsx)(n.A,{productImg:u,addtoCartPopup:d,productDetails:r,tagshopProductDeatil:h,closeCart:t=>this.setState({addtoCartPopup:!1,continueShopping:!1,selectedProductDetails:null}),onAddToCart:()=>this.setState({continueShopping:!0}),onSelectedVariant:t=>this.setState({selectedVariant:t}),wall:i,closePopUp:this.props.onClosePopUp}):(0,c.jsx)(l.A,{productImg:u,addtoCartPopup:d,productDetails:r,tagshopProductDeatil:h,closeCart:t=>this.setState({addtoCartPopup:!1,continueShopping:!1,selectedProductDetails:null}),onAddToCart:()=>this.setState({continueShopping:!0}),onSelectedVariant:t=>this.setState({selectedVariant:t}),wall:i,closePopUp:this.props.onClosePopUp}):null})]})})]}):null]})}}const N=(0,o.Ng)((t=>{const{appData:e}=t;return{loaderData:t.loaderData,appendData:e.postData.appendData,hasMoreData:!e.postData.hasMoreData[0]||0!=e.postData.hasMoreData[0].hasMoreData&&(!e.postData.hasMoreData[e.postData.appendData.networkID]||e.postData.hasMoreData[e.postData.appendData.networkID].hasMoreData)}}),(t=>({nextData:(e,i,a,o,s,n,l)=>t((0,r.wF)(e,i,a,o,s,n,l))})))((0,a.memo)(k));var T=i(93152);class U extends a.PureComponent{constructor(){super(...arguments),this.state={isEnable:0,eventData:{},shareText:"SHARE",viewOnText:"View on",currentIndex:null,completeData:{},personalization:{},url:null,imgData:[]},this.closeCommercePopUP=t=>{this.setState({isEnable:0,currentIndex:null},(()=>this.props.closePopUP()));var e=document.getElementsByTagName("html");e&&e[0]&&(e[0].style.overflow="")},this.getCommercePopUPEvent=t=>{null!==t&&void 0!==t&&t.card&&this.setState({url:"",isEnable:1,eventData:t,currentIndex:t.index,completeData:t.idArray,viewOnText:t.viewOnText,shareText:t.shareText,windowParent:t,imgData:t.imgData,personalization:t.personalization},(()=>this.CommercePopUPSlideWithArrowKey()))},this.featuredPopSliderChangeIndex=t=>this.updateCurrentInde(t),this.SliderWithKey=t=>this.updateCurrentInde(t),this.updateCurrentInde=t=>{const{eventData:e}=this.state;-1===t?this.setState({currentIndex:e.idArray.length-1}):this.setState({currentIndex:e.idArray.length===t?0:t})},this.CommercePopUPSlideWithArrowKey=t=>{const{personalization:e}=this.state;if(e&&1===e.popupSlideShow){let e=this;(t=t||window.event)&&t.keyCode&&void 0!==t.keyCode&&(37===t.keyCode?e.SliderWithKey(e.state.currentIndex-1):39===t.keyCode?e.SliderWithKey(e.state.currentIndex+1):27===t.keyCode&&this.closeCommercePopUP())}}}componentDidMount(){const{data:t}=this.props;this.getCommercePopUPEvent(t);var e=document.getElementsByTagName("html");e&&e[0]&&(e[0].style.overflow="hidden")}componentDidUpdate(t){this.props.data!==t.data&&this.getCommercePopUPEvent(this.props.data)}UNSAFE_componentWillReceiveProps(t){const{postData:e}=t;let{completeData:i,eventData:a}=this.state;if(i.length!=e.postData.length){let t=e.postData.map((t=>e.completeDataObject[t])).filter((t=>!String(t.id).includes("free_add_")));a.idArray=t,this.setState({completeData:t,eventData:a},(()=>{const{currentIndex:t}=this.state;this.setState({currentIndex:t+1})}))}}render(){const{viewOnText:t,isEnable:e,currentIndex:i,personalization:a,completeData:o,eventData:s,url:n,imgData:l}=this.state,{postData:d,wall:r,webFilters:p}=this.props;let u=null;return u=-1===i?o[s.idArray.length-1]:o[i],1===e&&r&&Object(o||{}).length>0?(0,c.jsx)(N,{webFilters:p,wall:r,item:u,completeData:o,onClosePopUp:this.closeCommercePopUP,currentIndex:i,personalization:a,viewOnText:t,slideWithArrowKeys:this.CommercePopUPSlideWithArrowKey,featuredPopSliderChangeIndex:this.featuredPopSliderChangeIndex,hostUrl:n,imgData:l}):null}}const $=(0,o.Ng)((t=>({wall:t.appData.wall,webFilters:t.appData.webFilters})),(t=>({closePopUP:e=>t((0,T.ng)(e))})))(U)},89874:(t,e,i)=>{"use strict";i.d(e,{A:()=>h});var a=i(9950),o=i(10300),s=i(17119),n=i(1823),l=i(76506),d=i(21850),r=i(44414);const c=(0,a.memo)((t=>{let{item:e}=t;const i=e.discount>0&&e.discount!==e.price,a=e.discount>0?e.discount:e.price;return(0,r.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"tb_tooltip_wrap",children:[(0,r.jsx)("div",{className:"tb_p_tooltip_title",children:e.title}),i&&(0,r.jsxs)("div",{className:"tb_p_tooltip_price tb_price_disabled",children:[e.currency,e.price]}),(e.price>0||e.discount>0)&&(0,r.jsxs)("div",{className:"tb_p_tooltip_price",children:[e.currency,a]})]})})),p=t=>{let{products:e,appData:i,Post:o}=t;const[p,u]=(0,a.useState)(null),h=(0,a.useMemo)((()=>{var t,e;return(null===i||void 0===i||null===(t=i.wall)||void 0===t||null===(e=t.ProductSetting)||void 0===e?void 0:e.Hotspot)||{}}),[i]),m=(0,a.useCallback)((t=>{null!==i&&void 0!==i&&i.wall&&(0,d.hq)({})}),[i,o]),v=(0,a.useCallback)(((t,e)=>{t.stopPropagation(),m(e),window.open(e.url,"_blank")}),[m]);return null!==h&&void 0!==h&&h.status?e.map(((t,e)=>{const i=`hotspot-${t.id}-${(0,l.Ul)()}`,a=p===e;return(0,r.jsxs)("div",{id:i,className:"tb_hotspot_dot"+(a?" tb_hotspot_active_":""),role:"button",style:{top:t.hotspot.top,left:t.hotspot.left},onMouseEnter:()=>u(e),onMouseLeave:()=>u(null),onClick:e=>v(e,t),"data-tooltip-offset":7,children:[(0,r.jsx)("div",{className:"tb_hotspot__ "+(0===h.type?"tb_hotspot_ani__":""),children:e+1}),(0,s.createPortal)((0,r.jsx)(n.m_,{className:"tb_pro_tooltip",anchorSelect:`#${i}`,clickable:!0,children:(0,r.jsx)(c,{item:t})}),document.body)]},`${t.id}-${e}`)})):null},u=(0,a.memo)(p),h=(0,o.Ng)((t=>({appData:t.appData})))(u)},78262:(t,e,i)=>{"use strict";i.d(e,{A:()=>r});var a=i(9950),o=i(76506),s=i(80415),n=i(45285),l=i(89874),d=i(44414);class r extends a.PureComponent{constructor(t){var e,i;super(t),this.updateMediaDimensions=()=>{if(this.mediaRef.current){const{offsetHeight:t,offsetWidth:e}=this.mediaRef.current;this.setState({currentHeight:t,currentWidth:e})}},this.mediaSizeCalc=async()=>{const{Post:t,mediaOnly:e}=this.props,i=e||t.media;if((null===i||void 0===i||!i.height)&&(null===i||void 0===i||!i.width))try{var a;const{width:t,height:e}=await(0,o.TW)(null===i||void 0===i||null===(a=i.image)||void 0===a?void 0:a.small);this._isMounted&&this.setState({height:e,width:t})}catch(s){this._isMounted&&this.setState({height:300,width:300})}};const{mediaOnly:s,Post:n}=t;this.state={height:(null===s||void 0===s?void 0:s.height)||(null===n||void 0===n||null===(e=n.media)||void 0===e?void 0:e.height)||0,width:(null===s||void 0===s?void 0:s.width)||(null===n||void 0===n||null===(i=n.media)||void 0===i?void 0:i.width)||0,currentHeight:0,currentWidth:0},this.mediaRef=a.createRef()}componentDidMount(){this._isMounted=!0,requestAnimationFrame((()=>{this.updateMediaDimensions(),this.mediaSizeCalc()}))}componentWillUnmount(){this._isMounted=!1}render(){var t,e,i,a;const{height:o,width:r}=this.state;if(!o||!r)return null;const{ImageClass:c,Post:p,hotspot:u,size:h,blurBG:m,ProductSetting:v,mediaOnly:g,inView:_,multiKey:w}=this.props,{id:P,link:y,products:x}=p,b=g||(null===p||void 0===p?void 0:p.media),{currentWidth:I,currentHeight:D}=this.state,f=h||100*o/r,S={paddingBottom:1===f?null:`${f}%`},C={backgroundImage:_?`url(${null===b||void 0===b||null===(t=b.image)||void 0===t?void 0:t.small})`:null},j=r>o?"100%":r/o*100+"%",k=r>o?o/r*100+"%":"100%",N=p.isProduct&&u&&p.hotspot,T={width:N&&h?j:null,height:N&&h?k:null};return(0,d.jsxs)("div",{className:`${c}_wrap_`,style:S,ref:this.mediaRef,children:[N&&m?(0,d.jsx)("div",{className:"tb_blur_bg_",style:C}):null,(0,d.jsxs)("div",{className:`${c}_wrap_in`,style:T,children:[N?(0,d.jsx)(l.A,{products:this.props.multiPic?p.mediaList[w].product:x,ProductSetting:v,hotspot:p.hotspot,dataPost:p}):null,_?(0,d.jsx)("img",{className:`${c} tb_media-${P}`,src:null===b||void 0===b||null===(e=b.image)||void 0===e?void 0:e.small,srcSet:`${null===b||void 0===b||null===(i=b.image)||void 0===i?void 0:i.small} 1x, ${null===b||void 0===b||null===(a=b.image)||void 0===a?void 0:a.large} 2x`,sizes:`${I}px`,loading:_?"eager":"lazy",decoding:"async",fetchPriority:_?"high":"low","data-id":P,height:D,width:I,"data-height":o,"data-width":r,"data-link":y,onLoad:this.onLoad,onError:t=>{t.target.src=`${s.th}/media/error/no-image.svg`,t.target.srcset=`${s.th}/media/error/no-image.svg`,(0,n.bs)(t)},alt:null===b||void 0===b?void 0:b.title,title:null===b||void 0===b?void 0:b.title},`${P}-${o}-${r}-${_}`):null]})]})}}},43488:(t,e,i)=>{"use strict";var a=i(93959);function o(){}function s(){}s.resetWarningCache=o,t.exports=function(){function t(t,e,i,o,s,n){if(n!==a){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function e(){return t}t.isRequired=t;var i={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:s,resetWarningCache:o};return i.PropTypes=i,i}},11942:(t,e,i)=>{t.exports=i(43488)()},93959:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}]);