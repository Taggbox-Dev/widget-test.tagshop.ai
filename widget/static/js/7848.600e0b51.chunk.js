"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[7848],{17848:(e,n,t)=>{t.r(n),t.d(n,{default:()=>m});var i=t(65043),a=t(83003),l=t(22030),s=t(78250),r=t(92908),o=t(70579);const d=i.lazy((()=>t.e(7164).then(t.bind(t,37164)))),u=i.lazy((()=>t.e(233).then(t.bind(t,60233)))),c=i.lazy((()=>t.e(312).then(t.bind(t,312)))),p=i.lazy((()=>t.e(1993).then(t.bind(t,61993)))),v=i.lazy((()=>t.e(551).then(t.bind(t,90551)))),h=i.lazy((()=>Promise.all([t.e(3245),t.e(9070)]).then(t.bind(t,69070))));class g extends i.PureComponent{constructor(){super(),this.updateContainerSize=()=>{this.containerRef.current&&this.setState({containerSize:{width:this.containerRef.current.offsetWidth,height:this.containerRef.current.offsetHeight}})},this.state={containerSize:{width:null,height:null},parentID:""},this.containerRef=i.createRef()}componentDidMount(){var e,n;(this.updateContainerSize(),window.addEventListener("resize",this.updateContainerSize),this.containerRef.current,this.observer=new IntersectionObserver((e=>{let[n]=e;n.isIntersecting&&((0,l.KL)(),this.observer.disconnect())}),{threshold:.002}),null!==this&&void 0!==this&&null!==(e=this.containerRef)&&void 0!==e&&e.current)&&this.observer.observe(null===this||void 0===this||null===(n=this.containerRef)||void 0===n?void 0:n.current)}componentWillUnmount(){window.removeEventListener("resize",this.updateContainerSize)}componentDidUpdate(){var e;let n=document.querySelector(".tb_app_container"),t=l.wV?l.wV:null===n||void 0===n||null===(e=n.parentNode)||void 0===e?void 0:e.id;this.setState({parentID:t})}render(){var e,n,t,a,l,g,m,b,k,f,j,x;const{wall:w,reviewFilters:S,webFilters:B,postData:I,filter_tags:z}=this.props,{containerSize:D,parentID:y}=this.state,{SnapUp:C,ThemeInfo:_}=w,F=null===_||void 0===_?void 0:_.id,R=!(null===w||void 0===w||!w.Banner||!Object.keys(w.Banner).length||1!==(null===w||void 0===w||null===(e=w.Banner)||void 0===e?void 0:e.status)),H=!(null===w||void 0===w||!w.BannerImage||!Object.keys(w.BannerImage).length||1!==(null===w||void 0===w||null===(n=w.BannerImage)||void 0===n?void 0:n.status)),T=!!(R&&1==(null===w||void 0===w||null===(t=w.Banner)||void 0===t?void 0:t.banner_position)||H),L=!(!R||2!=(null===w||void 0===w||null===(a=w.Banner)||void 0===a?void 0:a.banner_position)),N=(null===C||void 0===C?void 0:C.ruleStatus)&&r.HY&&![63,64,50].includes(F),P=![55,52,60,16,47,57,61].includes(F),U=w.Banner&&Object.keys(w.Banner).length&&1===w.Banner.status&&6==w.Banner.type&&![57,84].includes(F),M=r.MH?1===w.Personalization.filterStatus:!!(r.MH&&1===w.Personalization.filterStatus&&B&&B.length>1),O=!!(z&&z.length>0);let V=""!=B&&B&&B.length?B.map((e=>{let{Network:n}=e;return null===n||void 0===n?void 0:n.id})):null;!r.HY&&null!==w&&void 0!==w&&null!==(l=w.Background)&&void 0!==l&&l.image&&w.Background.image.includes(s.vr)&&(w.Background.image=String(w.Background.image).replace(s.Vy,""));const E=1===(null===w||void 0===w||null===(g=w.Background)||void 0===g?void 0:g.status)&&84!==F?{backgroundImage:null!==w&&void 0!==w&&null!==(m=w.Background)&&void 0!==m&&m.url?`url(${null===w||void 0===w||null===(b=w.Background)||void 0===b?void 0:b.url})`:"",backgroundColor:null===w||void 0===w||null===(k=w.Background)||void 0===k?void 0:k.color}:null,W=!![63,64].includes(F),Y=!(1!=(null===w||void 0===w||null===(f=w.Reviews)||void 0===f?void 0:f.headerStatus)||!W),$=U&&T||Y,q=r.aD&&!r.Vn&&1===(null===(j=w.CustomTicker)||void 0===j?void 0:j.status),K=!r.aD&&P&&(M||O)&&84!==F,A=(W&&(null===w||void 0===w||null===(x=w.Reviews)||void 0===x||x.themeStatus),r.MH?S:[]);return(0,o.jsxs)("div",{className:"tb_app_container",style:{minHeight:r.yR?[47,16,49,55,60,52].includes(F)?"100%":`${this.props.postHeight}px`:null},ref:this.containerRef,children:[q&&1==w.CustomTicker.ticker_position?(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(c,{CustomTicker:w.CustomTicker})}):null,T?(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(d,{Banner:w.Banner,BannerImage:w.BannerImage,LogoImage:w.LogoImage})}):"",(0,o.jsxs)("div",{className:"tb_app_wrapper",style:E,children:[$?(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(u,{isHeader:Y,reviewFilters:A,appendData:I.appendData,wall:w,postData:I})}):null,N?(0,o.jsxs)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:[" ",(0,o.jsx)(h,{SnapUp:w.SnapUp,id:F,webId:_.webId})," "]}):null,K?(0,o.jsxs)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:[" ",(0,o.jsx)(p,{type:w.Personalization.filter_type,webFilters:B,filter_tags:z,appendData:I.appendData,wall:w,postData:I})]}):"",(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(v,{...this.props,brandingNetworks:V,containerSize:D,parentID:y})}),U&&L?(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(u,{reviewFilters:A,appendData:I.appendData,wall:w,postData:I})}):null]}),L?(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(d,{Banner:w.Banner,BannerImage:w.BannerImage,LogoImage:w.LogoImage})}):"",q&&2==w.CustomTicker.ticker_position?(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(c,{CustomTicker:w.CustomTicker})}):null]})}}const m=(0,a.Ng)((e=>({renderId:e.renderId})),null)(g)}}]);
//# sourceMappingURL=7848.600e0b51.chunk.js.map