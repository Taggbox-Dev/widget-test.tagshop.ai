{"version":3,"file":"static/js/1064.c09e7031.chunk.js","mappings":"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","sources":["app/index.js"],"sourcesContent":["import React, { PureComponent, Suspense } from \"react\";\nimport { connect } from 'react-redux';\nimport { rID, activeTheme } from '../utils'\nimport { CloudHostUrl, TagboxUpload } from '../constants'\nimport { isTagShop, isTagbox, isSocialWall, isSocialEmbed, isEmbed } from \"../actions/api\";\n// import { spotlightFromScoket } from '../actions/displayAction'\n\nconst Header = React.lazy(() => import('./Header'));\nconst ReviewHeader = React.lazy(() => import('./ReviewHeader'));\nconst Ticker = React.lazy(() => import('./Components/Tickers'));\nconst Filters = React.lazy(() => import('./Components/Filters'));\nconst ThemeRoute = React.lazy(() => import('./Themes'));\nconst OnsiteUploadButton = React.lazy(() => import('./Components/UserComponents/OnsiteUploadButton'));\n\nclass App extends PureComponent {\n  constructor() {\n    super();\n    this.state = {\n      containerSize: {\n        width: null,\n        height: null,\n      },\n      parentID: ''\n    };\n    this.containerRef = React.createRef();\n  }\n\n  componentDidMount() {\n    activeTheme(this.props.ThemeId)\n    window.addEventListener('resize', this.handleResize);\n    if (this?.containerRef?.current) {\n      this.setState({\n        containerSize: {\n          width: this?.containerRef?.current?.offsetWidth,\n          height: this?.containerRef?.current?.offsetHeight,\n        }\n      })\n    }\n    // this.onLoadSpotLight()\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleResize);\n  }\n\n  handleResize = () => {\n    const currentSize = this.containerRef.current\n    if (currentSize) {\n      this.setState({\n        containerSize: {\n          width: currentSize.offsetWidth,\n          height: currentSize.offsetHeight,\n        }\n      })\n    }\n  }\n\n  // onLoadSpotLight = () => {\n  //   if (isSocialWall && !isEmbed) {\n  //     const { postData } = this.props\n  //     if (postData.completeDataObject && Object.keys(postData.completeDataObject).length) {\n  //       var spotLightData = null\n  //       Object.entries(postData.completeDataObject).forEach(([value]) => {\n  //         if (value?.highlight == 1 && spotLightData == null) spotLightData = value\n  //       });\n  //       if (spotLightData && Object.keys(spotLightData).length) spotlightFromScoket(spotLightData)\n  //     }\n  //   }\n  // }\n\n  componentDidUpdate() {\n    let p_class = document.querySelector('.tb_app_container')\n    let P_id = rID ? rID : p_class?.parentNode?.id\n    this.setState({ parentID: P_id })\n  }\n  \n  render() {\n    const { wall, reviewFilters, webFilters, postData, filter_tags } = this.props;\n    const  { SnapUp, ThemeInfo } = wall\n    const ThemeId = ThemeInfo.id\n\n    const bannerStatus = wall?.Banner && Object.keys(wall.Banner).length  && wall?.Banner?.status === 1 ? true : false\n    const customBannerStatus = wall?.BannerImage && Object.keys(wall.BannerImage).length  && wall?.BannerImage?.status === 1 ? true : false\n    const headerPositionTop = (bannerStatus && wall?.Banner?.banner_position == 1) || customBannerStatus ? true : false;\n    const headerPositionBottom = bannerStatus && wall?.Banner?.banner_position == 2 ? true : false;\n    const QrStatus = (SnapUp.ruleStatus && SnapUp.QrCode.status) && (isTagShop && ![63, 64, 50].includes(ThemeId))\n\n    const filters =  (![55, 52, 60, 16, 47, 57, 61].includes(ThemeId)) ? true : false;\n    const isReviewBanner = wall.Banner && Object.keys(wall.Banner).length  && wall.Banner.status === 1 && wall.Banner.type == 6 && ![57, 84].includes(ThemeId)\n\n    const web_Filter_Status = isTagbox ? wall.Personalization.filterStatus === 1 ? true : false : isTagbox && wall.Personalization.filterStatus === 1 && webFilters && webFilters.length > 1 ? true : false\n    const teg_Filter_Status = filter_tags && filter_tags.length > 0 ? true : false\n   // const spotlightStatus = isSocialWall && wall?.spotlight?.status ? true : false\n\n    let brandNet = webFilters != '' && webFilters && webFilters.length ? webFilters.map(({ Network }) => Network?.id) : null;\n    if (!isTagShop && wall?.Background?.image && wall.Background.image.includes(CloudHostUrl)) wall.Background['image'] = String(wall.Background.image).replace(TagboxUpload, \"\");\n\n\n    const backgroundStyle = wall?.Background?.status === 1 && ThemeId !== 84 ? {\n      backgroundImage: (wall?.Background?.url) ? `url(${wall?.Background?.url})` : '',\n      backgroundColor: wall?.Background?.color\n    } : null\n\n    const reviewTheme = [63, 64].includes(ThemeId) ? true : false\n    const tagshopHeader = wall?.Reviews?.headerStatus == 1 && reviewTheme ? true : false\n    const reviewHeaderTop = ((isReviewBanner && headerPositionTop) || tagshopHeader)\n    const ticker = isSocialWall && !isSocialEmbed && wall.CustomTicker?.status === 1\n    const iswebFilters = (!isSocialWall && filters && (web_Filter_Status || teg_Filter_Status)) && ThemeId !== 84\n    const isThemeRoute = (reviewTheme && wall.Reviews.themeStatus == 1) || !reviewTheme;\n\n    return <div className=\"tb_app_container\" style={{ minHeight: isEmbed ? [47, 16, 49, 55, 60, 52].includes(ThemeId) ? '100%' : `${this.props.postHeight}px` : null }} ref={this.containerRef}>\n      { ticker && wall.CustomTicker.ticker_position == 1  ? <Suspense fallback={<></>}><Ticker CustomTicker={wall.CustomTicker} /></Suspense> : null}\n      {headerPositionTop ? <Suspense fallback={<></>}><Header Banner={wall.Banner} BannerImage={wall.BannerImage} LogoImage={wall.LogoImage} /></Suspense> : ''}\n      <div className=\"tb_app_wrapper\" style={backgroundStyle}>\n        { reviewHeaderTop ? <Suspense fallback={<></>}><ReviewHeader isHeader={tagshopHeader} reviewFilters={reviewFilters} appendData={postData.appendData} wall={wall} postData={postData} /></Suspense> : null}\n        {QrStatus ? <Suspense fallback={<></>}> <OnsiteUploadButton SnapUp={wall.SnapUp} id={ThemeId} webId={ThemeInfo.webId} /> </Suspense> : null}\n        { iswebFilters ? <Suspense fallback={<></>}> <Filters type={wall.Personalization.filter_type} webFilters={webFilters} filter_tags={filter_tags} appendData={postData.appendData} wall={wall}  postData={postData} /></Suspense>\n        : '' }\n        { isThemeRoute ? <Suspense fallback={<></>}><ThemeRoute {...this.props} brandingNetworks={brandNet} containerSize={this.state.containerSize} parentID={this.state.parentID} /></Suspense> : null}\n        { isReviewBanner && headerPositionBottom ? <Suspense fallback={<></>}><ReviewHeader reviewFilters={reviewFilters} appendData={postData.appendData} wall={wall}  postData={postData} /></Suspense> : null} </div>\n        { headerPositionBottom ? <Suspense fallback={<></>}><Header Banner={wall.Banner} BannerImage={wall.BannerImage} LogoImage={wall.LogoImage} /></Suspense> : ''}\n        { ticker && wall.CustomTicker.ticker_position == 2 ? <Suspense fallback={<></>}><Ticker CustomTicker={wall.CustomTicker} /></Suspense> : null}\n      </div>\n  }\n}\n\nconst mapStateToProps = state => {\n  return { renderId: state.renderId }\n}\n\nexport default connect(mapStateToProps, null)(App);\n"],"names":["Header","React","ReviewHeader","Ticker","Filters","ThemeRoute","OnsiteUploadButton","App","PureComponent","constructor","super","handleResize","currentSize","this","containerRef","current","setState","containerSize","width","offsetWidth","height","offsetHeight","state","parentID","componentDidMount","_this$containerRef","_this$containerRef2","_this$containerRef2$c","_this$containerRef3","_this$containerRef3$c","activeTheme","props","ThemeId","window","addEventListener","componentWillUnmount","removeEventListener","componentDidUpdate","_p_class$parentNode","p_class","document","querySelector","P_id","rID","parentNode","id","render","_wall$Banner","_wall$BannerImage","_wall$Banner2","_wall$Banner3","_wall$Background","_wall$Background2","_wall$Background3","_wall$Background4","_wall$Background5","_wall$Reviews","_wall$CustomTicker","wall","reviewFilters","webFilters","postData","filter_tags","SnapUp","ThemeInfo","bannerStatus","Banner","Object","keys","length","status","customBannerStatus","BannerImage","headerPositionTop","banner_position","headerPositionBottom","QrStatus","ruleStatus","QrCode","isTagShop","includes","filters","isReviewBanner","type","web_Filter_Status","isTagbox","Personalization","filterStatus","teg_Filter_Status","brandNet","map","_ref","Network","Background","image","CloudHostUrl","String","replace","TagboxUpload","backgroundStyle","backgroundImage","url","backgroundColor","color","reviewTheme","tagshopHeader","Reviews","headerStatus","reviewHeaderTop","ticker","isSocialWall","isSocialEmbed","CustomTicker","iswebFilters","isThemeRoute","themeStatus","_jsxs","className","style","minHeight","isEmbed","postHeight","ref","children","ticker_position","_jsx","Suspense","fallback","_Fragment","LogoImage","isHeader","appendData","webId","filter_type","brandingNetworks","connect","renderId"],"sourceRoot":""}