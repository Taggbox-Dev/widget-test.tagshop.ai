"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[6575,7049],{4835:(e,t,o)=>{o.r(t),o.d(t,{default:()=>P});var s=o(65043),n=o(60303),i=o.n(n),l=o(92908),a=o(9574),c=o(69433),r=o(36671),d=o(52141),p=o(70579);const h=e=>{let{Post:t,ThemeStyle:o,CardStyle:s,index:n,inView:i}=e;const a=[3,5].includes(t.type)&&1===o.autoPlay||!1,h=!!s.style.ratio&&s.style.ratio,_=!l.HY||!t.hotspot;return(0,p.jsxs)("div",{className:"tb_cp_media_wrap",children:[(0,p.jsx)(d.default,{Post:t,IconClass:"tb_cp_media_icon",show:_,hideVideo:a}),a?(0,p.jsx)(c.A,{VideoClass:"tb_cp_video",Post:t,size:h,isCover:!0,controls:!1,autoPlay:!0,muted:!0,observer:!0,index:n,inView:i}):(0,p.jsx)(r.A,{ImageClass:"tb_cp_image",Post:t,size:h,hotspot:l.HY,blurBG:l.HY,observer:!0,index:n,inView:i})]})};var _=o(66254),m=o(96575),u=o(43702);const b=(0,s.lazy)((()=>o.e(4311).then(o.bind(o,84311)))),S=e=>{let{postSize:t,clickToShowPopUp:o,handlePressStart:n,handlePressEnd:i,index:l,onClickToCTA:c,ThemeStyle:r,CardStyle:d,Post:S,ThemeInfo:y}=e;const C=1!==S.type;return(0,p.jsx)(u.A,{children:e=>{let{ref:u,inView:w}=e;return C?(0,p.jsx)("div",{id:`tb_cp_id-${S.id}`,ref:u,className:"tb_cp_post_wrapper",style:{width:`${t}%`,padding:d.style.padding/2,opacity:w?1:0,transition:w?"opacity .5s ease-in-out":""},"tb-network":S.networkId,"tb-product":S.isShopIcon?1:S.isHotspot?2:0,"post-id":S.referenceId?S.referenceId:S.id,"feed-id":S.feedId,tabIndex:0,"area-label":S.content.text,role:"article",children:(0,p.jsxs)("div",{className:"tb_cp_post_in",onTouchStart:n,onTouchEnd:e=>i(e,l,S),onClick:o(l,S),role:"button","aria-label":"Popup",tabIndex:0,children:[d.shareStatus?(0,p.jsx)(s.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(b,{Post:S,ThemeInfo:y,shareClass:"tb_cp_share_container"})}):"",C?(0,p.jsx)(h,{Post:S,CardStyle:d,ThemeStyle:r,index:l,inView:w}):"",S.ctaStatus?(0,p.jsx)("div",{className:"tb_cp_post_cta",children:(0,p.jsx)(_.default,{ctaClass:"tb_cp_post_cta_btn",Post:S,onClickToCTA:c})}):"",(0,p.jsx)("div",{className:"tb_cp_contant_wrapper",children:(0,p.jsx)(a.A,{className:"tb_cp",Post:S,CardStyle:d,ThemeStyle:r,inView:w})}),d.actionStatus?(0,p.jsx)(m.default,{Post:S,CardStyle:d,actionClass:"tb_cp_social_action__"}):""]})}):null}})};var y=o(22030);const C=e=>{let{Posts:t,completeDataObject:o,clickToShowPopUp:s,handlePressStart:n,handlePressEnd:i,postSize:l,onClickToCTA:a,onClickPopUpSlider:c,CardStyle:r,ThemeStyle:d,ThemeInfo:h}=e;return t&&t.length>0&&t.map(((e,t)=>{const _=o[e];return(0,p.jsx)(S,{postSize:l,handlePressStart:n,handlePressEnd:i,clickToShowPopUp:s,onClickToCTA:a,onClickPopUpSlider:c,Post:_,index:t,CardStyle:r,ThemeStyle:d,ThemeInfo:h},t)}))};class w extends s.PureComponent{constructor(){super(...arguments),this.state={loadDelaydata:!1},this.handleScroll=()=>{this.state.loadDelaydata||this.setState({loadDelaydata:!0},(()=>this.props.loadMoredata()))}}componentDidMount(){window.addEventListener("scroll",this.handleScroll),this.props.loadBranding()}componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll)}render(){const{postData:e,completeDataObject:t,CardStyle:o,ThemeStyle:s,ThemeInfo:n,clickToShowPopUp:a,handlePressStart:c,handlePressEnd:r,onClickToCTA:d,onClickPopUpSlider:h,containerSize:_}=this.props,m=Math.max((_.width/(o.minimumWidth+20)).toFixed(),1),u=(0,y.GH)(_.width,s.column,m),b=(0,y.Cv)(_.width,u);return l.HY?(0,p.jsx)(i(),{className:"tb_cp_post_container",tabIndex:"0","aria-label":`There are ${e&&e.length>0?e.length:0} posts in the feed`,role:"feed",elementType:"div",options:{transitionDuration:0,percentPosition:!0,itemSelector:".tb_cp_post_wrapper",horizontalOrder:!0,resize:!0},disableImagesLoaded:!1,updateOnEachImageLoad:!1,imagesLoadedOptions:{},enableResizableChildren:!0,children:(0,p.jsx)(C,{clickToShowPopUp:a,handlePressStart:c,handlePressEnd:r,Posts:e,completeDataObject:t,postSize:b,onClickToCTA:d,onClickPopUpSlider:h,CardStyle:o,ThemeStyle:s,ThemeInfo:n})}):(0,p.jsx)("div",{className:"tb_cp_post_container",children:(0,p.jsx)(C,{clickToShowPopUp:a,handlePressStart:c,handlePressEnd:r,Posts:e,completeDataObject:t,postSize:b,onClickToCTA:d,onClickPopUpSlider:h,CardStyle:o,ThemeStyle:s,ThemeInfo:n})})}}const P=w},96575:(e,t,o)=>{o.r(t),o.d(t,{default:()=>r});var s=o(65043),n=o(65281),i=o(97628),l=o(70579);const a=(e,t,o,s)=>{const i={like:`https://twitter.com/intent/favorite?tweet_id=${(0,n.Ph)(t)}`,comment:`https://twitter.com/intent/tweet?in_reply_to=${(0,n.Ph)(t)}`,retweet:`https://twitter.com/intent/retweet?tweet_id=${(0,n.Ph)(t)}`};return 1===e?i[s]:o},c=e=>{let{label:t,hrefClick:o,Icon:s,count:i,itemId:a=0,type:c}=e;const r=i>0?(0,n.sl)(i):"";return(0,l.jsx)("div",{className:"tb_social_action__list",role:"listitem","aria-roledescription":"post social action links",children:(0,l.jsxs)("div",{onClick:e=>{e.stopPropagation(),window.open(o,"_blank")},className:`tb_social_action__ico_wrap tb_social_action__ico_wrap_${a}`,"aria-label":`${t} post ${c} count ${r}`,role:"button",tabIndex:"0",children:[(0,l.jsx)("div",{className:`tb_social_action_ico__ tb__icon tb-${s}`,children:"  "}),r?(0,l.jsx)("div",{className:"tb_social_action_counts__",children:r}):""]})})};class r extends s.PureComponent{componentDidMount(){try{var e;const{Post:t}=this.props,o=`.tb_social_action__ico_wrap_${null===t||void 0===t?void 0:t.id}`;null===(e=document.querySelector(o))||void 0===e||e.addEventListener("keydown",(function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.click())}))}catch(t){console.log(t)}}render(){const{Post:e,CardStyle:t,actionClass:o}=this.props,{icon:s,style:n}=t,r={color:s.default?n.color:s.color},d=e.networkId,{comment:p,like:h}=e.count,_=[3,10,7].includes(d)?"like":"heart-outline",m=[1,2,3,7,8,9,10,18].includes(d),u=![29,19].includes(d),b=(0,i.Oi)(d);return[29,26,23,6,5,11,12,15,20,21].includes(d)?null:(0,l.jsx)("div",{className:o,children:(0,l.jsxs)("div",{className:"tb_social_action__",role:"list",children:[m&&(0,l.jsx)(c,{itemId:e.id,label:b,hrefClick:a(d,e.postId,e.link,"like"),Icon:_,iconStyle:r,count:h,type:"like"}),u&&(0,l.jsx)(c,{itemId:e.id,label:b,hrefClick:a(d,e.postId,e.link,"comment"),Icon:"comment",iconStyle:r,count:p,type:"comment"}),1===d&&(0,l.jsx)(c,{itemId:e.id,label:b,hrefClick:a(d,e.postId,e.link,"retweet"),Icon:"retweet",iconStyle:r,count:p,type:"comment"}),(0,l.jsx)(c,{label:b,itemId:e.id,hrefClick:e.link,Icon:"eye",iconStyle:r,count:0,type:"view"})]})})}}}}]);
//# sourceMappingURL=7049.ce00fbb8.chunk.js.map