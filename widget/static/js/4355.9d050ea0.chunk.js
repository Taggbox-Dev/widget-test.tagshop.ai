"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[4355],{44355:(e,n,t)=>{t.r(n),t.d(n,{default:()=>v});var a=t(47313),i=t(43635),s=t(43411),l=t(17739),r=t(98501),o=t(35179),d=t(46417);const u=a.lazy((()=>t.e(7535).then(t.bind(t,37535)))),g=a.lazy((()=>t.e(4792).then(t.bind(t,84792)))),c=a.lazy((()=>t.e(1819).then(t.bind(t,61819)))),h=a.lazy((()=>t.e(8534).then(t.bind(t,18534)))),p=a.lazy((()=>Promise.all([t.e(7914),t.e(589)]).then(t.bind(t,66538))));class m extends a.PureComponent{constructor(){super(),this.handleResize=()=>{this.containerRef.current&&this.setState({containerSize:{width:this.containerRef.current.offsetWidth,height:this.containerRef.current.offsetHeight}})},this.state={containerSize:{width:null,height:null},parentID:""},this.containerRef=a.createRef()}componentDidMount(){(0,l.gz)(this.props.wall.Personalization.widgetTheme),window.addEventListener("resize",this.handleResize),this.containerRef.current&&this.setState({containerSize:{width:this.containerRef.current.offsetWidth,height:this.containerRef.current.offsetHeight}})}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}componentDidUpdate(){let e=document.querySelector(".tb_app_container"),n=l.b8?l.b8:e.parentNode.id;this.setState({parentID:n})}render(){var e,n,t,i,s,l,m,v,f,w,b;const{wall:B,reviewFilters:S,webFilters:j,postData:k,languageSetting:z,filter_tags:x}=this.props,_=!!(B.Banner&&Object.keys(B.Banner).length>0||B.CustomBanner&&Object.keys(B.CustomBanner).length>0&&(1===(null===B||void 0===B||null===(e=B.Banner)||void 0===e?void 0:e.status)&&1===(null===B||void 0===B||null===(n=B.Banner)||void 0===n?void 0:n.banner_position)||1===(null===B||void 0===B||null===(t=B.BannerImage)||void 0===t?void 0:t.status))),D=!!(B.Banner&&Object.keys(B.Banner).length>0&&1===B.Banner.status&&2===B.Banner.banner_position),I=o.ZQ?![55,60,16,47,57].includes(B.Personalization.widgetTheme):![55,52,60,16,47,57,61].includes(B.Personalization.widgetTheme),y=B.Banner&&Object.keys(B.Banner).length>0&&1===B.Banner.status&&6==B.Banner.bannerType&&0===B.Personalization.filterStatus&&![57,84].includes(B.Personalization.widgetTheme),P=o.ZQ?1===B.Personalization.filterStatus:!!(1===B.Personalization.filterStatus&&j&&j.length>1),R=!!(x&&x.length>0);let F=""!=j&&j&&j.length>0?j.map((e=>{let{Network:n}=e;return null===n||void 0===n?void 0:n.id})):null;!o.ig&&null!==B&&void 0!==B&&null!==(i=B.Background)&&void 0!==i&&i.image&&B.Background.image.includes(r.ho)&&(B.Background.image=String(B.Background.image).replace(r.lO,""));const H=0===(null===B||void 0===B||null===(s=B.Background)||void 0===s?void 0:s.transparent)||null!==B&&void 0!==B&&null!==(l=B.Background)&&void 0!==l&&l.image&&o.ZQ?{backgroundImage:null!==B&&void 0!==B&&null!==(m=B.Background)&&void 0!==m&&m.image?"url(".concat(null===B||void 0===B||null===(v=B.Background)||void 0===v?void 0:v.image,")"):"",backgroundColor:null===B||void 0===B||null===(f=B.Background)||void 0===f?void 0:f.color}:null,T=!(1!=(null===B||void 0===B||null===(w=B.Personalization)||void 0===w?void 0:w.showReviewHeader)||![63,64].includes(B.Personalization.widgetTheme));return(0,d.jsxs)("div",{className:"tb_app_container",style:{minHeight:[47,16,49,55,60,52].includes(B.Personalization.widgetTheme)?"100%":"".concat(this.props.postHeight,"px")},ref:this.containerRef,children:[_?(0,d.jsxs)(a.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:[" ",(0,d.jsx)(u,{Banner:B.Banner,BannerImage:B.BannerImage})]}):"",(0,d.jsxs)("div",{className:"tb_app_wrapper",style:H,children:[y&&_||T?(0,d.jsx)(a.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:(0,d.jsx)(g,{isHeader:T,reviewFilters:S,appendData:k.appendData,wall:B,languageSetting:z,postData:k})}):null,(null!==B&&void 0!==B&&null!==(b=B.UserRule)&&void 0!==b&&b.on_site_upload&&B.UgcSettings.onsite_status||o.nX&&B.UgcSettings.onsite_status)&&(o.Jx||o.ig&&![63,64,50].includes(B.Personalization.widgetTheme))?(0,d.jsxs)(a.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:[" ",(0,d.jsx)(p,{UgcSettings:B.UgcSettings,id:B.Wall.id,tagShopWallId:B.Wall.wallId})," "]}):null,I&&(P||R)?(0,d.jsxs)(a.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:[" ",(0,d.jsx)(c,{type:B.Personalization.filter_type,webFilters:j,filter_tags:x,appendData:k.appendData,wall:B,languageSetting:z,postData:k})]}):"",(0,d.jsxs)(a.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:[" ",(0,d.jsx)(h,{...this.props,brandingNetworks:F,containerSize:this.state.containerSize,parentID:this.state.parentID})]}),y&&D?(0,d.jsx)(a.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:(0,d.jsx)(g,{isHeader:T,reviewFilters:S,appendData:k.appendData,wall:B,languageSetting:z,postData:k})}):null]}),D?(0,d.jsxs)(a.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:[" ",(0,d.jsx)(u,{Banner:B.Banner,BannerImage:B.BannerImage})]}):""]})}}const v=(0,s.$j)((e=>{if(!0===e.postHeight.manage_height){return{postHeight:e.postHeight.data.replace("px",""),renderId:e.renderId}}return{renderId:e.renderId}}),(e=>({managePostHeight:n=>e((0,i.B0)(n))})))(m)}}]);