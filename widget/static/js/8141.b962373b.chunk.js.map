{"version":3,"file":"static/js/8141.b962373b.chunk.js","mappings":"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","sources":["app/Themes/ReelShop/index.js"],"sourcesContent":["import React, { useEffect, useRef, useCallback, memo, Suspense, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Swiper, SwiperSlide } from \"swiper/react\";\nimport { Autoplay, FreeMode, Mousewheel } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/autoplay';\nimport 'swiper/css/free-mode';\nimport 'swiper/css/mousewheel';\nimport './scss/ReelShop.scss';\nimport { isTagShop } from '../../../actions/api';\nimport { detectMobile } from \"../../../utils\";\nimport { nextData } from \"../../../actions/moredataAction\";\n//import Card from \"./Elements/Card\";\nconst Card = React.lazy(() => import(\"./Elements/Card\"));\n \n\nconst ReelShop = memo((props) => {\n  const {\n    postData,\n    completeDataObject,\n    clickToShowPopUp,\n    hasMoreData,\n    parentID,\n    keyRender,\n    containerSize,\n    onClickPopUpSlider,\n    CardStyle,\n    ThemeStyle,\n    ProductSetting,\n    ThemeInfo,\n    appendData,\n    preRender,\n    loaderData,\n    nextData,\n    loadMoredata\n  } = props;\n\n  const sliderHeightRef = useRef(null);\n  const inputRefs = useRef({});\n  const [loadData, setloadData] = useState(false)\n\n  const requestData = useCallback((swiper) => {  \n    if (swiper.progress > 0.8 && hasMoreData && !loaderData.isShowMoreLoading) { \n      nextData(\n        isTagShop ? ThemeInfo.webId : ThemeInfo.wallId,\n        Math.floor(Date.now() / 1000),\n        ThemeStyle.totalPosts,\n        appendData.networkID,\n        appendData.after,\n        preRender,\n        appendData.heightEvent\n      );\n    }\n  }, [hasMoreData, loaderData.isShowMoreLoading, nextData, ThemeInfo, ThemeStyle.totalPosts, appendData, preRender]);\n\n\n  const updatepost = (e) => {  \n     setloadData(true);\n     setTimeout(() => loadMoredata() , (e*1000));\n  };\n\n\n  useEffect(() => {\n    const classNameRole = document.querySelectorAll('.splide__slide');\n    if (classNameRole) {\n      classNameRole.forEach((element) => {\n        element.removeAttribute(\"aria-hidden\");\n        element.removeAttribute(\"role\");\n      });\n    }\n\n    if (postData && postData.length === 1) {\n      const arrowLeft = document.querySelector(\".tb_rtp_arrow_left__\");\n      const arrowRight = document.querySelector(\".tb_rtp_arrow_right__\");\n      if (arrowLeft && arrowRight) {\n        arrowLeft.style.display = 'none';\n        arrowRight.style.display = 'none';\n      }\n    }\n  }, [postData]);\n\n  const inputName = parentID;\n  const numberOfColumns = ThemeStyle.column.desktop;\n  const mobileColumn = ThemeStyle.column.mobile;\n  const slidePost = ThemeStyle.slide.autoSlide;\n  const slideDuration = ThemeStyle.slide.slideDuration;\n  const trimContent = CardStyle.content.trimcontent === 1;\n  const minCardSize = 240;\n  const cardCount = Math.floor(containerSize.width / minCardSize);\n  let responsiveSize = cardCount === 1 ? 2 : cardCount - 0.4;\n  let newData = postData;\n\n  if (responsiveSize > postData.length) responsiveSize = postData.length;\n  const responsivePerView = numberOfColumns === 0 ? responsiveSize : parseInt(numberOfColumns) - 0.4;\n  if (responsivePerView && Math.round(responsivePerView) <= postData.length) newData = Array(2).fill(postData).flat();\n\n\n  return (\n    <>\n      {parentID && (\n        <div className=\"tb_rtp_post_container\" ref={sliderHeightRef}>\n          <Swiper\n            key={keyRender}\n            ref={(el) => (inputRefs.current[inputName] = el)}\n            style={{ width: '100%', height: '100%' }}\n            onScroll={(swiper) => { requestData(swiper); if(!loadData){ updatepost(3)}}}\n            onTouchMove={(swiper) => { requestData(swiper); if(!loadData){ updatepost(0) }}}\n            onAutoplay={(swiper) => { requestData(swiper); if(!loadData){ updatepost(4) }}}\n            \n            autoHeight={true}\n            speed={700}\n            edgeSwipeDetection={true}\n            slidesPerView={responsivePerView}\n            touchRatio={2}\n            cssMode={detectMobile()}\n            passiveListeners={true}\n            height={'100%'}\n            freeMode={{ enabled: true, sticky: false, momentumBounceRatio: 2, momentumVelocityRatio: 3 }}\n            autoplay={isTagShop ? { delay: slidePost === 1 ? slideDuration * 1000 : 99000, disableOnInteraction: false, pauseOnMouseEnter: true } : false}\n            loop={!hasMoreData}\n            slideFullyVisibleClass=\"tb-swiper-slide-fully-visible\"\n            breakpoints={{\n              0: { slidesPerView: mobileColumn ? parseInt(mobileColumn) - 0.4 : responsiveSize },\n              480: { slidesPerView: mobileColumn ? parseInt(mobileColumn) - 0.4 : responsiveSize },\n              575: { slidesPerView: mobileColumn ? parseInt(mobileColumn) - 0.4 : responsiveSize },\n              767: { slidesPerView: responsivePerView },\n              1024: { slidesPerView: responsivePerView },\n              1400: { slidesPerView: responsivePerView },\n              1600: { slidesPerView: responsivePerView },\n            }}\n            mousewheel={{ forceToAxis: true, sensitivity: 2 }}\n            watchSlidesProgress={true}\n            modules={[Autoplay, Mousewheel, FreeMode]}\n            className={`tb_rtp_post_slider ${trimContent ? 'tb_rtp_fixed_height' : ''}`}\n          >\n            {newData && newData.length > 0 && newData.map((item, index) => {\n              const cardData = completeDataObject[item];\n              return (isTagShop || [3, 5].includes(cardData.type)) ? (\n                <SwiperSlide style={{ margin: 0, padding: 0 }} key={item.id} p_id={parentID} className={`tb_${cardData.id}`}>\n                  {({ isVisible }) => (\n                   <Suspense fallback=\"\">\n                      <Card isVisible={isVisible} Post={cardData} index={index} CardStyle={CardStyle} ThemeStyle={ThemeStyle} ProductSetting={ProductSetting} ThemeInfo={ThemeInfo} clickToShowPopUp={clickToShowPopUp} onClickPopUpSlider={onClickPopUpSlider} />\n                    </Suspense> \n                  )}\n                </SwiperSlide>\n              ) : null;\n            })}\n          </Swiper>\n        </div>\n      )}\n    </>\n  );\n});\n\nconst mapStateToProps = (state) => ({\n  loaderData: state.loaderData,\n});\n\nconst mapDispatchToProps = {\n  nextData,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ReelShop);"],"names":["Card","React","ReelShop","memo","props","postData","completeDataObject","clickToShowPopUp","hasMoreData","parentID","keyRender","containerSize","onClickPopUpSlider","CardStyle","ThemeStyle","ProductSetting","ThemeInfo","appendData","preRender","loaderData","nextData","loadMoredata","sliderHeightRef","useRef","inputRefs","loadData","setloadData","useState","requestData","useCallback","swiper","progress","isShowMoreLoading","isTagShop","webId","wallId","Math","floor","Date","now","totalPosts","networkID","after","heightEvent","updatepost","e","setTimeout","useEffect","classNameRole","document","querySelectorAll","forEach","element","removeAttribute","length","arrowLeft","querySelector","arrowRight","style","display","inputName","numberOfColumns","column","desktop","mobileColumn","mobile","slidePost","slide","autoSlide","slideDuration","trimContent","content","trimcontent","cardCount","width","responsiveSize","newData","responsivePerView","parseInt","round","Array","fill","flat","_jsx","_Fragment","children","className","ref","Swiper","el","current","height","onScroll","onTouchMove","onAutoplay","autoHeight","speed","edgeSwipeDetection","slidesPerView","touchRatio","cssMode","detectMobile","passiveListeners","freeMode","enabled","sticky","momentumBounceRatio","momentumVelocityRatio","autoplay","delay","disableOnInteraction","pauseOnMouseEnter","loop","slideFullyVisibleClass","breakpoints","mousewheel","forceToAxis","sensitivity","watchSlidesProgress","modules","Autoplay","Mousewheel","FreeMode","map","item","index","cardData","includes","type","SwiperSlide","margin","padding","p_id","id","_ref","isVisible","Suspense","fallback","Post","mapDispatchToProps","connect","state"],"sourceRoot":""}