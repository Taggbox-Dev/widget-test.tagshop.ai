{"version":3,"file":"static/js/115.1e1b635a.chunk.js","mappings":"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","sources":["app/Themes/Elements/Branding/PostBranding.js","app/Themes/Elements/Hotspot/Hotspot.js","app/Themes/Elements/Media/Image.js","../node_modules/react-image-size/lib/index.js","../node_modules/react-image-size/lib/lib/constants.js","../node_modules/react-image-size/lib/lib/getImageSize.js","../node_modules/react-image-size/lib/lib/useImageSize.js"],"sourcesContent":["import { CloudUrl } from \"../../../../constants\";\nimport { IS_THEME } from \"../../../../utils\";\nconst PostBranding = ({ size }) => {\n       const ThemeAlign = id => {\n              return IS_THEME(id) && size == 1 ? true : false\n       }\n       return <div\n              ref={(el) => {\n                     if (el) {\n                            el.style.setProperty('opacity', '0.8', 'important');\n                            el.style.setProperty('display', 'flex', 'important');\n                            el.style.setProperty('width', `${size == 2 ? '110px' : '75px'}`, 'important');\n                            el.style.setProperty('height', `${size == 2 ? '25px' : '18px'}`, 'important');\n                            el.style.setProperty('max-width', `${size == 2 ? '110px' : '75px'}`, 'important');\n                            el.style.setProperty('max-height', `${size == 2 ? '25px' : '18px'}`, 'important');\n                            el.style.setProperty('top', `${ThemeAlign(55) || ThemeAlign(62) || ThemeAlign(61) ? 'auto' : '14px'}`, 'important');\n                            el.style.setProperty('left', `${ThemeAlign(62) || ThemeAlign(61) ? 'auto' : '14px'}`, 'important');\n                            el.style.setProperty('right', `${ThemeAlign(55) || ThemeAlign(62) || ThemeAlign(61) ? '14px' : 'auto'}`, 'important');\n                            el.style.setProperty('bottom', `${ThemeAlign(55) || ThemeAlign(62) || ThemeAlign(61) ? '14px' : 'auto'}`, 'important');\n                            el.style.setProperty('margin', '0 auto', 'important');\n                            el.style.setProperty('position', 'absolute', 'important');\n                            el.style.setProperty('visibility', 'visible', 'important');\n                            el.style.setProperty('z-index', '3', 'important');\n                            el.style.setProperty('background-image', `url(${CloudUrl}/media/images/tagshop-light.svg)`, 'important');\n                            el.style.setProperty('background-repeat', 'no-repeat', 'important');\n                            el.style.setProperty('background-size', 'contain', 'important');\n                            el.style.setProperty('clip-path', 'initial', 'important');\n                     }\n              }}\n       >\n              <div> </div>\n       </div>\n}\n\nexport default PostBranding;","import React, { PureComponent, Suspense } from \"react\";\nimport { connect } from 'react-redux';\nimport { componentWillAppendToBody } from \"react-append-to-body\";\nimport { Tooltip } from 'react-tooltip';\nimport \"./scss/Hotspot.scss\";\nimport { generateUniqueString } from '../../../../utils'\nimport { themePostTracking } from '../../../../actions/themeActions';\n\nconst MyComponent = ({ children }) => {\n  return children;\n}\n\nconst AppendedView = componentWillAppendToBody(MyComponent);\nconst htmlString = (product) => {\n  const discountPrice = product.product_discount > 0 ? product.product_discount : product.product_price;\n  const originalPrice = product.product_discount > 0 && product.product_discount != product.product_price ?\n    `<div class=\"tb_p_tooltip_price tb_price_disabled\">${product.price_currency_symbol}${product.product_price}</div>` : '';\n  const priceHtml = product.product_price > 0 || product.product_discount > 0 ?\n    `${originalPrice}<div class=\"tb_p_tooltip_price\">${product.price_currency_symbol}${discountPrice}</div>` : '';\n\n  return `<a href=\"${product.product_url}\" target=\"_blank\" class=\"tb_tooltip_wrap\">\n          <div class=\"tb_p_tooltip_title\">${product.product_title}</div>\n          ${priceHtml}\n        </a>`;\n}\n\nclass Hotspot extends PureComponent {\n  state = { activeMouse: null }\n\n  setActiveMouse = (index) => {\n    return index\n  }\n  tracking = (product) => {\n    const { appData, dataItem } = this.props;\n    if (appData && Object.keys(appData).length > 0) {\n      const { wall } = appData;\n      themePostTracking({\n        type: 1, action: 2, wall: wall?.Wall?.id, product_id: product.id, post: dataItem.referenceId, owner: wall?.Wall?.owner, feed: dataItem.feedId, currency: product.price_currency, price: product.product_discount > 0 ? product.product_discount : product.product_price\n      })\n    }\n  }\n  render() {\n    const { product, appData } = this.props;\n    const { activeMouse } = this.state;\n    const Hotspot = appData && Object.keys(appData).length > 0 ? appData.wall.ProductSetting.Hotspot : ''\n    return (Hotspot.status ? <div className=\"tb_hotspot_wrap\">\n      {product.map((item, index) => {\n        const uniqueString = generateUniqueString();\n        return <div key={index} href={item.product_url} id={`tb_hotspot-${item.id}${uniqueString}`} onClick={event => { this.tracking(item.UgcProduct); event.stopPropagation(); }} onMouseEnter={event => this.setActiveMouse(index)} onMouseOut={event => this.setActiveMouse(null)} className={`tb_hotspot_dot${activeMouse == index ? ' tb_hotspot_active_' : ''}`} style={{ top: item.hotspot_cordinates.top, left: item.hotspot_cordinates.left }} data-tooltip-offset={7}>\n          <div className={`tb_hotspot__ ${Hotspot.type == 0 ? 'tb_hotspot_ani__' : ''}`} onClick={event => window.open(item.UgcProduct.product_url, '_blank')}>{index + 1}</div>\n          <AppendedView><Tooltip className=\"tb_pro_tooltip\" anchorSelect={`#tb_hotspot-${item.id}${uniqueString}`} clickable html={htmlString(item.UgcProduct)} /></AppendedView>\n        </div>\n      })\n      }\n    </div >\n      : null\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    appData: state.appData\n  }\n}\n\nexport default connect(mapStateToProps)(Hotspot);","import React, { PureComponent } from \"react\";\nimport { POPUP_IMAGE_RENEW_REQUEST } from '../../../../actions/themeActions'\nimport Hotspot from \"../Hotspot/Hotspot\";\nimport { getImageSize } from 'react-image-size';\nimport { GET_MEDIA_NAME, ALT_CONTENT } from '../../../../utils'\nimport { CloudUrl } from \"../../../../constants\";\nimport { isTagShop } from \"../../../../actions/api\";\nimport PostBranding from \"../Branding/PostBranding\";\nexport default class Image extends PureComponent {\n    constructor(props) {\n        super(props);\n        this.state = {\n            loadError: false,\n            paddingBottom: 100,\n            fixedPaddingBottom: 100,\n            imgUrl: this.props.data.postFileNew,\n            size: {\n                height: 100,\n                width: 100\n            }\n        }\n    }\n    componentWillMount() {\n        const { data, hotspot, size } = this.props\n        if (data.hotspot && data.ugc_products.length > 0 && hotspot) {\n            this.onMediaLoad();\n        } else {\n            this.setState({\n                paddingBottom: size\n            })\n        }\n    }\n\n    componentDidMount() {\n        const { data, hotspot, size } = this.props\n        if (!size || (data.hotspot && data.ugc_products.length > 0 && hotspot)) {\n            this.onMediaLoad();\n        } else {\n            this.setState({\n                fixedPaddingBottom: size\n            })\n        }\n    }\n    onSetHeightWithWidth = (width, height) => {\n        const imageContainer = document.querySelector(`.track${this.props.data.id}`);\n        if (imageContainer) {\n            imageContainer.setAttribute(\"data-height\", height);\n            imageContainer.setAttribute(\"data-width\", width);\n        }\n    }\n\n    onMediaLoad = async (props) => {\n        const { data } = this.props;\n        if (data && Object.keys(data).length > 0 && [2, 4, 5, 3].includes(data.type)) {\n            if (data.mediaHeight && data.mediaHeight != \"\" && data.mediaWidth && data.mediaWidth != \"\") {\n                this.setState({\n                    paddingBottom: (data.mediaHeight * 100) / data.mediaWidth,\n                    size: {\n                        height: parseInt(data.mediaHeight),\n                        width: parseInt(data.mediaWidth)\n                    }\n                })\n            } else {\n                try {\n                    const { width, height } = await getImageSize(data.postFileNew);\n                    this.setState({\n                        paddingBottom: (height * 100) / width,\n                        size: {\n                            height: parseInt(height),\n                            width: parseInt(width)\n                        }\n                    })\n                } catch (error) {\n                    this.setState({\n                        paddingBottom: 100,\n                        size: {\n                            height: 100,\n                            width: 100\n                        }\n                    })\n                }\n            }\n        }\n    }\n\n    onLoad = event => {\n        const { data } = this.props;\n        if (event.target.getAttribute(\"data-load\") == 1) this.setState({ imgUrl: event.target.src })\n        try {\n            if ((data.mediaHeight && data.mediaHeight != \"\" && data.mediaWidth && data.mediaWidth != \"\")) this.onSetHeightWithWidth(data.mediaWidth, data.mediaHeight);\n            else this.onSetHeightWithWidth(event.target.naturalWidth ? event.target.naturalWidth : event.target.width, event.target.naturalHeight ? event.target.naturalHeight : event.target.height);\n        }\n        catch (error) {\n            this.onSetHeightWithWidth(event.target.naturalWidth ? event.target.naturalWidth : event.target.width, event.target.naturalHeight ? event.target.naturalHeight : event.target.height);\n        }\n    }\n\n\n    render() {\n        const { ImageClass, data, wallID, themeID, ownerId, hotspot } = this.props\n        const { imgUrl, paddingBottom, size, fixedPaddingBottom } = this.state\n\n        const imageStyle = {\n            paddingBottom: `${this.props.size ? this.props.size == 1 ? null : fixedPaddingBottom : paddingBottom}%`\n        };\n\n        const blurImg = {\n            backgroundImage: `url(${imgUrl})`\n        };\n\n        if (size.width > size.height) {\n            var newWidth = '100%';\n            var newHeight = `${(size.height / size.width) * 100}%`;\n        } else {\n            var newHeight = '100%';\n            var newWidth = `${(size.width / size.height) * 100}%`;\n        }\n        const isHotspot = data.hotspot && data.ugc_products.length > 0 && hotspot ? true : false\n\n        const hotspotImgStyle = { width: isHotspot && this.props.size ? newWidth : null, height: isHotspot && this.props.size ? newHeight : null }\n        return <div className={`${ImageClass}_wrap_ mediaHolder${data.id}`} style={imageStyle}>\n            {/* {data?.postBranding ? <PostBranding size={1} /> : null} */}\n            {isHotspot ? <div className=\"tb_blur_bg_\" style={blurImg}></div> : null}\n            <div className={`${ImageClass}_wrap_in`} style={hotspotImgStyle}>\n                {isHotspot ? <Hotspot product={data.ugc_products} dataItem={data} /> : null}\n                <img\n                    className={`${ImageClass} track${data.id}`}\n                    role=\"img\"\n                    src={imgUrl}\n                    //data-src={imgUrl}\n                    height={300}\n                    width={300}\n                    data-link={data.link}\n                    data-load=\"0\"\n                    data-network={data.network.id}\n                    data-wall-id={wallID}\n                    data-owner-id={ownerId}\n                    data-item-id={data.id}\n                    data-feed-id={data.feedId ? data.feedId : \"\"}\n                    data-filter-id={data.filterId}\n                    theme-id={themeID}\n                    onLoad={this.onLoad}\n                    onError={!data.stories ? (e) => {\n                        e.target.src = `${CloudUrl}/media/images/no-image.svg`\n                        POPUP_IMAGE_RENEW_REQUEST(e)\n                    } : null}\n                    alt={ALT_CONTENT(data.content)}\n                />\n            </div>\n        </div>\n    }\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useImageSize = exports.getImageSize = exports.Error = void 0;\nvar constants_1 = require(\"./lib/constants\");\nObject.defineProperty(exports, \"Error\", { enumerable: true, get: function () { return constants_1.ErrorMessage; } });\nvar getImageSize_1 = require(\"./lib/getImageSize\");\nObject.defineProperty(exports, \"getImageSize\", { enumerable: true, get: function () { return getImageSize_1.getImageSize; } });\nvar useImageSize_1 = require(\"./lib/useImageSize\");\nObject.defineProperty(exports, \"useImageSize\", { enumerable: true, get: function () { return useImageSize_1.useImageSize; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ErrorMessage = void 0;\nexports.ErrorMessage = {\n    WINDOW_IS_NOT_DEFINED: 'Window is not defined',\n    URL_IS_NOT_DEFINED: 'Url is not defined',\n    TIMEOUT: 'Timeout',\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getImageSize = void 0;\nconst constants_1 = require(\"./constants\");\nconst getImageSize = (url, options = {}) => {\n    return new Promise((resolve, reject) => {\n        if (typeof window === 'undefined') {\n            return reject(constants_1.ErrorMessage.WINDOW_IS_NOT_DEFINED);\n        }\n        if (!url) {\n            return reject(constants_1.ErrorMessage.URL_IS_NOT_DEFINED);\n        }\n        let timer = null;\n        const img = new Image();\n        img.addEventListener('load', () => {\n            if (timer) {\n                window.clearTimeout(timer);\n            }\n            resolve({ width: img.naturalWidth, height: img.naturalHeight });\n        });\n        img.addEventListener('error', (event) => {\n            if (timer) {\n                window.clearTimeout(timer);\n            }\n            reject(`${event.type}: ${event.message}`);\n        });\n        img.src = url;\n        if (options.timeout) {\n            timer = window.setTimeout(() => reject(constants_1.ErrorMessage.TIMEOUT), options.timeout);\n        }\n    });\n};\nexports.getImageSize = getImageSize;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useImageSize = void 0;\nconst react_1 = require(\"react\");\nconst getImageSize_1 = require(\"./getImageSize\");\nconst useImageSize = (url, options) => {\n    const [dimensions, setDimensions] = (0, react_1.useState)(null);\n    const [loading, setLoading] = (0, react_1.useState)(false);\n    const [error, setError] = (0, react_1.useState)(null);\n    (0, react_1.useEffect)(() => {\n        const fetch = () => __awaiter(void 0, void 0, void 0, function* () {\n            setLoading(true);\n            setDimensions(null);\n            try {\n                const { width, height } = yield (0, getImageSize_1.getImageSize)(url, options);\n                setDimensions({ width, height });\n            }\n            catch (error) {\n                setError(error.toString());\n            }\n            finally {\n                setLoading(false);\n            }\n        });\n        fetch();\n    }, [url, options]);\n    return [dimensions, { loading, error }];\n};\nexports.useImageSize = useImageSize;\n"],"names":["_ref","size","ThemeAlign","id","IS_THEME","_jsx","ref","el","style","setProperty","concat","CloudUrl","children","AppendedView","componentWillAppendToBody","htmlString","product","discountPrice","product_discount","product_price","originalPrice","price_currency_symbol","priceHtml","product_url","product_title","Hotspot","PureComponent","constructor","arguments","state","activeMouse","setActiveMouse","index","tracking","appData","dataItem","this","props","Object","keys","length","_wall$Wall","_wall$Wall2","wall","themePostTracking","type","action","Wall","product_id","post","referenceId","owner","feed","feedId","currency","price_currency","price","render","ProductSetting","status","className","map","item","uniqueString","generateUniqueString","_jsxs","href","onClick","event","UgcProduct","stopPropagation","onMouseEnter","onMouseOut","top","hotspot_cordinates","left","window","open","Tooltip","anchorSelect","clickable","html","connect","Image","super","onSetHeightWithWidth","width","height","imageContainer","document","querySelector","data","setAttribute","onMediaLoad","async","includes","mediaHeight","mediaWidth","setState","paddingBottom","parseInt","getImageSize","postFileNew","error","onLoad","target","getAttribute","imgUrl","src","naturalWidth","naturalHeight","loadError","fixedPaddingBottom","componentWillMount","hotspot","ugc_products","componentDidMount","ImageClass","wallID","themeID","ownerId","imageStyle","blurImg","backgroundImage","newWidth","newHeight","isHotspot","hotspotImgStyle","role","link","network","filterId","onError","stories","e","POPUP_IMAGE_RENEW_REQUEST","alt","ALT_CONTENT","content","exports","constants_1","require","getImageSize_1","defineProperty","enumerable","get","useImageSize_1","value","ErrorMessage","WINDOW_IS_NOT_DEFINED","URL_IS_NOT_DEFINED","TIMEOUT","url","options","undefined","Promise","resolve","reject","timer","img","addEventListener","clearTimeout","message","timeout","setTimeout","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","next","rejected","result","done","then","apply","useImageSize","react_1","dimensions","setDimensions","useState","loading","setLoading","setError","useEffect","toString"],"sourceRoot":""}