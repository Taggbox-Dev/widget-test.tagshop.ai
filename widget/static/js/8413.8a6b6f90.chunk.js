(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[8413,9782],{49286:()=>{},25531:()=>{},56531:()=>{},70501:(e,t,i)=>{"use strict";i.d(t,{bs:()=>r});var s=i(8159),o=i(56364),l=i(40329),a=i(32866),d=i(98409);let n=[];const r=e=>{e.persist();const t=e.target,{network:i,itemId:s,themeId:o}=t.dataset;if(1!=i||[3,4,16,47,50,55,60].includes(o))n.includes(e)||n.push(e);else{const e=document.querySelector(`.tb_media-${s}`);e&&(e.style.display="none")}1===n.length&&c()},c=async()=>{var e;const{postData:t,wall:i}=o.A.getState().appData;if(!i||!Object.keys(i).length||!n.length)return;const{User:r,Wall:u}=i,m=null===r||void 0===r?void 0:r.id,p=(l.HY,null===u||void 0===u?void 0:u.id),v=null===(e=n[0])||void 0===e?void 0:e.target,{filterId:g,network:b,itemId:_,load:y}=v.dataset,f=document.querySelector(`img[data-item-id="${_}"]`),w=null!==t&&void 0!==t&&t.completeDataObject?Object.values(t.completeDataObject).filter((e=>e.id===_)):[];if(null!==w&&void 0!==w&&w.length){var S;const e=await(async e=>["taggbox.com","tagbox.com","tagembed.com","socialwalls.com"].some((t=>e.includes(t)))||await fetch(e).then((e=>e.ok)).catch((()=>!1)))(null===(S=w[0])||void 0===S?void 0:S.postFileNew);if(!e&&f){if([2,18,3,28].includes(+b)&&"0"===y&&"34"!==g&&!v.src.includes("cloud.taggbox.com")){const e=((e,t,i)=>{var s,o,l,a,d;const{UserPlan:n,Wall:r}=t;return{table_name:null===n||void 0===n?void 0:n.db_table,...e,...null!==i&&void 0!==i&&i.length?{feedId:null===(s=i[0])||void 0===s?void 0:s.feedId,type:null===(o=i[0])||void 0===o?void 0:o.type,link:null===(l=i[0])||void 0===l?void 0:l.link,postFile:null===(a=i[0])||void 0===a?void 0:a.postFile,mediaFile:null===(d=i[0])||void 0===d?void 0:d.mediaFile}:{},url:null===r||void 0===r?void 0:r.url}})({wallId:p,postId:_,ownerId:m},i,w);try{const{data:t}=await(new d.A).post(l.t5,e,{headers:a.ML}),i=l.HY||l.MH?"":`https://images.${l.QR}/`;v.src="18"===b?`${i}${t.media}`:t.media}catch{v.src=s.gX}finally{h(v)}}else v.src=s.gX,h(v);n.shift(),c()}else{const e=`${s.th}/media/images/no-image.svg`;v.src=e,v.srcset=e,h(v),n.shift()}}},h=e=>e.setAttribute("data-load","1")},49782:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var s=i(88094),o=i(19066),l=i(8159),a=i(17524),d=i(70501),n=i(15678);const r=s.lazy((()=>Promise.all([i.e(4076),i.e(1111)]).then(i.bind(i,1111))));class c extends s.PureComponent{constructor(e){var t,i;super(e),this.updateMediaDimensions=()=>{if(this.mediaRef.current){const{offsetHeight:e,offsetWidth:t}=this.mediaRef.current;this.setState({currentHeight:e,currentWidth:t})}},this.mediaSizeCalc=async()=>{const{Post:e,mediaOnly:t}=this.props,i=t||e.media;if((null===i||void 0===i||!i.height)&&(null===i||void 0===i||!i.width))try{var s;const{width:e,height:t}=await(0,o.TW)(null===i||void 0===i||null===(s=i.image)||void 0===s?void 0:s.small);this._isMounted&&this.setState({height:t,width:e})}catch(l){this._isMounted&&this.setState({height:300,width:300})}};const{mediaOnly:l,Post:a}=e;this.state={isVisible:!this.props.observer,height:(null===l||void 0===l?void 0:l.height)||(null===a||void 0===a||null===(t=a.media)||void 0===t?void 0:t.height)||0,width:(null===l||void 0===l?void 0:l.width)||(null===a||void 0===a||null===(i=a.media)||void 0===i?void 0:i.width)||0,currentHeight:0,currentWidth:0},this.mediaRef=s.createRef(),this.observer=null}componentDidMount(){this._isMounted=!0,requestAnimationFrame((()=>{this.updateMediaDimensions(),this.mediaSizeCalc()})),this.observer=new IntersectionObserver((e=>{let[t]=e;t.isIntersecting&&(this.setState({isVisible:!0}),this.observer.disconnect())}),{threshold:.01}),this.mediaRef.current&&this.observer.observe(this.mediaRef.current)}componentWillUnmount(){this._isMounted=!1,this.observer&&this.observer.disconnect()}render(){var e,t,i,o;const{ImageClass:c,Post:h,hotspot:u,size:m,blurBG:p,ProductSetting:v,mediaOnly:g}=this.props,{id:b,link:_,products:y}=h,f=g||(null===h||void 0===h?void 0:h.media),{isVisible:w,height:S,width:x,currentWidth:P,currentHeight:j}=this.state,k=m||100*S/x,I={paddingBottom:1===k?null:`${k}%`},C={backgroundImage:w?`url(${null===f||void 0===f||null===(e=f.image)||void 0===e?void 0:e.small})`:null},M=x>S?"100%":x/S*100+"%",R=x>S?S/x*100+"%":"100%",V=h.isProduct&&u,H={width:V&&m?M:null,height:V&&m?R:null};return(0,n.jsxs)("div",{className:`${c}_wrap_`,style:I,ref:this.mediaRef,children:[V&&p?(0,n.jsx)("div",{className:"tb_blur_bg_",style:C}):null,(0,n.jsxs)("div",{className:`${c}_wrap_in`,style:H,children:[V?(0,n.jsx)(s.Suspense,{fallback:(0,n.jsx)(n.Fragment,{}),children:(0,n.jsx)(r,{products:y,ProductSetting:v,hotspot:h.hotspot,dataPost:h})}):null,w?(0,n.jsx)("img",{className:`${c} tb_media-${b}`,src:null===f||void 0===f||null===(t=f.image)||void 0===t?void 0:t.small,srcSet:`${null===f||void 0===f||null===(i=f.image)||void 0===i?void 0:i.small} 1x, ${null===f||void 0===f||null===(o=f.image)||void 0===o?void 0:o.large} 2x`,sizes:`${P}px`,loading:w?"eager":"lazy",decoding:"async",fetchPriority:w?"high":"low","data-id":b,height:j,width:P,"data-height":S,"data-width":x,"data-link":_,onLoad:this.onLoad,onError:e=>{e.target.src=`${l.th}/media/error/no-image.svg`,e.target.srcset=`${l.th}/media/error/no-image.svg`,(0,d.bs)(e)},alt:null===f||void 0===f?void 0:f.title,title:(0,a.Ay)(null===f||void 0===f?void 0:f.title)},b):null]})]})}}},71816:(e,t,i)=>{"use strict";i.d(t,{A:()=>h});var s=i(88094),o=i(25740),l=i.n(o),a=i(40329),d=i(17524),n=i(19066),r=i(15678);class c extends s.Component{constructor(e){super(e),this.mediaSizeCalc=async()=>{const{media:e}=this.props.Post;if((null===e||void 0===e||!e.height)&&(null===e||void 0===e||!e.width))try{var t;const{width:i,height:s}=await(0,n.TW)(null===e||void 0===e||null===(t=e.image)||void 0===t?void 0:t.small,{signal:this.abortController.signal});this._isMounted&&this.setState({calcHeight:s,calcWidth:i})}catch(i){this._isMounted&&"AbortError"!==i.name&&this.setState({calcHeight:300,calcWidth:300})}},this.setVideoLoaded=e=>{this._isMounted&&this.setState({videoLoaded:e})},this.state={loadError:!1,videoLoaded:!1,isVisible:!this.props.observer,calcHeight:0,calcWidth:0},this.mediaRef=s.createRef(),this.observer=null,this._isMounted=!1,this.abortController=new AbortController}componentDidMount(){this._isMounted=!0,this.mediaSizeCalc();try{this.observer=new IntersectionObserver((e=>{let[t]=e;this._isMounted&&this.setState({isVisible:!0})}),{threshold:.1}),this.mediaRef.current&&this.observer.observe(this.mediaRef.current)}catch(e){this._isMounted&&this.setState({isVisible:!0})}}componentWillUnmount(){this._isMounted=!1,this.observer&&this.observer.disconnect(),this.observer&&this.mediaRef.current&&this.observer.unobserve(this.mediaRef.current),this.abortController.abort()}render(){var e,t,i,s;const{VideoClass:o,Post:n,controls:c,autoPlay:h,handleVideoEnded:u,muted:m,intervalTime:p,size:v}=this.props,{isVisible:g,calcHeight:b,calcWidth:_}=this.state,{media:y,id:f,link:w,networkId:S}=n,x=1===v,P=null!==y&&void 0!==y&&y.height?null===y||void 0===y?void 0:y.height:b,j=null!==y&&void 0!==y&&y.width?null===y||void 0===y?void 0:y.width:_,k={paddingBottom:`${x?null:v||100*P/j}%`};return(0,r.jsx)("div",{className:`${o}_wrap_`,style:k,ref:this.mediaRef,children:(0,r.jsx)(l(),{className:`${o} tb_media-${f}`,url:g?null===y||void 0===y||null===(e=y.video)||void 0===e?void 0:e.full:null===y||void 0===y||null===(t=y.image)||void 0===t?void 0:t.small,"data-height":P,"data-width":j,"data-type":"video","data-network":S,"data-link":w,"data-item-id":f,"data-load":0,config:{facebook:{appId:"117029975354072",attributes:{"data-width":j,"data-height":P,poster:null===y||void 0===y||null===(i=y.image)||void 0===i?void 0:i.small}},file:{attributes:{preload:"metadata",poster:null===y||void 0===y||null===(s=y.image)||void 0===s?void 0:s.small}}},loop:!(a.aD&&!a.HY&&null!==n&&void 0!==n&&n.loopStop)&&h,onError:e=>{x&&u&&setTimeout((()=>{this._isMounted&&u&&u()}),1e3*p),this.setVideoLoaded(!1)},autoPlay:g&&h,muted:m,volume:h?1:0,playsinline:!0,onReady:()=>this.setVideoLoaded(!a.HY),playing:g&&h,controls:c||!1,onEnded:u,title:(0,d.Ay)(null===y||void 0===y?void 0:y.title)})})}}const h=(0,s.memo)(c)},72376:(e,t,i)=>{"use strict";i.d(t,{A:()=>l});var s=i(19066),o=i(15678);const l=e=>{let{count:t}=e;return(0,o.jsxs)("div",{className:"tb_r_view",children:[(0,o.jsx)("div",{className:"tb__icon tb-eye",children:(0,o.jsx)("div",{})}),(0,s.sl)(t)]})}},55731:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>f});var s=i(88094),o=i(83546),l=i(33578),a=i(69819),d=(i(12755),i(49286),i(25531),i(56531),i(40329)),n=i(47043),r=i(42682),c=i(49782),h=i(71816),u=i(15678);const m=e=>{let{Post:t,ThemeStyle:i,isVisible:s,index:o}=e;const l=!(![3,5].includes(t.type)||!s||1!=i.autoPlay&&d.HY);return(0,u.jsx)("div",{className:"tb_rtp_media_wrap",children:l?(0,u.jsx)(h.A,{VideoClass:"tb_rtp_video",Post:t,size:178,isCover:!0,muted:!0,autoPlay:!0,index:o}):(0,u.jsx)(c.default,{ImageClass:"tb_rtp_image",Post:t,size:178,index:o})})};var p=i(72376);const v=s.lazy((()=>i.e(8699).then(i.bind(i,48699)))),g=s.lazy((()=>i.e(7736).then(i.bind(i,97736))));class b extends s.PureComponent{constructor(e){super(e),this.mediaHeight=s.createRef()}componentDidMount(){const{Post:e,itemIndex:t,onClickPopUpSlider:i}=this.props;(d.Qy||d.HY)&&(0,n._7)(this.mediaHeight),e.isPopUp&&i(t,e)}render(){const{itemIndex:e,isVisible:t,clickToShowPopUp:i,ThemeStyle:o,CardStyle:l,Post:a,ProductSetting:n,sliderHeight:r,index:c}=this.props,{style:h}=l,b={backgroundColor:h.background,minHeight:r},_=!![3,5].includes(a.type);return(0,u.jsx)("div",{"data-id":a.id,id:`tb_rt_id-${a.id}`,className:"tb_rtp_post_wrapper",ref:this.mediaHeight,style:{padding:h.padding/2},"tb-product":a.isShopIcon?1:a.isHotspot?2:0,"area-label":a.content.text,role:"article",children:(0,u.jsxs)("div",{className:"tb_rtp_post_in tb_icon_animate "+(d.HY?"":"tb_rtp_post_in_animate"),style:b,onClick:i(e,a),role:"button","aria-label":"Popup",tabIndex:0,children:[(0,u.jsxs)("div",{className:"tb_rtp_post_media_wrapp",children:[_&&1==l.viewCountStatus&&(null===a||void 0===a?void 0:a.count.views)>0?(0,u.jsx)(p.A,{count:null===a||void 0===a?void 0:a.count.views}):null,(0,u.jsx)(m,{Post:a,CardStyle:l,ThemeStyle:o,isVisible:t,index:c}),d.HY?null:(0,u.jsx)("div",{className:"tb_rtp_play_ico",children:(0,u.jsx)("div",{className:"tb__icon tb-play",children:(0,u.jsx)("div",{})})})]}),a.isProduct?(0,u.jsxs)(s.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:[(0,u.jsx)(v,{Post:a,ProductSetting:n},`product_slide${a.id}`)," "]}):(0,u.jsx)(s.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(g,{Post:a,CardStyle:l,ThemeStyle:o,ProductSetting:n})})]})})}}const _=(0,s.memo)((e=>{const{postData:t,completeDataObject:i,clickToShowPopUp:o,hasMoreData:r,parentID:c,keyRender:h,containerSize:m,onClickPopUpSlider:p,CardStyle:v,ThemeStyle:g,ProductSetting:_,ThemeInfo:y,appendData:f,preRender:w,loaderData:S,nextData:x,loadMoredata:P}=e,j=(0,s.useRef)(null),k=(0,s.useRef)({}),[I,C]=(0,s.useState)(!1),M=(0,s.useCallback)((e=>{e.progress>.8&&r&&!S.isShowMoreLoading&&x(d.HY?y.webId:y.wallId,Math.floor(Date.now()/1e3),g.totalPosts,f.networkID,f.after,w,f.heightEvent)}),[r,S.isShowMoreLoading,x,y,g.totalPosts,f,w]),R=e=>{C(!0),setTimeout((()=>P()),1e3*e)};(0,s.useEffect)((()=>{const e=document.querySelectorAll(".splide__slide");if(e&&e.forEach((e=>{e.removeAttribute("aria-hidden"),e.removeAttribute("role")})),t&&1===t.length){const e=document.querySelector(".tb_rtp_arrow_left__"),t=document.querySelector(".tb_rtp_arrow_right__");e&&t&&(e.style.display="none",t.style.display="none")}}),[t]);const V=c,H=g.column.desktop,T=g.column.mobile,D=g.slide.autoSlide,$=g.slide.slideDuration,O=1===v.content.trimcontent,N=Math.floor(m.width/240);let A=1===N?2:N-.4,W=t;A>t.length&&(A=t.length);const E=0===H?A:parseInt(H)-.4;return E&&Math.round(E)<=t.length&&(W=Array(2).fill(t).flat()),(0,u.jsx)(u.Fragment,{children:c&&(0,u.jsx)("div",{className:"tb_rtp_post_container",ref:j,children:(0,u.jsx)(l.RC,{ref:e=>k.current[V]=e,style:{width:"100%",height:"100%"},onScroll:e=>{M(e),I||R(3)},onTouchMove:e=>{M(e),I||R(0)},onAutoplay:e=>{M(e),I||R(3)},autoHeight:!0,speed:700,edgeSwipeDetection:!0,slidesPerView:E,touchRatio:2,cssMode:(0,n.qs)(),passiveListeners:!0,height:"100%",freeMode:{enabled:!0,sticky:!1,momentumBounceRatio:2,momentumVelocityRatio:3},autoplay:!!d.HY&&{delay:1===D?1e3*$:99e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},loop:!r,slideFullyVisibleClass:"tb-swiper-slide-fully-visible",breakpoints:{0:{slidesPerView:T?parseInt(T)-.4:A},480:{slidesPerView:T?parseInt(T)-.4:A},575:{slidesPerView:T?parseInt(T)-.4:A},767:{slidesPerView:E},1024:{slidesPerView:E},1400:{slidesPerView:E},1600:{slidesPerView:E}},mousewheel:{forceToAxis:!0,sensitivity:2},watchSlidesProgress:!0,modules:[a.Ij,a.FJ,a.U1],className:"tb_rtp_post_slider "+(O?"tb_rtp_fixed_height":""),children:W&&W.length>0&&W.map(((e,t)=>{const s=i[e];return d.HY||[3,5].includes(s.type)?(0,u.jsx)(l.qr,{style:{margin:0,padding:0},p_id:c,className:`tb_${s.id}`,children:e=>{let{isVisible:i}=e;return(0,u.jsx)(b,{isVisible:i,Post:s,index:t,CardStyle:v,ThemeStyle:g,ProductSetting:_,ThemeInfo:y,clickToShowPopUp:o,onClickPopUpSlider:p})}},e.id):null}))},h)})})})),y={nextData:r.wF},f=(0,o.Ng)((e=>({loaderData:e.loaderData})),y)(_)},58496:(e,t,i)=>{"use strict";var s=i(63687);function o(){}function l(){}l.resetWarningCache=o,e.exports=function(){function e(e,t,i,o,l,a){if(a!==s){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}function t(){return e}e.isRequired=e;var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:l,resetWarningCache:o};return i.PropTypes=i,i}},32486:(e,t,i)=>{e.exports=i(58496)()},63687:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},95098:()=>{}}]);