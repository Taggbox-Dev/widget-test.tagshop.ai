(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[3899],{3494:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>l});var i=o(47313),a=o(20510),s=o.n(a),d=o(43635),n=o(35179),r=o(17739),c=o(46417);const p=(t,e)=>{if(25===e){return String(t).replace("https://w.soundcloud.com/player/?url=","")}return t};class l extends i.PureComponent{constructor(t){super(t),this.onMediaLoad=async t=>{const{data:e}=this.props;if(e&&Object.keys(e).length>0&&[4,5,3].includes(e.type))if(e.mediaHeight&&""!=e.mediaHeight&&e.mediaWidth&&""!=e.mediaWidth)this.setState({paddingBottom:100*e.mediaHeight/e.mediaWidth});else try{const{width:t,height:o}=await(0,r.GF)(e.postFileNew);this.setState({paddingBottom:100*o/t})}catch(o){this.setState({paddingBottom:100})}},this.setVideoLoaded=t=>{this.setState({videoLoaded:t})},this.handleProgress=t=>{},this.onUpdateTime=t=>{try{if(n.ig){const{played:e}=this.state;this.setState({played:e+t.playedSeconds})}}catch(e){console.log(e)}},this.state={loadError:!1,paddingBottom:100,videoLoaded:!1,imgUrl:this.props.data.postFileNew,played:0}}componentWillMount(){const{data:t}=this.props;let e=document.querySelector("#video_p_".concat(t.id));e&&(e.play(),e.muted=!0),this.props.size?this.setState({paddingBottom:this.props.size}):this.onMediaLoad()}componentDidMount(){const{data:t}=this.props;let e=document.querySelector("#video_p_".concat(t.id));e&&(e.play(),e.muted=!0),this.props.size?this.setState({paddingBottom:this.props.size}):this.onMediaLoad()}componentWillUnmount(){const{played:t}=this.state;n.ig&&(0,r.qE)(t)}render(){const{VideoClass:t,data:e,wallID:o,controls:i,autoPlay:a,handleVideoEnded:n,muted:r}=this.props,{videoLoaded:l}=this.state;return(0,c.jsxs)("div",{className:"".concat(t,"_wrap_ mediaHolder").concat(e.id),style:{paddingBottom:"100vh"},children:[(0,c.jsx)(s(),{className:"".concat(t," video").concat(e.id),url:p(e.mediaUrl,e.network.id),"data-type":"video","data-network":e.network.id,"data-link":e.link,"data-wall-id":o,"data-item-id":e.id,"data-feed-id":e.feedId?e.feedId:"","data-load":0,config:{facebook:{appId:"117029975354072",attributes:{"data-width":"auto","data-height":"".concat(document.querySelector(".ts_rt_post_in")?"".concat(document.querySelector(".ts_rt_post_in").clientHeight," px"):"100%")}},file:{forceVideo:!0,attributes:{muted:r}}},loop:!0,onError:t=>{e.stories&&0!=e.stories||(0,d.ib)(t,e.id)},muted:r,volume:a?1:0,playsinline:!0,onReady:t=>{this.setVideoLoaded(!0)},playing:a,height:"100%",width:"100%",controls:i,onProgress:this.onUpdateTime,style:{backgroundImage:l?null:"url(".concat(e.postFileNew,")")},onEnded:n||null}),l?null:(0,c.jsx)("div",{className:"tb_rpp_v_spinner",children:(0,c.jsx)("div",{})})]})}}},61729:(t,e,o)=>{"use strict";var i=o(79165);function a(){}function s(){}s.resetWarningCache=a,t.exports=function(){function t(t,e,o,a,s,d){if(d!==i){var n=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw n.name="Invariant Violation",n}}function e(){return t}t.isRequired=t;var o={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:s,resetWarningCache:a};return o.PropTypes=o,o}},75192:(t,e,o)=>{t.exports=o(61729)()},79165:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}]);