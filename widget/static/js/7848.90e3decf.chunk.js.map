{"version":3,"file":"static/js/7848.90e3decf.chunk.js","mappings":"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","sources":["app/index.js"],"sourcesContent":["import React, { PureComponent, Suspense } from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport { rID, activeTheme } from '../utils'\r\nimport { CloudHostUrl, TagboxUpload } from '../constants'\r\nimport { isTagShop, isTagbox, isSocialWall, isSocialEmbed, isEmbed } from \"../actions/api\";\r\n// import { spotlightFromScoket } from '../actions/displayAction'\r\n\r\nconst Header = React.lazy(() => import('./Header'));\r\nconst ReviewHeader = React.lazy(() => import('./ReviewHeader'));\r\nconst Ticker = React.lazy(() => import('./Components/Tickers'));\r\nconst Filters = React.lazy(() => import('./Components/Filters'));\r\nconst ThemeRoute = React.lazy(() => import('./Themes'));\r\nconst OnsiteUploadButton = React.lazy(() => import('./Components/UserComponents/OnsiteUploadButton'));\r\n\r\nclass App extends PureComponent {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      containerSize: {\r\n        width: null,\r\n        height: null,\r\n      },\r\n      parentID: ''\r\n    };\r\n    this.containerRef = React.createRef();\r\n    // this.resizeObserver = null; // Initialize ResizeObserver\r\n  }\r\n\r\n  componentDidMount() {\r\n    activeTheme(this.props.ThemeId)\r\n    \r\n    this.updateContainerSize();\r\n    window.addEventListener(\"resize\", this.updateContainerSize);\r\n    if (this.containerRef.current) {\r\n      // this.resizeObserver = new ResizeObserver(this.updateContainerSize);\r\n      // this.resizeObserver.observe(this.containerRef.current); // Start observing the div\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"resize\", this.updateContainerSize);\r\n    // if (this.resizeObserver) {\r\n    //   this.resizeObserver.disconnect(); // Stop observing the div\r\n    // }\r\n  }\r\n\r\n  updateContainerSize = () => {\r\n    if (this.containerRef.current) {\r\n      this.setState({\r\n        containerSize: {\r\n          width: this.containerRef.current.offsetWidth,\r\n          height: this.containerRef.current.offsetHeight,\r\n        },\r\n      });\r\n    }\r\n  };\r\n\r\n  // onLoadSpotLight = () => {\r\n  //   if (isSocialWall && !isEmbed) {\r\n  //     const { postData } = this.props\r\n  //     if (postData.completeDataObject && Object.keys(postData.completeDataObject).length) {\r\n  //       var spotLightData = null\r\n  //       Object.entries(postData.completeDataObject).forEach(([value]) => {\r\n  //         if (value?.highlight == 1 && spotLightData == null) spotLightData = value\r\n  //       });\r\n  //       if (spotLightData && Object.keys(spotLightData).length) spotlightFromScoket(spotLightData)\r\n  //     }\r\n  //   }\r\n  // }\r\n\r\n  componentDidUpdate() {\r\n    let p_class = document.querySelector('.tb_app_container')\r\n    let P_id = rID ? rID : p_class?.parentNode?.id\r\n    this.setState({ parentID: P_id })\r\n  }\r\n  \r\n  render() {\r\n    const { wall, reviewFilters, webFilters, postData, filter_tags } = this.props;\r\n    const {containerSize, parentID } = this.state\r\n    const  { SnapUp, ThemeInfo } = wall\r\n    const ThemeId = ThemeInfo.id \r\n\r\n    const bannerStatus = wall?.Banner && Object.keys(wall.Banner).length  && wall?.Banner?.status === 1 ? true : false\r\n    const customBannerStatus = wall?.BannerImage && Object.keys(wall.BannerImage).length  && wall?.BannerImage?.status === 1 ? true : false\r\n    const headerPositionTop = (bannerStatus && wall?.Banner?.banner_position == 1) || customBannerStatus ? true : false;\r\n    const headerPositionBottom = bannerStatus && wall?.Banner?.banner_position == 2 ? true : false;\r\n    const QrStatus = (SnapUp.ruleStatus) && (isTagShop && ![63, 64, 50].includes(ThemeId))\r\n\r\n    const filters =  (![55, 52, 60, 16, 47, 57, 61].includes(ThemeId)) ? true : false;\r\n    const isReviewBanner = wall.Banner && Object.keys(wall.Banner).length  && wall.Banner.status === 1 && wall.Banner.type == 6 && ![57, 84].includes(ThemeId)\r\n\r\n    const web_Filter_Status = isTagbox ? wall.Personalization.filterStatus === 1 ? true : false : isTagbox && wall.Personalization.filterStatus === 1 && webFilters && webFilters.length > 1 ? true : false\r\n    const teg_Filter_Status = filter_tags && filter_tags.length > 0 ? true : false\r\n   // const spotlightStatus = isSocialWall && wall?.spotlight?.status ? true : false\r\n\r\n    let brandNet = webFilters != '' && webFilters && webFilters.length ? webFilters.map(({ Network }) => Network?.id) : null;\r\n    if (!isTagShop && wall?.Background?.image && wall.Background.image.includes(CloudHostUrl)) wall.Background['image'] = String(wall.Background.image).replace(TagboxUpload, \"\");\r\n\r\n\r\n    const backgroundStyle = wall?.Background?.status === 1 && ThemeId !== 84 ? {\r\n      backgroundImage: (wall?.Background?.url) ? `url(${wall?.Background?.url})` : '',\r\n      backgroundColor: wall?.Background?.color\r\n    } : null\r\n\r\n    const reviewTheme = [63, 64].includes(ThemeId) ? true : false\r\n    const tagshopHeader = wall?.Reviews?.headerStatus == 1 && reviewTheme ? true : false\r\n    const reviewHeaderTop = ((isReviewBanner && headerPositionTop) || tagshopHeader)\r\n    const ticker = isSocialWall && !isSocialEmbed && wall.CustomTicker?.status === 1\r\n    const iswebFilters = (!isSocialWall && filters && (web_Filter_Status || teg_Filter_Status)) && ThemeId !== 84\r\n    const isThemeRoute = (reviewTheme && wall.Reviews.themeStatus == 1) || !reviewTheme;\r\n\r\n    \r\n\r\n    return <div className=\"tb_app_container\" style={{ minHeight: isEmbed ? [47, 16, 49, 55, 60, 52].includes(ThemeId) ? '100%' : `${this.props.postHeight}px` : null }} ref={this.containerRef}>\r\n      { ticker && wall.CustomTicker.ticker_position == 1  ? <Suspense fallback={<></>}><Ticker CustomTicker={wall.CustomTicker} /></Suspense> : null}\r\n      {headerPositionTop ? <Suspense fallback={<></>}><Header Banner={wall.Banner} BannerImage={wall.BannerImage} LogoImage={wall.LogoImage} /></Suspense> : ''}\r\n      <div className=\"tb_app_wrapper\" style={backgroundStyle}>\r\n        { reviewHeaderTop ? <Suspense fallback={<></>}><ReviewHeader isHeader={tagshopHeader} reviewFilters={reviewFilters} appendData={postData.appendData} wall={wall} postData={postData} /></Suspense> : null}\r\n        {QrStatus ? <Suspense fallback={<></>}> <OnsiteUploadButton SnapUp={wall.SnapUp} id={ThemeId} webId={ThemeInfo.webId} /> </Suspense> : null}\r\n        { iswebFilters ? <Suspense fallback={<></>}> <Filters type={wall.Personalization.filter_type} webFilters={webFilters} filter_tags={filter_tags} appendData={postData.appendData} wall={wall}  postData={postData} /></Suspense>\r\n        : '' }\r\n        { isThemeRoute ? <Suspense fallback={<></>}><ThemeRoute {...this.props} brandingNetworks={brandNet} containerSize={containerSize} parentID={parentID} /></Suspense> : null}\r\n        { isReviewBanner && headerPositionBottom ? <Suspense fallback={<></>}><ReviewHeader reviewFilters={reviewFilters} appendData={postData.appendData} wall={wall}  postData={postData} /></Suspense> : null} </div>\r\n        { headerPositionBottom ? <Suspense fallback={<></>}><Header Banner={wall.Banner} BannerImage={wall.BannerImage} LogoImage={wall.LogoImage} /></Suspense> : ''}\r\n        { ticker && wall.CustomTicker.ticker_position == 2 ? <Suspense fallback={<></>}><Ticker CustomTicker={wall.CustomTicker} /></Suspense> : null}\r\n      </div>\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return { renderId: state.renderId }\r\n}\r\n\r\nexport default connect(mapStateToProps, null)(App);\r\n"],"names":["Header","React","ReviewHeader","Ticker","Filters","ThemeRoute","OnsiteUploadButton","App","PureComponent","constructor","super","updateContainerSize","this","containerRef","current","setState","containerSize","width","offsetWidth","height","offsetHeight","state","parentID","componentDidMount","activeTheme","props","ThemeId","window","addEventListener","componentWillUnmount","removeEventListener","componentDidUpdate","_p_class$parentNode","p_class","document","querySelector","P_id","rID","parentNode","id","render","_wall$Banner","_wall$BannerImage","_wall$Banner2","_wall$Banner3","_wall$Background","_wall$Background2","_wall$Background3","_wall$Background4","_wall$Background5","_wall$Reviews","_wall$CustomTicker","wall","reviewFilters","webFilters","postData","filter_tags","SnapUp","ThemeInfo","bannerStatus","Banner","Object","keys","length","status","customBannerStatus","BannerImage","headerPositionTop","banner_position","headerPositionBottom","QrStatus","ruleStatus","isTagShop","includes","filters","isReviewBanner","type","web_Filter_Status","isTagbox","Personalization","filterStatus","teg_Filter_Status","brandNet","map","_ref","Network","Background","image","CloudHostUrl","String","replace","TagboxUpload","backgroundStyle","backgroundImage","url","backgroundColor","color","reviewTheme","tagshopHeader","Reviews","headerStatus","reviewHeaderTop","ticker","isSocialWall","isSocialEmbed","CustomTicker","iswebFilters","isThemeRoute","themeStatus","_jsxs","className","style","minHeight","isEmbed","postHeight","ref","children","ticker_position","_jsx","Suspense","fallback","_Fragment","LogoImage","isHeader","appendData","webId","filter_type","brandingNetworks","connect","renderId"],"sourceRoot":""}