{"version":3,"file":"static/js/7848.fc09d0b1.chunk.js","mappings":"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","sources":["app/index.js"],"sourcesContent":["import React, { PureComponent, Suspense } from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport { rID, visitorRequest } from '../utils'\r\nimport { CloudHostUrl, TagboxUpload } from '../constants'\r\nimport { isTagShop, isTagbox, isSocialWall, isSocialEmbed, isEmbed } from \"../actions/api\";\r\n\r\n\r\nconst Header = React.lazy(() => import('./Header'));\r\nconst ReviewHeader = React.lazy(() => import('./ReviewHeader'));\r\nconst Ticker = React.lazy(() => import('./Components/Tickers'));\r\nconst Filters = React.lazy(() => import('./Components/Filters'));\r\nconst ThemeRoute = React.lazy(() => import('./Themes'));\r\nconst OnsiteUploadButton = React.lazy(() => import('./Components/UserComponents/OnsiteUploadButton'));\r\n\r\nclass App extends PureComponent {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      containerSize: {\r\n        width: null,\r\n        height: null,\r\n      },\r\n      parentID: ''\r\n    };\r\n    this.containerRef = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n   // activeTheme(this.props.ThemeId)\r\n\r\n    this.updateContainerSize();\r\n    window.addEventListener(\"resize\", this.updateContainerSize);\r\n\r\n    this.observer = new IntersectionObserver(\r\n      ([entry]) => {\r\n        if (entry.isIntersecting) {\r\n          visitorRequest()\r\n          this.observer.disconnect(); // Ek baar API call hone ke baad observer remove karna\r\n        }\r\n      },\r\n      { threshold: 0.002 } // 0.2% visibility\r\n    );\r\n\r\n    if (this?.containerRef?.current) {\r\n      this.observer.observe(this?.containerRef?.current);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"resize\", this.updateContainerSize);\r\n  }\r\n\r\n  updateContainerSize = () => {\r\n    if (this.containerRef.current) {\r\n      this.setState({\r\n        containerSize: {\r\n          width: this.containerRef.current.offsetWidth,\r\n          height: this.containerRef.current.offsetHeight,\r\n        },\r\n      });\r\n    }\r\n  };\r\n\r\n  componentDidUpdate() {\r\n    let p_class = document.querySelector('.tb_app_container')\r\n    let P_id = rID ? rID : p_class?.parentNode?.id\r\n    this.setState({ parentID: P_id })\r\n  }\r\n\r\n  render() {\r\n    const { wall, reviewFilters, webFilters, postData, filter_tags } = this.props;\r\n    const { containerSize, parentID } = this.state\r\n    const { SnapUp, ThemeInfo } = wall\r\n    const ThemeId = ThemeInfo?.id\r\n\r\n    const bannerStatus = wall?.Banner && Object.keys(wall.Banner).length && wall?.Banner?.status === 1 ? true : false\r\n    const customBannerStatus = wall?.BannerImage && Object.keys(wall.BannerImage).length && wall?.BannerImage?.status === 1 ? true : false\r\n    const headerPositionTop = (bannerStatus && wall?.Banner?.banner_position == 1) || customBannerStatus ? true : false;\r\n    const headerPositionBottom = bannerStatus && wall?.Banner?.banner_position == 2 ? true : false;\r\n    const QrStatus = (SnapUp?.ruleStatus) && (isTagShop && ![63, 64, 50].includes(ThemeId))\r\n\r\n    const filters = (![55, 52, 60, 16, 47, 57, 61].includes(ThemeId)) ? true : false;\r\n    const isReviewBanner = wall.Banner && Object.keys(wall.Banner).length && wall.Banner.status === 1 && wall.Banner.type == 6 && ![57, 84].includes(ThemeId)\r\n\r\n    const web_Filter_Status = isTagbox ? wall.Personalization.filterStatus === 1 ? true : false : isTagbox && wall.Personalization.filterStatus === 1 && webFilters && webFilters.length > 1 ? true : false\r\n    const teg_Filter_Status = filter_tags && filter_tags.length > 0 ? true : false\r\n    // const spotlightStatus = isSocialWall && wall?.spotlight?.status ? true : false\r\n\r\n    let brandNet = webFilters != '' && webFilters && webFilters.length ? webFilters.map(({ Network }) => Network?.id) : null;\r\n    if (!isTagShop && wall?.Background?.image && wall.Background.image.includes(CloudHostUrl)) wall.Background['image'] = String(wall.Background.image).replace(TagboxUpload, \"\");\r\n\r\n\r\n    const backgroundStyle = wall?.Background?.status === 1 && ThemeId !== 84 ? {\r\n      backgroundImage: (wall?.Background?.url) ? `url(${wall?.Background?.url})` : '',\r\n      backgroundColor: wall?.Background?.color\r\n    } : null\r\n\r\n    const reviewTheme = [63, 64].includes(ThemeId) ? true : false\r\n    const tagshopHeader = wall?.Reviews?.headerStatus == 1 && reviewTheme ? true : false\r\n    const reviewHeaderTop = ((isReviewBanner && headerPositionTop) || tagshopHeader)\r\n    const ticker = isSocialWall && !isSocialEmbed && wall.CustomTicker?.status === 1\r\n    const iswebFilters = (!isSocialWall && filters && (web_Filter_Status || teg_Filter_Status)) && ThemeId !== 84\r\n    const isThemeRoute = (reviewTheme && wall.Reviews.themeStatus == 1) || !reviewTheme;\r\n    const isRevieFilter = isTagbox ? reviewFilters : []\r\n\r\n\r\n    return <div className=\"tb_app_container\" style={{ minHeight: isEmbed ? [47, 16, 49, 55, 60, 52].includes(ThemeId) ? '100%' : `${this.props.postHeight}px` : null }} ref={this.containerRef}>\r\n      {ticker && wall.CustomTicker.ticker_position == 1 ? <Suspense fallback={<></>}><Ticker CustomTicker={wall.CustomTicker} /></Suspense> : null}\r\n      {headerPositionTop ? <Suspense fallback={<></>}><Header Banner={wall.Banner} BannerImage={wall.BannerImage} LogoImage={wall.LogoImage} /></Suspense> : ''}\r\n      <div className=\"tb_app_wrapper\" style={backgroundStyle}>\r\n        {reviewHeaderTop ? <Suspense fallback={<></>}><ReviewHeader isHeader={tagshopHeader} reviewFilters={isRevieFilter} appendData={postData.appendData} wall={wall} postData={postData} /></Suspense> : null}\r\n        {QrStatus ? <Suspense fallback={<></>}> <OnsiteUploadButton SnapUp={wall.SnapUp} id={ThemeId} webId={ThemeInfo.webId} /> </Suspense> : null}\r\n        {iswebFilters ? <Suspense fallback={<></>}> <Filters type={wall.Personalization.filter_type} webFilters={webFilters} filter_tags={filter_tags} appendData={postData.appendData} wall={wall} postData={postData} /></Suspense>\r\n          : ''}\r\n        {isThemeRoute ? <Suspense fallback={<></>}><ThemeRoute {...this.props} brandingNetworks={brandNet} containerSize={containerSize} parentID={parentID} /></Suspense> : null}\r\n        {isReviewBanner && headerPositionBottom ? <Suspense fallback={<></>}><ReviewHeader reviewFilters={isRevieFilter} appendData={postData.appendData} wall={wall} postData={postData} /></Suspense> : null} </div>\r\n      {headerPositionBottom ? <Suspense fallback={<></>}><Header Banner={wall.Banner} BannerImage={wall.BannerImage} LogoImage={wall.LogoImage} /></Suspense> : ''}\r\n      {ticker && wall.CustomTicker.ticker_position == 2 ? <Suspense fallback={<></>}><Ticker CustomTicker={wall.CustomTicker} /></Suspense> : null}\r\n    </div>\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return { renderId: state.renderId }\r\n}\r\n\r\nexport default connect(mapStateToProps, null)(App);\r\n"],"names":["Header","React","ReviewHeader","Ticker","Filters","ThemeRoute","OnsiteUploadButton","App","PureComponent","constructor","super","updateContainerSize","this","containerRef","current","setState","containerSize","width","offsetWidth","height","offsetHeight","state","parentID","componentDidMount","_this$containerRef","_this$containerRef2","window","addEventListener","observer","IntersectionObserver","_ref","entry","isIntersecting","visitorRequest","disconnect","threshold","observe","componentWillUnmount","removeEventListener","componentDidUpdate","_p_class$parentNode","p_class","document","querySelector","P_id","rID","parentNode","id","render","_wall$Banner","_wall$BannerImage","_wall$Banner2","_wall$Banner3","_wall$Background","_wall$Background2","_wall$Background3","_wall$Background4","_wall$Background5","_wall$Reviews","_wall$CustomTicker","wall","reviewFilters","webFilters","postData","filter_tags","props","SnapUp","ThemeInfo","ThemeId","bannerStatus","Banner","Object","keys","length","status","customBannerStatus","BannerImage","headerPositionTop","banner_position","headerPositionBottom","QrStatus","ruleStatus","isTagShop","includes","filters","isReviewBanner","type","web_Filter_Status","isTagbox","Personalization","filterStatus","teg_Filter_Status","brandNet","map","_ref2","Network","Background","image","CloudHostUrl","String","replace","TagboxUpload","backgroundStyle","backgroundImage","url","backgroundColor","color","reviewTheme","tagshopHeader","Reviews","headerStatus","reviewHeaderTop","ticker","isSocialWall","isSocialEmbed","CustomTicker","iswebFilters","isThemeRoute","themeStatus","isRevieFilter","_jsxs","className","style","minHeight","isEmbed","postHeight","ref","children","ticker_position","_jsx","Suspense","fallback","_Fragment","LogoImage","isHeader","appendData","webId","filter_type","brandingNetworks","connect","renderId"],"sourceRoot":""}