(self.webpackChunkcommerce_themes_update=self.webpackChunkcommerce_themes_update||[]).push([[584],{226:(t,s,e)=>{"use strict";e.d(s,{A:()=>i});var a=e(4638),o=e(579);const i=t=>{let{authorClass:s,author:e,postTime:i,link:c}=t;const{name:n,picture:l,username:d,errorPic:r,isInstaUser:_}=e;return(0,o.jsxs)("a",{href:c||"",target:c?"_blank":"",className:"tb_sob_author ".concat(s),children:[(0,o.jsx)("div",{className:"tb_sob_author_profile",children:(0,o.jsx)("img",{className:"tb_sob_author_profile__",src:l,alt:n,width:"44",height:"44",onError:t=>t.target.src=r})}),(0,o.jsxs)("div",{className:"tb_sob_author_info",children:[(0,o.jsx)("div",{className:"tb_sob_authorname",children:n}),(0,o.jsxs)("div",{className:"tb_sob_post_info",children:[(null===d||void 0===d?void 0:d.length)>0?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"tb_sob_username",children:["@",d]}),(0,o.jsx)("div",{className:"tb_sob_seprator",children:" "})]}):null,(0,o.jsx)("div",{className:"tb_sob_time",children:(0,a.fF)(i)})]})]})]})}},4610:(t,s,e)=>{"use strict";e.d(s,{A:()=>o});var a=e(579);const o=t=>{let{error:s}=t;return(0,a.jsxs)("div",{className:"tb_nf_wrap",children:[(0,a.jsx)("div",{className:"tb_no_ico",children:(0,a.jsx)("div",{className:"tb__icon tb-camera"})}),(0,a.jsx)("div",{className:"tb_nf_title",children:s})]})}},6533:(t,s,e)=>{"use strict";e.d(s,{A:()=>i});e(5043);var a=e(579);const o=Array.from({length:2},((t,s)=>s+1)),i=t=>{let{isAuthor:s}=t;return(0,a.jsxs)("div",{className:"tb_sob_pro",children:[s?(0,a.jsxs)("div",{className:"tb_sob_author tb_sob_m_a",children:[(0,a.jsx)("div",{className:"tb_sob_author_profile sk_img"}),(0,a.jsxs)("div",{className:"tb_sob_author_info",children:[(0,a.jsx)("div",{className:"tb_sob_authorname sk_line sk_line_60 sk_line_height_12",style:{marginBottom:10}}),(0,a.jsx)("div",{className:"tb_sob_post_info sk_line sk_line_80 sk_line_height_8",children:" "})]})]}):"",(0,a.jsx)("div",{className:"tb_sob_pro_media",children:(0,a.jsx)("div",{className:"tb_sob_img_wrap_ sk_rect"})}),(0,a.jsx)("div",{className:"tb_sob_pro_cont",children:s?(0,a.jsxs)("div",{className:"tb_sob_pro_w",children:[(0,a.jsxs)("div",{className:"tb_sob_author tb_sob_d_a",children:[(0,a.jsx)("div",{className:"tb_sob_author_profile sk_img"}),(0,a.jsxs)("div",{className:"tb_sob_author_info",children:[(0,a.jsx)("div",{className:"tb_sob_authorname sk_line sk_line_60 sk_line_height_12",style:{marginBottom:10}}),(0,a.jsx)("div",{className:"tb_sob_post_info sk_line sk_line_80 sk_line_height_8"})]})]}),(0,a.jsx)("div",{className:"tb_sob_des_wrap",children:(0,a.jsxs)("div",{className:"tb_sob_des_",children:[(0,a.jsx)("div",{className:"sk_line sk_line_100 sk_line_height_10",style:{marginBottom:12}}),(0,a.jsx)("div",{className:"sk_line sk_line_60 sk_line_height_10",style:{marginBottom:10}})]})}),(0,a.jsxs)("div",{className:"tb_sob_pro_list_wrap",children:[(0,a.jsx)("div",{className:"sk_line sk_line_40 sk_line_height_10",style:{marginBottom:20}}),(0,a.jsx)("div",{className:"tb_sob_pro_list",children:o.map(((t,s)=>(0,a.jsxs)("div",{className:"tb_sob_p_list",children:[(0,a.jsx)("div",{className:"tb_sob_l_pro sk_img"}),(0,a.jsxs)("div",{className:"tb_sob_p_d",children:[(0,a.jsx)("div",{className:"tb_sob_p_t sk_line sk_line_60 sk_line_height_12",style:{marginBottom:10}}),(0,a.jsx)("div",{className:"tb_sob_p_p_w sk_line sk_line_80 sk_line_height_8"})]})]})))})]})]}):(0,a.jsxs)("div",{className:"tb_sob_pro_list_wrap",children:[(0,a.jsx)("div",{className:"sk_line sk_line_80 sk_line_height_12",style:{marginBottom:10}}),(0,a.jsx)("div",{className:"sk_line sk_line_40 sk_line_height_12",style:{marginBottom:18}}),(0,a.jsx)("div",{className:"sk_line sk_line_100",style:{marginBottom:20,height:35,borderRadius:4}}),o.map(((t,s)=>(0,a.jsxs)("div",{className:"tb_sob_r_p_wrap",children:[(0,a.jsxs)("div",{className:"tb_sob_author tb_sob_r_pa",children:[(0,a.jsx)("div",{className:"tb_sob_author_profile sk_img"}),(0,a.jsx)("div",{className:"tb_sob_p_t sk_line sk_line_60 sk_line_height_12",style:{marginBottom:0}})]}),(0,a.jsxs)("div",{className:"tb_sob_r_p",children:[(0,a.jsx)("div",{className:"tb_sob_r_pm sk_rect",style:{paddingBottom:100}}),(0,a.jsxs)("div",{className:"tb_sob_r_pc",children:[(0,a.jsx)("div",{className:"sk_line sk_line_100 sk_line_height_8",style:{marginBottom:10}}),(0,a.jsx)("div",{className:"sk_line sk_line_100 sk_line_height_8",style:{marginBottom:10}}),(0,a.jsx)("div",{className:"sk_line sk_line_50 sk_line_height_8",style:{marginBottom:10}})]})]})]},s)))]})})]})}},8008:(t,s,e)=>{"use strict";e.d(s,{A:()=>c});e(5043);var a=e(3216),o=e(6729),i=e(579);const c=(0,o.A)((t=>{const s=(0,a.Zp)(),{params:e,title:o,type:c}=t;console.log("props",e.userId,c);const n="/".concat(e.userId);return 2==c&&localStorage.setItem("isActiveProduct",!0),(0,i.jsx)("div",{className:"tb_sob_ph",children:(0,i.jsxs)("div",{className:"tb_sob_ph_w",children:[(0,i.jsx)("div",{className:"tb_sob_ph_b",onClick:t=>s(n),children:(0,i.jsx)("div",{className:"tb__icon tb-chevron-left"})}),(0,i.jsx)("div",{className:"tb_sob_ph_t",children:o||"Posts"}),(0,i.jsx)("div",{className:"tb_sob_ph_dbtn",onClick:t=>s(n)})]})})}))},6360:(t,s,e)=>{"use strict";e.r(s),e.d(s,{default:()=>f});var a=e(5043),o=e(8925),i=e(2373),c=e(3216),n=e(9532),l=(e(3433),e(579));const d=t=>'<a href="'.concat(t.product_url,'" target="_blank" className="tb_tooltip_wrap">').concat(t.product_title,"</a>"),r=t=>{let{product:s}=t;const[e,o]=(0,a.useState)(null);return(0,l.jsx)("div",{className:"tb_hotspot_wrap",children:s.map(((t,s)=>(0,l.jsxs)("div",{href:t.product_url,id:"tb_hotspot-".concat(t.id),onClick:t=>{t.stopPropagation()},onMouseEnter:t=>o(s),onMouseOut:t=>o(null),className:"tb_hotspot_dot".concat(e==s?" tb_hotspot_active_":""),style:{top:t.hotspot_cordinates.top,left:t.hotspot_cordinates.left},"data-tooltip-offset":7,children:[(0,l.jsx)("div",{className:"tb_hotspot__ tb_hotspot_ani__",onClick:s=>window.open(t.UgcProduct.product_url,"_blank"),children:s+1}),(0,l.jsx)(n.m_,{isOpen:"true",className:"tb_pro_tooltip",anchorSelect:"#tb_hotspot-".concat(t.id),clickable:!0,html:d(t.UgcProduct)})]},s)))})};var _=e(2908),h=e(3823);class m extends a.PureComponent{constructor(t){super(t),this.onLoad=t=>{1==t.target.getAttribute("data-load")&&this.setState({imgUrl:t.target.src})},this.onMediaLoad=async t=>{const{data:s}=this.props;if(s&&Object.keys(s).length>0&&[2,4,5,3].includes(s.type))if(s.mediaHeight&&""!=s.mediaHeight&&s.mediaWidth&&""!=s.mediaWidth)this.setState({paddingBottom:100*s.mediaHeight/s.mediaWidth});else try{const{width:t,height:e}=await(0,h.pG)(s.postFileNew);this.setState({paddingBottom:100*e/t})}catch(e){this.setState({paddingBottom:100})}},this.state={loadError:!1,imgUrl:this.props.data.postFileNew,paddingBottom:100}}componentDidMount(){this.onMediaLoad()}render(){const{ImageClass:t,data:s,hotspot:e}=this.props,{imgUrl:a,paddingBottom:o}=this.state,i={paddingBottom:"".concat(o,"%")},c={backgroundImage:"url(".concat(a,")")},n=!!(s.hotspot&&s.ugc_products.length>0);return(0,l.jsxs)("div",{className:"".concat(t,"_wrap_ mediaHolder").concat(s.id),style:i,children:[n?(0,l.jsx)("div",{className:"tb_blur_bg_",style:c}):null,(0,l.jsxs)("div",{className:"".concat(t,"_wrap_in"),style:{width:n?"":"100%"},children:[n?(0,l.jsx)(r,{product:s.ugc_products}):null,(0,l.jsx)("img",{className:"".concat(t),role:"img",src:a,height:300,width:300,onError:s.stories?null:t=>{t.target.src=_.gX},alt:""})]})]})}}var p=e(1043),b=e.n(p);class u extends a.PureComponent{constructor(t){super(t),this.onLoad=t=>{1==t.target.getAttribute("data-load")&&this.setState({imgUrl:t.target.src})},this.onMediaLoad=async t=>{const{data:s}=this.props;if(s&&Object.keys(s).length>0&&[2,4,5,3].includes(s.type))if(s.mediaHeight&&""!=s.mediaHeight&&s.mediaWidth&&""!=s.mediaWidth)this.setState({paddingBottom:100*s.mediaHeight/s.mediaWidth});else try{const{width:t,height:e}=await(0,h.pG)(s.postFileNew);this.setState({paddingBottom:100*e/t})}catch(e){this.setState({paddingBottom:100})}},this.muteToggle=()=>{this.setState({muted:!this.state.muted})},this.state={loadError:!1,imgUrl:this.props.data.postFileNew,paddingBottom:100,videoLoaded:!1,muted:!1}}componentDidMount(){this.onMediaLoad()}render(){const{VideoClass:t,data:s,wallID:e,isCover:a,autoPlay:o,handleVideoEnded:i}=this.props,{paddingBottom:c,videoLoaded:n,muted:d}=this.state,r={paddingBottom:"".concat(c,"%")},_=s.mediaClip&&String(s.mediaClip).length>0?s.mediaClip:s.mediaUrl;return(0,l.jsxs)("div",{className:"".concat(t,"_wrap_ mediaHolder").concat(s.id),style:r,children:[(0,l.jsx)("div",{className:"tb_m_mute_btn",onClick:this.muteToggle,children:(0,l.jsx)("div",{className:"tb__icon tb-".concat(d?"mute":"unmute"),children:(0,l.jsx)("div",{})})}),(0,l.jsx)(b(),{className:"".concat(t," video").concat(s.id),url:_,"data-type":"video","data-network":s.network.id,"data-link":s.link,"data-wall-id":e,"data-item-id":s.id,"data-feed-id":s.feedId?s.feedId:"","data-load":0,config:{facebook:{appId:"117029975354072",attributes:{"data-width":"auto"}}},loop:!o,onError:t=>{},autoPlay:o,muted:d,volume:o?1:0,playsinline:!0,playing:o,height:"100%",width:"100%",controls:!1,style:{backgroundImage:n?"":"url(".concat(s.filename,")"),backgroundSize:a?"cover":"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"},onEnded:i||null})]})}}const g=t=>{let{itemData:s}=t;const e=3===s.type||5===s.type;return(0,l.jsx)("div",{className:"tb_sob_media",children:e?(0,l.jsx)(u,{VideoClass:"tb_sob_video",data:s,size:100,isCover:!0,muted:!0,autoPlay:e,handleVideoEnded:()=>{}}):(0,l.jsx)(m,{ImageClass:"tb_sob_img",data:s,size:100,hotspot:!0})})};var v=e(1539),j=e(226),x=e(8008),N=e(6729),k=e(4610),y=e(6533);const f=(0,N.A)((t=>{var s,e;let{params:n}=t;const d=(0,c.Zp)(),[r,h]=(0,a.useState)(!0),[m,p]=(0,a.useState)(null),[b,u]=(0,a.useState)(!0),{posts:N}=(0,i.d4)((t=>t.users));(0,a.useEffect)((()=>{(()=>{try{h(!0);const t=N.filter((t=>t.id==n.id));(null===t||void 0===t?void 0:t.length)>0?(p(t[0]),h(!1)):(0,v.Q3)(n).then((t=>{const{posts:s}=t.data;p((null===s||void 0===s?void 0:s.length)>0?s[0]:{}),h(!1)})).catch((t=>{h(!1)}))}catch(t){h(!1)}})()}),[]);const f=(t,s)=>t=>{(0,v.IO)({type:1,action:2,product_id:s.UgcProduct.id}),d("/".concat(n.userId,"/product/").concat(s.UgcProduct.id))};return(0,l.jsx)("div",{className:"tb_sob_po_container",children:(0,l.jsxs)("div",{className:"tb_sob_pro_contain",children:[(0,l.jsx)(x.A,{title:"Posts",type:"1"}),r?(0,l.jsx)(y.A,{isAuthor:!0}):m&&Object.keys(m).length>0?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(j.A,{authorClass:"tb_sob_m_a",author:m.author,postTime:m.createdAt,link:m.link}),(0,l.jsxs)("div",{className:"tb_sob_pro",children:[(0,l.jsxs)("div",{className:"tb_sob_pro_media",children:[(0,l.jsx)(g,{itemData:m,isSingle:!0}),(null===m||void 0===m||null===(s=m.ugc_products)||void 0===s?void 0:s.length)>0?(0,l.jsxs)("div",{className:"tb_sob_vp_btn",onClick:t=>{const s=document.getElementById("targetSection");if(s){const t=s.offsetTop-50;window.scrollTo({top:t,behavior:"smooth"})}},children:[(0,l.jsx)("div",{className:"tb__icon tb-bag-fill"}),(0,l.jsx)("div",{className:"tb_sob_vp",children:"View Products"})]}):""]}),(0,l.jsx)("div",{className:"tb_sob_pro_cont",children:(0,l.jsxs)("div",{className:"tb_sob_pro_w",children:[(0,l.jsx)(j.A,{authorClass:"tb_sob_d_a",author:m.author,postTime:m.createdAt,link:m.link}),(0,l.jsxs)("div",{className:"tb_sob_des_wrap",children:[b&&m.content.length>120?(0,l.jsx)("div",{className:"tb_sob_des_",children:"".concat((0,o.Ay)(m.content.slice(0,120)),"...")}):(0,l.jsx)("div",{className:"tb_sob_des_",children:(0,o.Ay)(m.content)}),m.content.length>120?(0,l.jsx)("div",{className:"tb_sob_rm",onClick:()=>u(!b),children:b?"more":"less"}):null]}),(null===m||void 0===m||null===(e=m.ugc_products)||void 0===e?void 0:e.length)>0?(0,l.jsxs)("div",{className:"tb_sob_pro_list_wrap",id:"targetSection",children:[(0,l.jsx)("div",{className:"tb_sob_all_p",children:"Products"}),(0,l.jsx)("div",{className:"tb_sob_pro_list",children:m.ugc_products.map(((t,s)=>{const{UgcProduct:e,ugc_product:a}=t;return(0,l.jsxs)("div",{className:"tb_sob_p_list",onClick:f(0,t),children:[(0,l.jsx)("div",{className:"tb_sob_l_pro",children:(0,l.jsx)("img",{className:"tb_sob_l_pro__",src:e.product_image,alt:e.product_title,width:"44",height:"44",onError:t=>t.target.src=_.qF})}),(0,l.jsxs)("div",{className:"tb_sob_p_d",children:[(0,l.jsx)("div",{className:"tb_sob_p_t",children:e.product_title}),(0,l.jsxs)("div",{className:"tb_sob_p_p_w",children:[(0,l.jsxs)("div",{className:"tb_sob_p_p",children:[e.price_currency_symbol,e.product_price]}),(0,l.jsxs)("div",{className:"tb_sob_d_p",children:[e.discount_currency_symbol,e.product_discount]})]})]}),(0,l.jsx)("a",{className:"tb_sob_p_btn tb_sob_pb__",href:e.product_url,target:"_blank",children:"View On Website"})]},a)}))})]}):null]})})]})]}):(0,l.jsx)(k.A,{error:"No Post"})]})})}))},6729:(t,s,e)=>{"use strict";e.d(s,{A:()=>i});e(5043);var a=e(3216),o=e(579);const i=t=>s=>{const e=(0,a.g)();return(0,o.jsx)(t,{...s,params:e})}},1539:(t,s,e)=>{"use strict";e.d(s,{jD:()=>h,$h:()=>_,k8:()=>u,db:()=>v,IO:()=>j,Q3:()=>m,nr:()=>p});var a=e(854),o=e.n(a),i=e(2908);const c=t=>({...t,headers:{...t.headers}});const n=class{constructor(){const t={baseURL:i.bt},s=o().create(t);return s.interceptors.request.use(c),o().interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),s}};var l=e(8215),d=e(1175);const r=(t,s,e)=>({slug_:t||"",limit_:s&&s>0?s:"",offset_:e&&e>0?e:""}),_=(t,s,e)=>{try{const{slug_:a,limit_:o,offset_:c}=r(t,s,e);return t=>{t({type:l.hU,payload:!0}),(new n).get("".concat(i.$w,"/").concat(a,"/").concat(o,"/").concat(c)).then((s=>{const{after:e,brand:o,postData:i,productSetting:c}=s.data;t({type:l.ZK,payload:{after:e,brand:o,postData:i,productSetting:c,slug_:a}})})).catch((s=>{t({type:l.hU,payload:!1})}))}}catch(a){}},h=(t,s,e)=>{try{const{slug_:a,limit_:o,offset_:c}=r(t,s,e);return t=>{t({type:l.Ju,payload:!0}),(new n).get("".concat(i.De,"/").concat(a,"/").concat(o,"/").concat(c)).then((s=>{const{responseData:e}=s.data;t({type:l.s8,payload:{products:e.products,brand:e.brand,productSetting:e.productSetting}})})).catch((s=>{t({type:l.Ju,payload:!1})}))}}catch(a){}},m=t=>{const{userId:s,id:e}=t;try{return(new n).get("".concat(i.df).concat(s,"/post/").concat(e))}catch(a){}},p=t=>{const{userId:s,id:e}=t;try{return(new n).get("".concat(i.df).concat(s,"/product/").concat(e))}catch(a){}};var b;const u=()=>{try{const{brand:t,after:s,isLoadPostRequest:e,hasPost:a}=d.A.getState().users;return c=>{if(e||1!=a)c({type:l.Mn,payload:!1});else{let e={};b&&b.cancel(),b=o().CancelToken.source(),e.cancelToken=b.token,c({type:l.Mn,payload:!0}),(new n).get("".concat(i.b).concat(t.wallId,"/9/").concat(s),e).then((t=>{const{responseCode:s,data:e,after:a,hasPost:o}=t.data;200==s?setTimeout((()=>c({type:l.Hd,payload:{data:e,after:a,hasPost:o}})),2e3):c({type:l.Mn,payload:!1})})).catch((t=>{c({type:l.Mn,payload:!1}),console.log("error",t)}))}}}catch(t){}};var g;const v=()=>{try{const{brand:t,isLoadProductRequest:s,hasProduct:e,productParmas:a}=d.A.getState().users;return c=>{if(s||1!=e)c({type:l.FY,payload:!1});else{let s={};g&&g.cancel(),g=o().CancelToken.source(),s.cancelToken=g.token,c({type:l.FY,payload:!0}),(new n).get("".concat(i.xJ).concat(t.wallId,"/").concat(a.limit,"/").concat(a.offset+a.limit),s).then((t=>{const{responseData:s,responseCode:e}=t.data;200==e&&null!==s&&void 0!==s&&s.products?setTimeout((()=>c({type:l.Kn,payload:{products:null===s||void 0===s?void 0:s.products,offset:a.offset+a.limit,hasProduct:0==(null===s||void 0===s?void 0:s.products.length)?0:1}})),2e3):c({type:l.FY,payload:!1})})).catch((t=>{c({type:l.FY,payload:!1}),console.log("error",t)}))}}}catch(t){}},j=t=>{const{brand:s}=d.A.getState().users;(new n).post(i.fS,{...t,model:"shopon",owner:s.owner,wall:s.wallId,website_id:s.id}).then((t=>{}))}},3433:()=>{},9337:()=>{}}]);
//# sourceMappingURL=584.b203d797.chunk.js.map