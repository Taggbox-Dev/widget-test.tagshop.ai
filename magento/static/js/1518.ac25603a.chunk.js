"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[1518,584],{34873:(t,e,a)=>{a.d(e,{Z:()=>l});var s=a(47313),o=(a(43635),a(2406),a(17739)),i=a(98501),n=a(46417);class l extends s.PureComponent{constructor(t){super(t),this.onLoad=t=>{1==t.target.getAttribute("data-load")&&this.setState({imgUrl:t.target.src,loadError:!1})},this.state={loadError:!1,paddingBottom:100,imgUrl:this.props.media}}componentWillReceiveProps(t){const{itemDetails:e}=t,{loadError:a}=this.state;a&&t!=this.props&&e&&Object.keys(e).length>0&&e.showCart&&this.setState({imgUrl:e.data.featured_image,loadError:!1})}render(){const{ImageClass:t,media:e,itemDetails:a}=this.props,{imgUrl:s,paddingBottom:l}=this.state,r={paddingBottom:"".concat(l,"%")};return(0,n.jsx)("div",{className:"".concat(t,"_wrap mediaHolder"),style:r,children:(0,n.jsx)("img",{className:t,role:"img",src:s,height:300,width:300,onLoad:this.onLoad,onError:t=>{this.setState({loadError:!0}),t.target.src=i.XW},alt:(0,o.P)(s)})})}}},11518:(t,e,a)=>{a.r(e),a.d(e,{default:()=>H});var s=a(47313),o=a(43411),i=a(35179),n=a(2406),l=a(98511),r=a(46417);const d=s.lazy((()=>Promise.all([a.e(6119),a.e(510),a.e(1774),a.e(472)]).then(a.bind(a,70472)))),c=s.lazy((()=>Promise.all([a.e(6119),a.e(1528)]).then(a.bind(a,91528)))),p=s.lazy((()=>Promise.all([a.e(510),a.e(6696)]).then(a.bind(a,36696)))),_=s.lazy((()=>Promise.all([a.e(9243),a.e(5063)]).then(a.bind(a,42870))));class h extends s.PureComponent{constructor(t){super(t),this.handleResize=()=>{this.setState({winSize:{width:window.innerWidth,height:window.innerHeight}},(()=>{const{mediaSize:t}=this.state;this.setSize(t.height,t.width)}))},this.setSize=(t,e)=>{const{hideContent:a}=this.props,{winSize:s}=this.state,o=Math.min((s.width-535)/e,(s.height-(90+(a?69:0)))/t),i={height:t*o,width:e*o,paddingBottom:100*t/e},n={winHeight:s.height,winWidth:s.width,height:i.height,width:i.width,paddingBottom:i.paddingBottom};this.props.allSizeCallback(n),this.setState({mediaSize:{height:i.height,width:i.width,paddingBottom:i.paddingBottom}})},this.onMediaLoad=async t=>{const e=!!t.mediaHeight&&parseInt(t.mediaHeight,10),a=!!t.mediaWidth&&parseInt(t.mediaWidth,10);if(e&&a)this.setSize(e,a);else{const e=document.querySelector(".track".concat(t.id)),a=e?parseInt(e.getAttribute("data-height"),10):0,o=e?parseInt(e.getAttribute("data-width"),10):0;if(o>0&&a>0)this.setSize(a,o);else try{const{width:e,height:a}=await(0,n.Ad)(t.postFileNew);this.setSize(a,e)}catch(s){this.setSize(1e3,1e3)}}},this.state={winSize:{width:window.innerWidth,height:window.innerHeight},mediaSize:{height:null,width:null,paddingBottom:null}}}static getDerivedStateFromProps(t,e){return t.data!==e.data?{...e,data:t.data}:null}componentDidMount(){const{data:t}=this.props;window.addEventListener("resize",this.handleResize),this.onMediaLoad(t)}componentDidUpdate(t){this.props.data!==t.data&&this.onMediaLoad(this.props.data)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}render(){const{data:t}=this.props,{winSize:e,mediaSize:a}=this.state,o={maxHeight:e.width>991?a.height:null,maxWidth:e.width>991?a.width:null,aspectRatio:"".concat(a.width," / ").concat(a.height),flexBasis:e.width>991?a.height:null},i={paddingBottom:"".concat(a.paddingBottom,"%"),width:e.width>991?a.width:null};return(0,r.jsxs)("div",{className:"tb_post_modal_media_holder",style:o,children:[null!==t&&void 0!==t&&t.postBranding?(0,r.jsx)(l.Z,{size:2}):null,(0,r.jsx)("div",{className:"tb_post_modal_media",style:i,children:(0,r.jsx)("div",{className:"tb_post_modal_media_",children:t.imageList&&t.imageList.length>0?(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)(r.Fragment,{}),children:(0,r.jsx)(d,{imageList:t.imageList,...this.props,mediaSize:a})}):2===t.type||4===t.type?(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)(r.Fragment,{}),children:(0,r.jsx)(c,{winSize:e,ImageUrl:t.filename,...this.props,mediaSize:a,opacity:1,hotspot:!0})}):3===t.type||5===t.type?t.isAudio?(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)(r.Fragment,{}),children:(0,r.jsx)(_,{...this.props})}):(0,r.jsxs)(s.Suspense,{fallback:(0,r.jsx)(r.Fragment,{}),children:[(0,r.jsx)(c,{winSize:e,ImageUrl:t.filename,...this.props,mediaSize:a,opacity:0}),(0,s.createElement)(p,{...this.props,key:t.id})]}):null})})]})}}var u=a(25810),m=a(17739),g=a(98935);class b extends s.PureComponent{constructor(t){super(t),this.state={picture:t.item.author.picture,isAuthorImagevalid:!0}}componentWillReceiveProps(t){const{item:e}=t;this.setState({picture:e.author.picture})}render(){const{item:t,ThemeRule:e,ownerId:a,Personalization:s}=this.props,o=t.author.picture&&String(t.author.picture).includes("author")?" ":t.author.picture.replace(/[ ]+/g,""),n="".concat(t.author.username&&t.author.username.length>0?"@":"").concat(t.author.username),l=!(i.ig&&!s.postAuthor||0==t.postAuthor||t.author.isInstaUser),d=0==t.timePost||t.author.isInstaUser,c=i.ig?!(!s.postTime||0==t.postAuthor||d):0!=t.postAuthor&&!d,p=i.ig?!(!s.postTime||d):!d;return(0,r.jsxs)("div",{className:"tb_post_modal_post_author",children:[(0,r.jsxs)("div",{className:"tb_post_modal_author_details",children:[l?(0,r.jsx)("div",{className:"tb_post_modal_author_media",style:{overflow:4==t.network.id?"visible":""},children:this.state.isAuthorImagevalid?(0,r.jsx)("img",{loading:"lazy",className:"tb_post_modal_author_media__",src:o&&String(o).includes("author.png")?" ":o.replace(/[ ]+/g,""),alt:(0,m.P)(o),width:45,height:45,onError:t=>{this.setState({isAuthorImagevalid:!1})}}):(0,r.jsx)(g.Z,{network:t.network,username:t.author.name,authorClass:"tb_post_modal_author_media__",errorPic:t.author.errorPic})}):null,(0,r.jsxs)("div",{className:"tb_post_modal_author_deatils",children:[l?(0,r.jsx)("div",{className:"tb_post_modal_author_wrap",children:(0,r.jsxs)("div",{className:"tb_post_modal_author_usrname",onClick:e=>t.link?window.open(t.link):null,children:[t.author.name," "]})}):null,(0,r.jsxs)("div",{className:"tb_post_modal_author_info",children:[l?(0,r.jsx)("div",{className:"tb_post_modal_author_handlename",children:n}):null,c?(0,r.jsx)("div",{className:"tb_post_modal_seprator_dot",children:(0,r.jsx)("div",{})}):null,p?(0,r.jsx)("span",{className:"tb_post_modal_post_time",children:(0,m.Sy)(t.createdAt)}):null]})]})]}),(0,r.jsx)("div",{className:"tb_post_modal_social_wrapper",onClick:e=>t.link?window.open((0,m.hd)(t.link),"_blank"):null,children:(0,r.jsx)(u.default,{network:t.network,networkClass:"tb_post_modal_social_ico tb__icon",font:e,ThemeRule:e,isDefault:1===e.iconType,isPopUp:!0})})]})}}var v=a(43635);class w extends s.PureComponent{constructor(){super(...arguments),this.onShareFacebooklink=t=>e=>{window.open(t,"_target");const{item:a,wall:s}=this.props;i.ZQ||(0,v.S5)({type:2,action:2,wall:s.Wall.id,feed:a.feedId,post:a.referenceId?a.referenceId:a.id,owner:s.Wall.owner}),(0,v.Fv)("Tagbox","popup_share_click","popup_share",s.Wall.id)},this.onTwitterClick=t=>{const{item:e,wall:a}=this.props;t&&(i.ZQ||(0,v.S5)({type:2,action:2,wall:a.Wall.id,feed:e.feedId,post:e.referenceId?e.referenceId:e.id,owner:a.Wall.owner}),(0,v.Fv)("Tagbox","popup_share_click","popup_share",a.Wall.id)),window.open(e.share.twitter,"_target")},this.linkedinShareCount=t=>e=>{const{item:a,wall:s}=this.props;i.ZQ||(0,v.S5)({type:2,action:2,wall:s.Wall.id,feed:a.feedId,post:a.referenceId?a.referenceId:a.id,owner:s.Wall.owner}),(0,v.Fv)("Tagbox","popup_share_click","popup_share",s.Wall.id),window.open(t,"_target")}}componentDidMount(){window.twttr&&window.twttr.ready((t=>{window.twttr.events.bind("tweet",this.onTwitterClick)})),window.twttr&&window.twttr.ready((t=>{window.twttr.events.bind("tweet",this.onTwitterClick)}))}componentWillReceiveProps(t){window.twttr&&window.twttr.ready((t=>{window.twttr.events.bind("tweet",this.onTwitterClick)})),window.twttr&&window.twttr.ready((t=>{window.twttr.events.bind("tweet",this.onTwitterClick)}))}render(){const{sharePostPopUP:t,item:e,color:a}=this.props,s={};return(0,r.jsxs)("div",{className:"tb_post_modal_post_footer_social_".concat(i.ZQ?" tb_post_modal_post_footer_social_te":"").concat(i.ZQ?" tb_post_modal_post_footer_social_ts":""),children:[(0,r.jsxs)("div",{className:"tb_post_modal_share_ico",children:[(0,r.jsx)("div",{className:"tb_post_modal_social_ico_list___",children:(0,r.jsx)("div",{onClick:this.onShareFacebooklink(e.share.facebook),children:(0,r.jsx)("div",{className:"tb_post_modal_share_button tb__icon tb-facebook",style:s,children:(0,r.jsx)("div",{})})})}),(0,r.jsx)("div",{className:"tb_post_modal_social_ico_list___",children:(0,r.jsx)("div",{className:"tb_post_modal_share_button tb__icon tb-twitter",onClick:this.onTwitterClick,style:s,children:(0,r.jsx)("div",{})})}),(0,r.jsx)("div",{className:"tb_post_modal_social_ico_list___",children:(0,r.jsx)("div",{className:"tb_post_modal_share_button tb__icon tb-linkedin",onClick:this.linkedinShareCount(e.share.linkedin),style:s,children:(0,r.jsx)("div",{})})}),i.Jx&&e.link?(0,r.jsx)("div",{className:"tb_post_modal_social_ico_list___",onClick:a=>t(e),children:(0,r.jsx)("div",{className:"tb_post_modal_share_button tb__icon tb-mail",style:s,children:" "})}):null,!i.ZQ&&e.link?(0,r.jsx)("div",{className:"tb_post_modal_social_ico_list___ tb_post_link__",onClick:t=>window.open(e.link,"_blank"),children:(0,r.jsx)("div",{className:"tb_post_modal_share_button tb__icon tb-link",style:s,children:" "})}):null]}),i.ZQ&&e.link?(0,r.jsxs)("div",{className:"tb_post_modal_view_link",onClick:t=>window.open((0,m.hd)(e.link),"_blank"),children:[(0,r.jsx)("div",{className:"tb_post_modal_view",style:s,children:e.network.name}),(0,r.jsx)("div",{className:"tb_post_network_ico tb__icon tb-share-square",style:s,children:" "})]}):null]})}}const x=(0,o.$j)((t=>{}),(t=>({sharePostPopUP:e=>t((0,v.K8)(e))})))(w);var y=a(16390);const j=t=>{let{network:e}=t;const a={3:{className:"tb_rating_ico__ tb__icon tb-default-star",color:"#1b74e4",fontSize:30},19:{className:"tb_rating_ico__ tb__icon tb-yelp-star",color:"#e00707",fontSize:30},23:{className:"tb_rating_ico__ tb__icon tb-default-star",color:"#ff385c",fontSize:30},28:i.ZQ?{className:"tb_rating_ico__ tb__icon tb-star",color:"#F8B90C",fontSize:30}:{className:"tb_rating_ico__ tb__icon tb-default-star",color:"#F8B90C",fontSize:30},29:i.ZQ?{className:"tb_rating_ico__ tb__icon tb-default-star",color:"#000",fontSize:30}:{className:"tb_rating_ico__ tb__icon tb-default-star",color:"#613983",fontSize:30},33:{className:"tb_rating_ico__ tb__icon tb-trustpilot",color:"#000",fontSize:30},35:{className:"tb_rating_ico__ tb__icon tb-star-fill",color:"#34E0A1",fontSize:30}},{className:s,color:o,fontSize:n}=a[e.id]||{className:"tb_rating_ico__ tb__icon tb-default-star",color:"#F8B90C",fontSize:30};return(0,r.jsx)("div",{className:s,style:{color:o,fontSize:n},"tb-network":e.id,children:(0,r.jsx)("div",{})})};class P extends s.PureComponent{render(){const{rating:t,network:e}=this.props;return(0,r.jsx)("div",{className:"tb__modal_rating__",children:t?[...Array(t)].map(((t,a)=>(0,r.jsx)(j,{network:e},a))):null})}}var k=a(30584);class f extends s.PureComponent{render(){const{contentTitle:t,item:e,Personalization:a,ThemeRule:s,allSize:o,isProduct:n,socialAction:l}=this.props,d=!n&&!i.ig&&o.winWidth>991?o.height-(l?90:0):null;let c=20==e.network.id?this.props.contentData:(0,m.Fx)(this.props.contentData);12==e.network.id&&(c=(0,y.ZP)(c));const p=a.textDecorate&&String(this.props.contentData).length>0?" tb_post_modal_text_decorate":"";return 47===a.widgetTheme&&(document.querySelector("html").style.overflow="auto"),(0,r.jsx)("div",{className:"tb_post_modal_post_wrapper",style:{maxHeight:1!=e.type?d:"100%"},children:(0,r.jsx)("div",{className:"tb_post_modal_post_wrap_in",children:(0,r.jsxs)("div",{className:"tb_post_modal_post_content",children:[null!=e.rating&&e.rating?(0,r.jsx)(P,{rating:e.rating,network:e.network}):null,(0,r.jsxs)("div",{className:"tb_post_modal_content tb-cTBfont-".concat(s.font_varient," ").concat(p),children:[t?(0,r.jsx)("div",{className:"tb_post_bold_txt",children:(0,y.ZP)(t)}):null,(0,r.jsx)(k.default,{data:e,content:c,Personalization:a})]})]})})},"content_".concat(e.id))}}var N=a(31881),S=a.n(N),C=a(60088),D=a(34873);class I extends s.Component{constructor(){super(...arguments),this.state={prdImgLoaded:!1,noImg:!1,itemDetails:{}},this.openUrl=t=>{const{wall:e}=this.props,a=e.ProductSetting.Button;var s=t;2==parseInt(a.newTab)?window.parent.location.href=s:window.open(s,"_blank")},this.tracking=(t,e)=>{var a,s;const{item:o}=this.props;(0,v.S5)({type:1,action:2,wall:null===t||void 0===t||null===(a=t.Wall)||void 0===a?void 0:a.id,product_id:e.id,post:o.referenceId,owner:null===t||void 0===t||null===(s=t.Wall)||void 0===s?void 0:s.owner,feed:o.feedId,currency:e.price_currency,price:e.product_discount>0?e.product_discount:e.product_price})}}componentDidMount(){const{item:t,wall:e}=this.props;t&&t.ugc_products&&t.ugc_products.length&&t.ugc_products.map((t=>{var a,s;let{itemDetails:o}=this.state;const i=t.UgcProduct.product_url;if(1==(null===e||void 0===e||null===(a=e.ProductSetting)||void 0===a||null===(s=a.Button)||void 0===s?void 0:s.pdp_target))o[t.id]={data:null,showCart:!1},this.setState({itemDetails:o});else if(i&&!String(i).includes(".html")){const a="magento"==t.UgcProduct.created_from||!1;(0,C.PC)(t.UgcProduct.product_url,a,{productId:t.UgcProduct.product_sku,storeId:t.UgcProduct.shopify_shop_id}).then((s=>{if(a&&0==s.status){var i;o[t.id]={data:{available:!0},showCart:140717!==(null===e||void 0===e||null===(i=e.Wall)||void 0===i?void 0:i.owner)}}else{var n,l;const i=a&&(null===s||void 0===s||null===(n=s.data)||void 0===n?void 0:n.data)||(null===s||void 0===s?void 0:s.data),r=a?{available:!0}:{};o[t.id]={data:null!==i&&void 0!==i&&i.id?{...i,...r}:null,showCart:140717!==(null===e||void 0===e||null===(l=e.Wall)||void 0===l?void 0:l.owner)}}this.setState({itemDetails:o})})).catch((e=>{o[t.id]={data:null,showCart:!1},this.setState({itemDetails:o})}))}}))}render(){const{item:t,ugc_products:e,wall:a,openCart:s}=this.props,{itemDetails:o}=this.state,i=a.ProductSetting,n=i.CatalogueTitle,l=i.Price,d=i.ProductTitle,c=i.Button;return(0,r.jsxs)("div",{className:"tb_pro__container",children:[(0,r.jsx)("div",{className:"tb_pro__heading tb-cTBfont-".concat(n.varient),children:(0,y.ZP)(n.text)}),(0,r.jsx)("div",{className:"tb_pro__wrap",children:e.map(((e,i)=>{var n,p,_,h,u,m;return(0,r.jsx)("div",{className:"tb_pro__item",children:(0,r.jsxs)("div",{className:"tb_pro__wrap_in",children:[(0,r.jsx)("div",{className:"tb_pro__img_wrapper",children:(0,r.jsx)(D.Z,{ImageClass:"tb_pro__image",media:e.UgcProduct.product_image,size:!1,itemDetails:o[e.id]?o[e.id]:null})}),e.UgcProduct.product_title?(0,r.jsx)("div",{className:"tb_pro__title tb-cTBfont-".concat(d.varient),children:(0,y.ZP)(e.UgcProduct.product_title)}):null,e.UgcProduct.product_price>0||e.UgcProduct.product_discount>0?(0,r.jsxs)("div",{className:"tb_pro__price_wrap",children:[(0,r.jsxs)("div",{className:"tb_pro__price tb-cTBfont-".concat(l.varient),children:[e.UgcProduct.price_currency_symbol,e.UgcProduct.product_discount>0?e.UgcProduct.product_discount:e.UgcProduct.product_price]}),e.UgcProduct.product_discount>0&&e.UgcProduct.product_discount!=e.UgcProduct.product_price?(0,r.jsxs)("div",{className:"tb_pro__discount_price tb-cTBfont-".concat(l.varient),children:[e.UgcProduct.price_currency_symbol,e.UgcProduct.product_price]}):null]}):null,o&&Object.keys(o).length>0&&o[e.id]&&o[e.id].showCart?(0,r.jsx)("div",{className:"tb_pro__link",children:(0,r.jsx)("div",{onClick:null!==(n=o[e.id])&&void 0!==n&&null!==(p=n.data)&&void 0!==p&&p.available?()=>s(e.id,e,o[e.id],t):null,className:"tb_pro__btn ".concat(null!==(_=o[e.id])&&void 0!==_&&null!==(h=_.data)&&void 0!==h&&h.available?"":"tb_pro_sold"," tb-cTBfont-").concat(c.varient),children:null!==(u=o[e.id])&&void 0!==u&&null!==(m=u.data)&&void 0!==m&&m.available?c.text:"Sold Out"})}):(0,r.jsx)("div",{className:"tb_pro__link",children:(0,r.jsx)("div",{onClick:()=>{this.openUrl(e.UgcProduct.product_url),this.tracking(a,e.UgcProduct)},className:"tb_pro__btn tb-cTBfont-".concat(c.varient),target:a&&a.User&&"102810"!=a.User.id?"_blank":"",children:c.text})})]})},i)}))})]})}}const z=I;var U=a(98501);function T(t){t.style.setProperty("visibility","visible","important"),t.style.setProperty("opacity","1","important"),t.style.setProperty("display","flex","important"),t.style.setProperty("transform","none","important"),t.style.setProperty("clip-path","initial","important"),t.style.setProperty("border","none","important")}class E extends s.PureComponent{render(){const{brandingNetworks:t,languageSetting:e,wallId:a,themeID:s}=this.props,o=i.ig||i.ZQ?"".concat(U.ZS):"".concat((0,m.$t)(t,a)[0]),n=i.ZQ?"tagembed-light.svg":i.ig?"tagshop-light.svg":"tagbox-light.svg?var=1";return(0,r.jsxs)("a",{href:o,target:"_blank",ref:t=>{t&&(t.style.setProperty("position","absolute","important"),t.style.setProperty("left","auto","important"),t.style.setProperty("right","0","important"),t.style.setProperty("bottom","-26px","important"),t.style.setProperty("align-items","center","important"),t.style.setProperty("padding-top","4px","important"),t.style.setProperty("display","flex","important"),t.style.setProperty("width","auto","important"),t.style.setProperty("text-decoration","none","important"),t.style.setProperty("direction","ltr","important"),T(t))},children:[(0,r.jsxs)("div",{ref:t=>{t&&(t.style.setProperty("font-size","13px","important"),t.style.setProperty("color","#fff","important"),t.style.setProperty("margin-right","5px","important"),t.style.setProperty("width","100%","important"),t.style.setProperty("height","auto","important"),t.style.setProperty("font-family","inherit","important"),T(t))},children:[Object.keys(e).length>0&&e.poweredBy?e.poweredBy:"Powered by"," "]}),(0,r.jsx)("div",{ref:t=>{t&&(t.style.setProperty("background-image","url(".concat(U.do,"/media/images/").concat(n,")"),"important"),t.style.setProperty("background-size","contain","important"),t.style.setProperty("background-position","left center","important"),t.style.setProperty("background-repeat","no-repeat","important"),t.style.setProperty("height","22px","important"),t.style.setProperty("min-height","22px","important"),t.style.setProperty("width","90px","important"),t.style.setProperty("min-width","90px","important"),T(t))}})]})}}var W=a(24556);class O extends s.Component{render(){var t,e;const{productDetails:a,closeAddtocart:s,productImg:o,tagshopProductDeatil:i,onBack:n,price_currency_symbol:l,product_discount:d,product_price:c,discount:p,productOption:_,quantity:h,selectedAddToCart:u}=this.props;return console.log("productDetails magento shop",this.props),(0,r.jsxs)("div",{className:"tb_cart_container",children:[(0,r.jsxs)("div",{className:"tb_cart_back_btn",onClick:n,children:[(0,r.jsx)("div",{className:"tb__icon tb-arrow-left",children:(0,r.jsx)("div",{})}),"Back"]}),(0,r.jsxs)("div",{className:"tb_cart_details",children:[(0,r.jsx)("div",{className:"tb_cart_p_img",children:(0,r.jsx)("img",{src:o,alt:"",onError:t=>t.target.src=U.O1,height:400,width:300})}),(0,r.jsxs)("div",{className:"tb_cart_p_details",children:[(0,r.jsxs)("div",{className:"tb_card_de_in",children:[(0,r.jsx)("div",{className:"tb_cart_p_title",children:(null===u||void 0===u?void 0:u.name)||(null===a||void 0===a?void 0:a.name)}),(0,r.jsxs)("div",{className:"tb_cart_pp_wrap",children:[(0,r.jsxs)("div",{className:"tb_cart_p_price",children:[l,(null===u||void 0===u?void 0:u.price)||(d>0?d:c)]}),0==(null===u||void 0===u?void 0:u.price)&&d>0&&d!=c?(0,r.jsxs)("div",{className:"tb_cart_p_dis",children:[l,c]}):null,p>0?(0,r.jsxs)("div",{className:"tb_cart_p_dp",children:["".concat(p,"%")," off"]}):null]}),(null===i||void 0===i||null===(t=i.UgcProduct)||void 0===t||null===(e=t.product_sku)||void 0===e?void 0:e.length)>1?(0,r.jsxs)("div",{className:"tb_cart_sku",children:["SKU : ",(null===u||void 0===u?void 0:u.sku)||i.UgcProduct.product_sku]}):null,h?(0,r.jsxs)("div",{className:"tb_cart_p_total",children:["Your cart now has ",h," item"]}):(0,r.jsx)(r.Fragment,{})]}),(0,r.jsxs)("div",{className:"tb_cart_actions tb_cart_c_action",children:[(0,r.jsx)("div",{className:"tb_cart_primary",onClick:()=>window.location.href="https://magento.taggshop.io/checkout/cart/",children:"Proceed to checkout"}),(0,r.jsx)("div",{className:"tb_cart_secondary",onClick:s,children:"Continue Shopping"})]})]})]})]})}}const M=O;var A=a(97529),B=a(47330);a(6940),a(5724),a(17294);class R extends s.Component{constructor(t){super(t),this.handleSelectChange=t=>{const{type:e,options:a}=this.props,s=t.target.value,o=a.filter((t=>t.value_index==s));(null===o||void 0===o?void 0:o.length)>0&&(this.setState({selectedValue:s}),this.props.onChange(s,o[0].label,e))},this.state={selectedValue:""}}render(){const{options:t}=this.props,{selectedValue:e}=this.state;return(0,r.jsx)("div",{children:(0,r.jsxs)("select",{id:"dropdown",value:e,onChange:this.handleSelectChange,children:[(0,r.jsx)("option",{value:"",disabled:!0,children:"Select an option"}),t.map(((t,e)=>(0,r.jsx)("option",{value:t.value_index,"data-label":t.label,children:t.label},e)))]})})}}const Z=R;async function F(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4?arguments[4]:void 0;const i="https://magento.taggshop.io/rest",n=s?"".concat(i,"/V1/carts/mine/items"):"".concat(i,"/V1/guest-carts/").concat(a,"/items"),l=s?{Authorization:"Bearer ".concat(s)}:{},r={cartItem:{sku:t,qty:e,quote_id:a}};try{const t=await S().post(n,r,{headers:l});console.log("Item added to cart:",t.data),async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["cart"],e=arguments.length>1?arguments[1]:void 0;const a=t.join(",");try{const t=await S().get("https://magento.taggshop.io/customer/section/load/",{params:{sections:a,force_new_section_timestamp:!0,_:Date.now()},withCredentials:!0});e(),console.log("Loaded sections data:",t.data)}catch(o){var s;console.error("Error loading sections:",(null===(s=o.response)||void 0===s?void 0:s.data)||o.message)}}(["cart","directory-data","messages"],o)}catch(c){var d;console.error("Error adding to cart:",(null===(d=c.response)||void 0===d?void 0:d.data)||c.message)}}class q extends s.Component{constructor(t){var e,a,s;super(t),this.updateQuantity=t=>e=>{this.setState((e=>({quantity:t?e.quantity+1:e.quantity>1?e.quantity-1:1})))},this.onAddToCart=()=>{try{var t;const{selectedVarientData:e}=this.state,{productDetails:a}=this.props;e&&Object.keys(e).length>0&&(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.attributes.length)==Object.keys(e).length?a&&Object.keys(a).length>0&&(this.setState({optionError:!1}),this.addProductsToCart()):this.setState({optionError:!0})}catch(e){console.log("error",e)}},this.codeCheck=async(t,e)=>{const{quantity:a}=this.state;F(t,a,await S().post("https://magento.taggshop.io/rest/V1/guest-carts").then((t=>t.data)),null,e)},this.addProductsToCart=()=>{const{wall:t,tagshopProductDeatil:e,productDetails:a}=this.props,{quantity:s,selectedAddToCart:o,selectedVarientData:i}=this.state,n=e.UgcProduct.product_url,l=btoa(n),r=function(t){const e=document.cookie.split("; ");for(let a of e){const[e,s]=a.split("=");if(e===t)return decodeURIComponent(s)}return null}("form_key");console.log("tagshopProductDeatil",e,o),this.codeCheck(null===o||void 0===o?void 0:o.sku,(()=>{this.setState({continueShopping:!0})}));const d="https://magento.taggshop.io/checkout/cart/add/uenc/".concat(l,"/product/").concat(e.UgcProduct.shopify_product_id,"/"),c=new FormData;c.append("product",e.UgcProduct.shopify_product_id),c.append("selected_configurable_option",""),c.append("related_product",""),c.append("item",e.UgcProduct.shopify_product_id),c.append("form_key",r),c.append("qty",s),console.log("selectedVarientData",i),i&&Object.keys(i).length>0&&Object.keys(i).map(((t,e)=>{const s=a.data.attributes.filter((e=>e.label==t));if(console.log("varientValue",s),s&&s.length>0&&s[0]&&s[0].values.length>0){const e=s[0].values.filter((e=>e.label==i[t]));console.log("varientId",e),e&&e.length>0&&c.append("super_attribute[".concat(s[0].id,"]"),e[0].value_index)}})),S().post(d,c,{headers:{"Content-Type":"multipart/form-data"}}).then((t=>{console.log("Response:",t.data)})).catch((t=>{console.error("Error:",t)}))},this.toggleExpand=t=>{const{isExpanded:e}=this.state;this.setState({isExpanded:!e})},this.handleDropdownChange=(t,e,a)=>{const{selectedVarientData:s}=this.state;s[a]=e,this.setState({selectedVarientData:s},(()=>this.onSelecteProduct()))},this.onSelecteProduct=()=>{var t;const{selectedVarientData:e}=this.state,{productDetails:a}=this.props;if(e&&Object.keys(e).length>0&&(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.attributes.length)==Object.keys(e).length){const t=Object.values(e),s=a.data.productVariants.filter((e=>t.every((t=>e.sku.includes(t)))));this.setState({selectedAddToCart:s[0]})}};const o=(null===t||void 0===t||null===(e=t.productDetails)||void 0===e||null===(a=e.data)||void 0===a||null===(s=a.description)||void 0===s?void 0:s.length)>=200;this.state={allSizes:null,allColors:null,selectedColor:null,selectedSize:null,availableSize:[],productImage:"",optionError:!1,continueShopping:!1,selectedVariant:null,productOption:[],isSoldOut:!1,quantity:1,isExpanded:!!o,isReadMore:o,variantImages:[],selectedVarientData:{},selectedAddToCart:{}}}render(){var t,e,a,s,o;const{closeCart:i,addtoCartPopup:n,productDetails:l,onSelectedVariant:d,productImg:c,tagshopProductDeatil:p,closePopUp:_}=this.props,{allColors:h,allSizes:u,selectedColor:g,availableSize:b,selectedSize:v,productImage:w,optionError:x,continueShopping:j,selectedVariant:P,productOption:k,isSoldOut:f,quantity:N,isExpanded:S,isReadMore:C,variantImages:D,selectedAddToCart:I}=this.state,{product_price:z,product_discount:T,price_currency_symbol:E,discount_currency_symbol:W,product_sku:O,product_title:R,product_image:F}=null===p||void 0===p?void 0:p.UgcProduct,q=T>0&&T!=z?((parseInt(z)-parseInt(T))/parseInt(z)*100).toFixed():0,L=S?(0,m.Sv)(l.data.description,200):l.data.description;return console.log("productDetails",this.props),(0,r.jsx)("div",{className:"tb_cart_modal tb_modal_show","aria-hidden":"true",children:(0,r.jsx)("div",{className:"tb_cart_modal_dialog",role:"document",children:(0,r.jsxs)("div",{className:"tb_cart_modal_content",children:[(0,r.jsx)("div",{className:"tb_c_close_btn",onClick:_,children:(0,r.jsx)("div",{className:"tb__icon tb-close-thin",children:(0,r.jsx)("div",{})})}),(0,r.jsx)("div",{className:"tb_cart_modal_body",children:j?(0,r.jsx)(M,{quantity:N,selectedAddToCart:I,productImg:c,productDetails:P,tagshopProductDeatil:p,closeAddtocart:i,onBack:t=>this.setState({continueShopping:!1}),price_currency_symbol:E,product_discount:T,product_price:z,discount:q,productOption:k}):(0,r.jsxs)("div",{className:"tb_cart_container",children:[(0,r.jsxs)("div",{className:"tb_cart_back_btn",onClick:i,children:[(0,r.jsx)("div",{className:"tb__icon tb-arrow-left",children:(0,r.jsx)("div",{})}),"Back"]}),(0,r.jsxs)("div",{className:"tb_cart_details",children:[(0,r.jsx)("div",{className:"tb_cart_p_img",children:(0,r.jsx)(A.tq,{autoHeight:!0,pagination:{clickable:!0},modules:[B.tl],className:"tb_cart_slider",children:(0,r.jsx)(A.o5,{children:(0,r.jsx)("img",{src:c||U.O1,onError:t=>this.setState({productImage:U.O1}),height:400,width:300,alt:""})})})}),(0,r.jsxs)("div",{className:"tb_cart_p_details",children:[(0,r.jsxs)("div",{className:"tb_card_de_in",children:[(0,r.jsxs)("div",{className:"tb_cart_p_info",children:[(0,r.jsx)("div",{className:"tb_cart_p_title",children:R}),(0,r.jsxs)("div",{className:"tb_cart_pp_wrap",children:[(0,r.jsxs)("div",{className:"tb_cart_p_price",children:[E,T>0?T:z]}),T>0&&T!=z?(0,r.jsxs)("div",{className:"tb_cart_p_dis",children:[E,z]}):null,q>0?(0,r.jsxs)("div",{className:"tb_cart_p_dp",children:["".concat(q,"%")," off"]}):null]}),(null===p||void 0===p||null===(t=p.UgcProduct)||void 0===t||null===(e=t.product_sku)||void 0===e?void 0:e.length)>1?(0,r.jsxs)("div",{className:"tb_cart_sku",children:["SKU : ",p.UgcProduct.product_sku]}):null,(null===l||void 0===l||null===(a=l.data)||void 0===a||null===(s=a.inventory_quantity)||void 0===s?void 0:s.length)<=4?(0,r.jsxs)("div",{className:"tb_cart_s_l",children:["Only ",null===l||void 0===l||null===(o=l.data)||void 0===o?void 0:o.inventory_quantity," left in stock"]}):null,l.data.available?null:(0,r.jsx)("div",{className:"tb_cart_ofs",children:"Out of Stock"}),l.data.description?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"tb_cart_p",children:[(0,y.ZP)(L)," "]}),C?(0,r.jsx)("div",{className:"tb_cart_read_more_",onClick:this.toggleExpand,children:S?"Read More...":"Show Less..."}):null]}):null,l.data.vendor?(0,r.jsxs)("div",{className:"tb_cart_s_v",children:[(0,r.jsx)("div",{className:"tb_cart_s_vt",children:"Vendor: "}),l.data.vendor]}):null]}),(0,r.jsxs)("div",{className:"tb_cart_var_",children:[null!==l&&void 0!==l&&l.data&&Object.keys(l.data).length>0?(0,r.jsx)(r.Fragment,{children:l.data.attributes.map(((t,e)=>(0,r.jsxs)("div",{className:"tb_cart_size",children:[(0,r.jsxs)("div",{className:"tb_cart_s_label",children:[t.label," ",(0,r.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,r.jsx)(Z,{options:t.values,type:t.label,onChange:this.handleDropdownChange})]},e)))}):null,k&&k.length>0?(0,r.jsx)(r.Fragment,{children:k.map(((t,e)=>(0,r.jsxs)("div",{className:"tb_cart_size",children:[(0,r.jsxs)("div",{className:"tb_cart_s_label",children:[t.key,":"]}),t.value.map(((a,s)=>{const o=this.getCurrentVarient(a),i=t.availableVarient.includes(a),n=t.selected==a;return(0,r.jsx)(r.Fragment,{children:String(t.key).toLowerCase().includes("size")||String(t.key).toLowerCase().includes("color")&&!t.isMediaShow||null==o?(0,r.jsx)("div",{className:"tb_cart_s_btn".concat(n?" tb_active":"").concat(i?"":" tb_disabled"),onClick:this.onClickSelectVarient(e,a,!1),children:a},s):(0,r.jsx)("div",{className:"tb_cart_color".concat(n?" tb_active":"").concat(i?"":" "),onClick:this.onClickSelectVarient(e,a,!0),children:(0,r.jsx)("div",{className:"tb_cart_colorTile",children:(0,r.jsx)("img",{src:o,style:{height:"100%",width:"100%"},onError:t=>t.target.src=U.O1})})},s)})}))]},e)))}):null]}),(0,r.jsx)("div",{className:"tb_cart_s_label",children:"Quantity:"}),(0,r.jsxs)("div",{className:"tb__qu",children:[(0,r.jsx)("div",{className:"tb_qu_btn".concat(N<=1?" tb_disabled":""),onClick:this.updateQuantity(!1),children:"-"}),(0,r.jsx)("div",{className:"tb_qu_input",children:N}),(0,r.jsx)("div",{className:"tb_qu_btn".concat(N>=100?" tb_disabled":""),onClick:this.updateQuantity(!0),children:"+"})]}),x?(0,r.jsx)("div",{className:"tb_cart_p_error",children:"Please select variant to proceed!"}):(0,r.jsx)(r.Fragment,{})]}),(0,r.jsxs)("div",{className:"tb_cart_actions",children:[(0,r.jsx)("div",{className:"tb_cart_secondary",onClick:i,children:"Cancel"}),(0,r.jsx)("div",{className:"tb_cart_primary",style:f?{pointerEvents:"none",opacity:.4}:{},onClick:this.onAddToCart,children:"ADD TO CART"})]})]})]})]})})]})})})}}const L=q;class V extends s.PureComponent{constructor(){super(...arguments),this.state={isEnable:0,eventData:{},shareText:"SHARE",viewOnText:"View on",currentIndex:null,completeData:{},personalization:{},url:null,imgData:[],type:"",parentID:"",isRepeatingPost:!1,allSize:{winHeight:null,winWidth:null,height:null,width:null,paddingBottom:null},addtoCartPopup:!1,productImg:""},this.keyboardEvent=t=>{let e=this.state.currentIndex;39==t.keyCode||40==t.keyCode?(e+=1,this.featuredPopSliderChangeIndex(e)(t)):37==t.keyCode||38==t.keyCode?(e-=1,this.featuredPopSliderChangeIndex(e)(t)):27==t.keyCode&&this.closeWidgetPopUP()},this.onCloseModal=()=>{var t=document.querySelector("#tb_post_modal_modal-".concat(this.state.parentID));t&&t.classList.contains("tb_post_modal_show")&&(t.classList.remove("tb_post_modal_show"),this.setState({isEnable:0,currentIndex:null,type:"",addtoCartPopup:!1,selectedProdDetails:null},this.props.closePopUP()));var e=document.getElementsByTagName("html");e&&e[0]&&(e[0].style.overflow="")},this.closeWidgetPopUP=t=>this.onCloseModal(),this.getWidgetPopUPEvent=t=>{void 0!==t&&""!=t&&t.card&&("post"==t.type?this.setState({url:"",isEnable:1,eventData:t,currentIndex:t.index,completeData:t.idArray,viewOnText:t.viewOnText,shareText:t.shareText,imgData:t.imgData,personalization:t.personalization,type:t.type}):"submit-pic"==t.type&&this.setState({isEnable:1,type:t.type,windowParent:t}))},this.featuredPopSliderChangeIndex=t=>e=>{const{eventData:a,isRepeatingPost:s}=this.state;if(a.idArray.length-1!=t&&t!==a.idArray.length||s){let e;e=t===a.idArray.length-1||t===a.idArray.length?0:-1===t?a.idArray.length-1:t,this.setState({currentIndex:e,isRepeatingPost:!1},(()=>this.onPopUpTrack()))}else this.loadMore()},this.onPopUpTrack=()=>{try{const{wall:t}=this.props,{currentIndex:e,completeData:a,eventData:s}=this.state;let o=null;o=-1===e?a[s.idArray.length-1]:a[e];const n={feed:o.feedId,post:o.referenceId?o.referenceId:o.id},l={wallId:t.Wall.id,userId:t.Wall.owner,feedId:o.feedId,postId:o.id},r={action:2,wall:t.Wall.id,feed:o.feedId,post:o.referenceId?o.referenceId:o.id,type:3,owner:t.Wall.owner};(0,v.S5)(i.ZQ?l:i.nX?r:{action:2,wall:t.Wall.id,...n,owner:t.Wall.owner})}catch(t){console.log("Error in PopUp Tracking",t)}},this.loadMore=()=>{const{wall:t,postData:e,postHeight:a}=this.props,{eventData:s,currentIndex:o}=this.state,i=!(e.hasMoreData&&Object.keys(e.hasMoreData).length>0)||(!e.hasMoreData[0]||0!=e.hasMoreData[0].hasMoreData)&&(!e.hasMoreData[e.appendData.networkID]||e.hasMoreData[e.appendData.networkID].hasMoreData);if(s.idArray.length-1==o&&this.setState({isRepeatingPost:!0}),i){const s=t.ThemeRule.numberOfPosts,o=Math.floor(Date.now()/1e3);this.props.managePostHeight(a),this.props.getDataNextSteps(t.Wall.id,o,s,e.appendData.networkID,e.appendData.after,e.appendData.heightEvent)}else this.setState({currentIndex:0})},this.popUpCloseClckOnWindow=()=>{document.addEventListener("click",(t=>{t.target.matches("#tb_post_modal_modal-".concat(this.state.parentID))&&this.onCloseModal()}))},this.allSize=t=>{this.setState({allSize:{winHeight:t.winHeight,winWidth:t.winWidth,height:t.height,width:t.width,paddingBottom:100*t.height/t.width}})},this.onClickOpenCart=(t,e,a,s)=>{const{wall:o}=this.props,i={type:1,action:2,wall:o.Wall.id,feed:s.feedId,post:s.referenceId?s.referenceId:s.id,owner:o.Wall.owner,product_id:e.UgcProduct.id,currency:e.UgcProduct.price_currency,price:e.UgcProduct.product_discount>0?e.UgcProduct.product_discount:e.UgcProduct.product_price};this.setState({addtoCartPopup:!0,selectedProdDetails:a,tagProdDetail:{...e,trackingData:i},pId:t,productImg:e.UgcProduct.product_image})},this.closeCart=t=>{this.setState({addtoCartPopup:!1,selectedProdDetails:null},(()=>{var t=document.querySelector("#tb_post_modal_modal-".concat(this.state.parentID));t&&t.classList.add("tb_post_modal_show")}))}}componentDidMount(){const{data:t}=this.props;let e=document.querySelector(".tb_app_container"),a=m.b8?m.b8:e.parentNode.id;this.setState({parentID:a}),this.getWidgetPopUPEvent(t),setTimeout((()=>{var t=document.querySelector("#tb_post_modal_modal-".concat(this.state.parentID));t&&t.classList.add("tb_post_modal_show")}));var s=document.getElementsByTagName("html");s&&s[0]&&(s[0].style.overflow="hidden"),this.popUpCloseClckOnWindow(),window.addEventListener&&window.addEventListener("keydown",this.keyboardEvent)}componentWillUnmount(){window.removeEventListener("keydown",this.keyboardEvent)}componentDidUpdate(){const t=this;let e=0;if(window.editor){let a=document.getElementById("tb_post_modal_modal-taggbox_main"),s=document.querySelector(".tb_post_modal_conetent"),o=document.querySelector(".tb_post_modal_nxt_btn"),i=document.querySelector(".tb_post_modal_prev_btn");a&&(s&&(s.onclick=()=>e=1),o&&(o.onclick=()=>e=1),i&&(i.onclick=()=>e=1),a.onclick=()=>{0==e&&t.onCloseModal(),e=0})}}componentWillReceiveProps(t){const{postData:e}=t;let{completeData:a,eventData:s}=this.state;if(a.length!=e.postData.length){let t=e.postData.map((t=>e.completeDataObject[t])).filter((t=>!String(t.id).includes("free_add_")));s.idArray=t,this.setState({completeData:t,eventData:s},(()=>{const{currentIndex:t}=this.state;this.setState({currentIndex:t+1},(()=>this.onPopUpTrack()))}))}else{!(e.hasMoreData&&Object.keys(e.hasMoreData).length>0)||(!e.hasMoreData[0]||0!=e.hasMoreData[0].hasMoreData)&&(!e.hasMoreData[e.appendData.networkID]||e.hasMoreData[e.appendData.networkID].hasMoreData)}}render(){var t;const{wall:e,reportMediaPopUp:a,languageSetting:s,brandingNetworks:o,postData:n}=this.props,{currentIndex:l,completeData:d,eventData:c,parentID:p,allSize:_,addtoCartPopup:u,productImg:m,selectedProdDetails:g,tagProdDetail:v}=this.state;let w=null;w=-1===l?d[c.idArray.length-1]:d[l];const y=1==e.Personalization.popupSlideShow,j=i.ig?1==e.ThemeRule.popupContent?0:1:e.ThemeRule.hideContent,P=!!(w&&p&&Object.keys(w).length>0&&1==j&&1!=w.type),k=!!(w&&p&&Object.keys(w).length>0&&w.ugc_products&&w.ugc_products.length>0),N=!!(e.ThemeRule.socialAction&&i.ig||!i.ig),S=i.ig&&k?" tb_post_modal_ts_p":"",C=i.ig?" tb_post_modal_ts_":"",D=i.ZQ?" tb_post_modal_te_":"",I="".concat(D).concat(C).concat(S),U={maxHeight:k&&i.ig&&_.winWidth>991?_.height-(N?45:0):null};return w&&p&&Object.keys(w).length>0?u?"magento"==(null===v||void 0===v||null===(t=v.UgcProduct)||void 0===t?void 0:t.created_from)?(0,r.jsx)(L,{productImg:m,addtoCartPopup:u,productDetails:g,tagshopProductDeatil:v,closeCart:this.closeCart,onAddToCart:()=>this.setState({continueShopping:!0}),onSelectedVariant:t=>this.setState({selectedVariant:t}),wall:e,closePopUp:this.props.closePopUP}):(0,r.jsx)(W.Z,{productImg:m,addtoCartPopup:u,productDetails:g,tagshopProductDeatil:v,closeCart:this.closeCart,onAddToCart:()=>this.setState({continueShopping:!0}),onSelectedVariant:t=>this.setState({selectedVariant:t}),wall:e,closePopUp:this.props.closePopUP}):(0,r.jsx)("div",{className:"tb_post_modal_modal",id:"tb_post_modal_modal-".concat(p),children:(0,r.jsx)("div",{className:"tb_post_modal_modal_dialog".concat(P&&!k?" tb_only_media_modal":""," ").concat(N?" tb_post_modal_modal_full":"").concat(I),children:(0,r.jsxs)("div",{className:"tb_post_modal_conetent",children:[(0,r.jsxs)("div",{className:"tb_post_modal_modal_head",children:[(0,r.jsxs)("div",{className:"tb_post_modal_modal_header",children:[(0,r.jsx)("div",{className:"tb_post_modal_post_link_small",children:(0,r.jsx)("div",{className:"tb_post_modal_post_address",children:w.link?(0,r.jsxs)("div",{className:"tb_post_modal_view_link",onClick:t=>window.open(w.link,"_blank"),children:[(0,r.jsxs)("div",{className:"tb_post_modal_view",children:[s.viewOnText," ",w.network.name]}),(0,r.jsx)("div",{className:"tb_post_view_ico tb__icon tb-arrow-right-alt",children:" "})]}):null})}),(0,r.jsx)("div",{className:"tb_post_modal_close_wrap",children:(0,r.jsx)("div",{className:"tb_post_modal_close_btn",onClick:this.closeWidgetPopUP,children:(0,r.jsx)("div",{className:"tb_post_close_ico tb__icon tb-close-alt",children:" "})})})]}),y?(0,r.jsxs)("div",{className:"tb_post_modal_navigation tb_post_modal_nav_content ".concat(1===w.type?"tb_post_modal_text_nav__":""),children:[(0,r.jsx)("div",{className:"tb_post_modal_nav tb_post_modal_prev_btn",onClick:this.featuredPopSliderChangeIndex(l-1),children:(0,r.jsx)("div",{className:"tb_post_nav tb__icon tb-arrow-left-alt",children:" "})}),(0,r.jsx)("div",{className:"tb_post_modal_nav tb_post_modal_nxt_btn",onClick:this.featuredPopSliderChangeIndex(l+1),children:(0,r.jsx)("div",{className:"tb_post_nav tb__icon tb-arrow-right-alt",children:" "})})]}):null]}),(0,r.jsx)("div",{className:"tb_post_modal_body_container",children:(0,r.jsxs)("div",{className:"tb_post_modal_modal_body",children:[1!=w.type?(0,r.jsxs)("div",{className:"tb_post_modal_details_left",children:[y?(0,r.jsxs)("div",{className:"tb_post_modal_navigation tb_post_modal_nav_img",children:[(0,r.jsx)("div",{className:"tb_post_modal_nav tb_post_modal_prev_btn",onClick:this.featuredPopSliderChangeIndex(l-1),children:(0,r.jsx)("div",{className:"tb_post_nav tb__icon tb-arrow-left-alt",children:" "})}),(0,r.jsx)("div",{className:"tb_post_modal_nav tb_post_modal_nxt_btn",onClick:this.featuredPopSliderChangeIndex(l+1),children:(0,r.jsx)("div",{className:"tb_post_nav tb__icon tb-arrow-right-alt",children:" "})})]}):null,(0,r.jsx)(h,{data:w,wall:e,allSizeCallback:this.allSize,hideContent:P&&!k})]}):null,(0,r.jsx)("div",{className:"tb_post_modal_details_right".concat(1===w.type?" tb_post_modal_text__":""),children:(0,r.jsxs)("div",{className:"tb_post_modal_content_wrap",children:[(0,r.jsx)("div",{className:"tb_post_modal_content_in",style:U,children:(0,r.jsxs)("div",{className:"tb_post_modal_post_detail_wrap",children:[k?(0,r.jsx)(z,{item:w,wall:e,personalization:e.Personalization,ugc_products:w.ugc_products,openCart:this.onClickOpenCart},"product_".concat(w.id)):null,(0,r.jsx)(b,{item:w,ThemeRule:e.ThemeRule,Personalization:e.Personalization,ownerId:e.Wall.owner},"author_".concat(w.id)),P?null:(0,r.jsx)(f,{ThemeRule:e.ThemeRule,Personalization:e.Personalization,item:w,contentData:w.content,contentTitle:w.contentTitle,allSize:_,isProduct:k,socialAction:N},w.id)]})}),N?(0,r.jsxs)("div",{className:"tb_post_modal_post_footer",children:[i.Jx?(0,r.jsx)("div",{className:"tb_post_modal_post_footer_report",children:(0,r.jsx)("div",{className:"tb_post_modal_post_report_media_btn_wrap__",onClick:t=>a(w),children:(0,r.jsx)("div",{className:"tb_post_modal_post_report_media_btn__",children:"Report"})})}):null,e.ThemeRule.socialAction||i.Jx||i.ZQ?(0,r.jsx)(x,{item:w,wall:e,languageSetting:s}):null]}):null]})}),e.UserRule.branding_lite&&1==e.UserRule.branding_lite||n.isFreeAdsStatus?(0,r.jsx)(E,{brandingNetworks:o,languageSetting:s,wallId:e.Wall.id,themeID:e.Personalization.widgetTheme}):null]})})]})})}):null}}const H=(0,o.$j)((t=>({loaderData:t.loaderData,postHeight:t.postHeight.data})),(t=>({closePopUP:e=>t((0,v.zj)(e)),reportMediaPopUp:e=>t((0,v.SD)(e)),managePostHeight:e=>t((0,v.B0)(e)),getDataNextSteps:(e,a,s,o,i,n,l)=>t((0,v.Sx)(e,a,s,o,i,n,l))})))(V)},98935:(t,e,a)=>{a.d(e,{Z:()=>n});var s=a(47313),o=a(46417);const i=t=>{let{username:e,network:a,authorClass:s,errorPic:i}=t;const n="#ffffff"==a.color?"#000":a.color;return(0,o.jsx)("img",{className:"".concat(s,"__"),src:i||"https://ui-avatars.com/api/?name=".concat(e.replace(/\s/g,""),"&background=").concat(String(null===a.id?"#000":n).replace("#",""),"&color=fff&length=1"),alt:e,width:45,height:45})},n=(0,s.memo)(i)},98511:(t,e,a)=>{a.d(e,{Z:()=>n});var s=a(98501),o=a(17739),i=a(46417);const n=t=>{let{size:e}=t;const a=t=>!(!(0,o.mD)(t)||1!=e);return(0,i.jsx)("div",{ref:t=>{t&&(t.style.setProperty("opacity","0.8","important"),t.style.setProperty("display","flex","important"),t.style.setProperty("width","".concat(2==e?"110px":"75px"),"important"),t.style.setProperty("height","".concat(2==e?"25px":"18px"),"important"),t.style.setProperty("max-width","".concat(2==e?"110px":"75px"),"important"),t.style.setProperty("max-height","".concat(2==e?"25px":"18px"),"important"),t.style.setProperty("top","".concat(a(55)||a(62)||a(61)?"auto":"14px"),"important"),t.style.setProperty("left","".concat(a(62)||a(61)?"auto":"14px"),"important"),t.style.setProperty("right","".concat(a(55)||a(62)||a(61)?"14px":"auto"),"important"),t.style.setProperty("bottom","".concat(a(55)||a(62)||a(61)?"14px":"auto"),"important"),t.style.setProperty("margin","0 auto","important"),t.style.setProperty("position","absolute","important"),t.style.setProperty("visibility","visible","important"),t.style.setProperty("z-index","3","important"),t.style.setProperty("background-image","url(".concat(s.do,"/media/images/tagshop-light.svg)"),"important"),t.style.setProperty("background-repeat","no-repeat","important"),t.style.setProperty("background-size","contain","important"),t.style.setProperty("clip-path","initial","important"))},children:(0,i.jsx)("div",{children:" "})})}},25810:(t,e,a)=>{a.r(e),a.d(e,{default:()=>l});var s=a(47313),o=a(35179),i=a(46417);const n=s.lazy((()=>a.e(5867).then(a.bind(a,95867))));class l extends s.PureComponent{render(){const{network:t,networkClass:e,ThemeRule:a,isDefault:l,Personalization:r}=this.props,d=!!l&&(7!==t.id&&4!==t.id&&36!==t.id),c=o.ZQ&&36==t.id?"tagembed":t.icon;return d?(0,i.jsx)("div",{className:"".concat(e," tb__icon tb-").concat(c.replace(/fa-/g,"")),children:(0,i.jsx)("div",{})}):(0,i.jsxs)(s.Suspense,{fallback:(0,i.jsx)(i.Fragment,{}),children:[" ",(0,i.jsx)(n,{network:t,networkClass:e})]})}}},30584:(t,e,a)=>{a.r(e),a.d(e,{default:()=>c});var s=a(47313),o=a(91523),i=a(16390),n=a(46417);const l=a(77560),r=t=>(0,n.jsx)(o.default,{children:(0,i.ZP)(t)}),d=t=>{let{data:e,content:a,Personalization:s}=t;const o={color:s.hashtag_color,fontWeight:"bold",backgroundColor:1==s.hashtag_background_status?s.hashtag_background_color:"transparent"};return 20==e.network.id&&window.slackdown?(0,n.jsx)(n.Fragment,{children:1===s.hashtag_highlight&&0===s.hashtag_feed&&0===s.hashtag_all?(0,i.ZP)(a):1===s.hashtag_highlight&&0===s.hashtag_feed&&1===s.hashtag_all?r(window.slackdown.parse(l(a,/#(\w+)/g,((t,e)=>(0,n.jsxs)("div",{className:"tb_text_hashtag",style:o,children:["#",t]}))),e.slackMember)):1===s.hashtag_highlight&&1===s.hashtag_feed&&0===s.hashtag_all?r(window.slackdown.parse(l(a,e.hash.hashString,((t,e)=>(0,n.jsx)("div",{className:"tb_text_hashtag",style:o,children:t}))),e.slackMember)):1===s.hashtag_highlight&&1===s.hashtag_feed&&1===s.hashtag_all?r(window.slackdown.parse(l(a,/#(\w+)/g,((t,a)=>(0,n.jsxs)("div",{className:"tb_text_hashtag",style:o,children:["#",t]},"".concat(e.id,"_").concat(a)))),e.slackMember)):r(window.slackdown.parse(a,e.slackMember))}):(0,n.jsx)(n.Fragment,{children:1===s.hashtag_highlight&&0===s.hashtag_feed&&0===s.hashtag_all?(0,i.ZP)(a):1===s.hashtag_highlight&&0===s.hashtag_feed&&1===s.hashtag_all?l((0,i.ZP)(a),/#(\w+)/g,((t,e)=>(0,n.jsxs)("div",{className:"tb_text_hashtag",style:o,children:["#",t]}))):1===s.hashtag_highlight&&1===s.hashtag_feed&&0===s.hashtag_all?l((0,i.ZP)(a),e.hash.hashString,((t,e)=>(0,n.jsx)("div",{className:"tb_text_hashtag",style:o,children:t}))):1===s.hashtag_highlight&&1===s.hashtag_feed&&1===s.hashtag_all?l((0,i.ZP)(a),/#(\w+)/g,((t,a)=>(0,n.jsxs)("div",{className:"tb_text_hashtag",style:o,children:["#",t]},"".concat(e.id,"_").concat(a)))):(0,i.ZP)(a)})},c=(0,s.memo)(d)},2406:(t,e,a)=>{e.Ad=void 0;var s=a(84228);var o=a(65786);Object.defineProperty(e,"Ad",{enumerable:!0,get:function(){return o.getImageSize}});var i=a(22537)},84228:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorMessage=void 0,e.ErrorMessage={WINDOW_IS_NOT_DEFINED:"Window is not defined",URL_IS_NOT_DEFINED:"Url is not defined",TIMEOUT:"Timeout"}},65786:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getImageSize=void 0;const s=a(84228);e.getImageSize=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((a,o)=>{if("undefined"===typeof window)return o(s.ErrorMessage.WINDOW_IS_NOT_DEFINED);if(!t)return o(s.ErrorMessage.URL_IS_NOT_DEFINED);let i=null;const n=new Image;n.addEventListener("load",(()=>{i&&window.clearTimeout(i),a({width:n.naturalWidth,height:n.naturalHeight})})),n.addEventListener("error",(t=>{i&&window.clearTimeout(i),o("".concat(t.type,": ").concat(t.message))})),n.src=t,e.timeout&&(i=window.setTimeout((()=>o(s.ErrorMessage.TIMEOUT)),e.timeout))}))}},22537:function(t,e,a){var s=this&&this.__awaiter||function(t,e,a,s){return new(a||(a=Promise))((function(o,i){function n(t){try{r(s.next(t))}catch(e){i(e)}}function l(t){try{r(s.throw(t))}catch(e){i(e)}}function r(t){var e;t.done?o(t.value):(e=t.value,e instanceof a?e:new a((function(t){t(e)}))).then(n,l)}r((s=s.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.useImageSize=void 0;const o=a(47313),i=a(65786);e.useImageSize=(t,e)=>{const[a,n]=(0,o.useState)(null),[l,r]=(0,o.useState)(!1),[d,c]=(0,o.useState)(null);return(0,o.useEffect)((()=>{s(void 0,void 0,void 0,(function*(){r(!0),n(null);try{const{width:a,height:s}=yield(0,i.getImageSize)(t,e);n({width:a,height:s})}catch(d){c(d.toString())}finally{r(!1)}}))}),[t,e]),[a,{loading:l,error:d}]}},5724:()=>{}}]);